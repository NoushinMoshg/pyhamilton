// {{{ 2 "IncludeGuard" "PragmaOnce"
#pragma once
// }} ""
#include "HSLStrLib.hsl"
#include "HSLSeqLib.hsl"
#include "STAR Tools\\Resources\\SubMethods\\Firmware Pipetting Commands.hs_"
#include "HSL_MethodHelper.hsl"
#include "HSLDeckVisualize.hsl"
#include "HSLUtilLib2.hsl"
#include "STAR Tools\\Resources\\SubMethods\\HelperLibrary.hs_"
#include "HSLUtilLib.hsl"
#include "HSLMthLib.hsl"
#include "SMT\\MLSTARLiquidClassLib.hsl"
#include "HSLStatistics.hsl"
#include "HSLErrLib.hsl"
#include "HSLMlStarStepReturnLib.hsl"
#include "HSLDevLib.hsl"
#include "STAR Tools\\Resources\\SubMethods\\Liquid Level Check.hs_"
#include "STAR Tools\\Resources\\SubMethods\\FW_HelperLibrary.hs_"
#include "HSLLabwareStateLib.hsl"
#include "HSLExtensions\\String.hsl"
#include "STAR Tools\\Resources\\SubMethods\\STAR Channel Movement Tools.hs_"
#include "STAR Tools\\Resources\\SubMethods\\VANTAGE Channel Movement Tools.hs_"
#include "HSLVectorDbTracking.hsl"
/* {{ 2 "LibraryInsertLine" "" */ // }} ""
// {{ 2 "TemplateIncludeBlock" ""
#include "HSLMETEDLib.hs_"
#include "HSLMECCLib.hs_"
// }} ""
// {{{ 2 "LibraryNamespace" "Begin"
namespace SPT {
// }} ""
variable T_PIP_TOOLS_LIQUID_CLASS_INIT;
variable T_PIP_TOOLS_LIQUID_CLASS;
variable T_PIP_TOOLS_ASP_CLOT_RETRACT;
variable T_PIP_TOOLS_ASP_AIR_TRANSPORT;
variable T_PIP_TOOLS_DISP_SETTLING;
variable T_PIP_TOOLS_DISP_AIR_TRANSPORT;
variable T_PIP_TOOLS_DISP_STOP_FLOW;
variable T_PIP_TOOLS_ASP_BLOWOUT;
variable T_PIP_TOOLS_DISP_BLOWOUT;
variable T_PIP_TOOLS_DISP_SWAP;
variable T_PIP_TOOLS_ASP_MIX_FLOW_RATE;
variable T_PIP_TOOLS_ASP_FLOW_RATE;
variable T_PIP_TOOLS_DISP_MIX_FLOW_RATE;
variable T_PIP_TOOLS_ASP_OVERASPIRATE;
variable T_PIP_TOOLS_DISP_STOP_BACK;
variable T_PIP_TOOLS_ASP_SWAP;
variable T_PIP_TOOLS_DISP_FLOW_RATE;
variable T_PIP_TOOLS_ASP_SETTLING;
variable T_PIP_TOOLS_MAX_VOLUME;
variable T_PIP_TOOLS_ARR_CORRECTION_X[];
variable T_PIP_TOOLS_ARR_CORRECTION_Y[];
variable T_PIP_TOOLS_DISPENSE_MODE;
/* {{ 2 "VariableInsertLine" "" */ // }} ""
// {{{ 2 "SubmethodForwardDeclaration" ""
function MPH_AspirateFromFixedHeight( device & ML_STAR, sequence i_seq_AspirationPositions, variable i_flt_AspHeight, variable i_int_End_Position, variable i_bln_UseLiquidFollowing, variable i_str_LiquidClass, variable i_flt_AspirationVolume, variable i_flt_PullOutDistance ) void ;
function MPH_DispenseToFixedHeight( device & ML_STAR, sequence i_seq_DispensePositions, variable i_flt_DispenseHeight, variable i_int_End_Position, variable i_bln_UseLiquidFollowing, variable i_flt_DispenseVolume, variable i_flt_PullOutDistance ) void ;
function PIP_AspirateFromFixedHeight( device & ML_STAR, variable i_str_ChPattern, sequence i_seq_AspirationPositions, variable & i_arr_FixedHeights[], variable i_int_End_Position, variable i_bln_UseLiquidFollowing, variable i_str_LiquidClass, variable i_flt_AspirationVolume, variable i_flt_PullOutDistance ) void ;
function PIP_BuildChannelPatternFromSequence( device & ML_STAR, sequence i_seq_ControllingSequence, variable & o_str_ChPattern ) void ;
function PIP_DispenseToFixedHeight( device & ML_STAR, variable i_str_ChPattern, sequence i_seq_DispensePositions, variable & i_arr_FixedHeights[], variable i_int_End_Position, variable i_bln_UseLiquidFollowing, variable i_flt_DispenseVolume, variable i_flt_PullOutDistance ) void ;
function PIP_FindLiquidLevel( device & ML_STAR, variable i_str_ChPattern, sequence i_seq_PositionsToCheck, variable i_int_End_Position, variable i_bln_UseCLLD, variable & o_arr_LiquidHeightsFound[] ) void ;
function PIP_MixFromFixedHeight( device & ML_STAR, variable i_str_ChPattern, sequence i_seq_MixPositions, variable & i_arr_FixedHeights[], variable i_int_End_Position, variable i_bln_UseLiquidFollowing, variable i_str_LiquidClass, variable i_flt_MixVolume, variable i_int_MixCycles ) void ;
function PIP_PhaseAspiration( device & ML_STAR, variable & io_str_ChPattern, variable i_bln_ResetChPattern, variable i_str_LiquidClass, sequence i_seq_AspirationPosition, sequence i_seq_DispensePosition, variable i_bln_UseCLLD, variable i_flt_AspirationVolume, variable i_flt_DispenseBackVolume, variable i_flt_SubmergeDepth, variable i_flt_MaxVolumeToRemove, variable i_bln_DisableTADMFirst ) variable ;
function PIP_PhaseAspirationParseReturnValue( variable i_strReturnFromPhaseAspiration, variable & o_arrAspirationReturns[], variable & o_arrDispenseReturns[] ) void ;
function PIP_PhaseAspirationRemainder( device & ML_STAR, variable i_str_ChPattern, variable i_str_LiquidClass, sequence i_seq_AspirationPosition, sequence i_seq_DispensePosition, variable i_bln_UseCLLD, variable i_flt_SafeHeightAbovePhase, variable i_flt_AdditionalAspirationVolume, variable i_flt_SubmergeHeight ) variable ;
function PIP_PhaseAspirationSmallLayer( device & ML_STAR, variable i_str_ChPattern, variable i_str_LiquidClass, sequence i_seq_AspirationPosition, sequence i_seq_DispensePosition, variable i_flt_AdditionalAspirationVolume, variable i_flt_OffsetBelowSecondPhase, variable i_int_TotalAspirationRounds, variable i_flt_DispenseHeight ) variable ;
function PIP_PhaseAspirationWasteRemainder( device & ML_STAR, variable i_str_ChPattern, variable i_str_LiquidClass, sequence i_seq_AspirationPosition, sequence i_seq_DispensePosition, variable i_bln_UseCLLD, variable i_flt_SafeHeightAbovePhase, variable i_flt_AdditionalAspirationVolume, variable i_flt_DispenseHeight ) void ;
function PIP_ProgressSequenceFromChannelPattern( variable i_str_ChPattern, variable i_bln_ProgressByUsedChannels, sequence & io_seq_SequenceToProgress ) void ;
function TOOL_BuildArrayForChannels( device & ML_STAR, variable i_flt_ValueToSet, variable & o_arr_Values[] ) void ;
function TOOL_CalculateHeightForVolume( device & ML_STAR, sequence i_seq_LabwareForCalculation, variable i_flt_VolumeInLabware, variable & o_flt_HeightOfVolume ) void ;
function TOOL_CalculateVolumeForHeight( device & ML_STAR, sequence i_seq_LabwareForCalculation, variable i_flt_HeightOfVolume, variable & o_flt_Volume ) void ;
function TOOL_OffsetArrayForChannels( device & ML_STAR, variable i_flt_ValueToOffset, variable & io_arr_Values[] ) void ;
private function _ApplyOffsetToArrayofValues( variable & i_arr_Values[], variable i_flt_Offset, variable & o_arr_AdjustedValues[] ) void ;
private function _CalculateLiquidFollowDistance( device & ML_STAR, variable i_str_LabID, variable i_str_PosID, variable i_flt_StartHeight, variable i_flt_VolumeToRemove, variable i_bln_AspirateMode, variable & o_flt_FollowDistance ) void ;
private function _CheckForPressureErrors( device & ML_STAR, variable i_str_AspirationReturnValue, variable i_str_LiquidReturnValue, variable i_flt_DispenseBackVolume, variable i_str_LiquidClassDispenseBack, variable & o_str_NoErrorChPattern ) void ;
private function _DetermineStartZHeight( device & ML_STAR, variable i_str_ChPattern, variable i_str_LabID, variable & i_arr_XCoords[], variable & i_arr_YCoords[], variable i_flt_ZMinimumCoord, variable i_flt_ZClearanceHeight, variable & o_flt_StartZHeight ) variable ;
private function _DetermineStartZHeightMPH96( device & ML_STAR, variable i_flt_XCoord, variable i_flt_YCoord, variable i_flt_ZMinimumCoord, variable & o_flt_StartZHeight ) variable ;
private function _EnsureTipsAreLoaded( device & ML_STAR, variable i_str_ChannelPattern ) variable ;
private function _GetChannelPatternValue( variable i_str_ChannelPattern, variable i_int_ChannelNumber, variable & o_int_Value ) void ;
private function _GetCorrectedValueForVolume( variable i_flt_VolumeToConvert, variable & i_arr_CorrectionX[], variable & i_arr_CorrectionY[], variable & o_flt_CorrectedVolume ) void ;
private function _GetHeightBasedOnVolume( variable i_str_ContainerFilePath, variable i_flt_VolumeToCalculate, variable & o_flt_HeightWithVolume ) void ;
private function _GetHeightInfoFromLabware( device & ML_STAR, variable i_blnUpperHeights, sequence i_seqPositions, variable & o_arrHeights[] ) void ;
private function _GetLabwareCoordinates( device & ML_STAR, sequence i_seq_Positions, variable i_str_ChPattern, variable & o_arr_XCoord[], variable & o_arr_YCoord[], variable & o_flt_ZBottom, variable & o_flt_ZMinimumHeight, variable & o_flt_ZMaximumHeight, variable & o_flt_ZClearanceHeight ) void ;
private function _GetLabwareCoordinatesMPH96( device & ML_STAR, sequence i_seq_Positions, variable & o_flt_XCoord, variable & o_flt_YCoord, variable & o_flt_ZBottom, variable & o_flt_ZMinimumHeight, variable & o_flt_ZMaximumHeight, variable & o_flt_ZClearanceHeight ) void ;
private function _GetLabwareLimits( device & ML_STAR, variable i_str_LabID, variable & o_flt_XMin, variable & o_flt_XMax, variable & o_flt_YMin, variable & o_flt_YMax ) void ;
private function _GetLiquidClassParams( variable i_str_LiquidClass, variable i_bln_Asp, variable & o_flt_FlowRate, variable & o_flt_MixFlowRate, variable & o_flt_AirTransportVolume, variable & o_flt_BlowoutVolume, variable & o_flt_SwapSpeed, variable & o_int_SettlingTime, variable & o_flt_OverAspVolume, variable & o_flt_ClotRetractHeight, variable & o_flt_StopFlowRate, variable & o_flt_StopBackVolume, variable & o_flt_MaxVolume, variable & o_int_DispenseMode, variable & o_arr_CorrectionCurveX[], variable & o_arr_CorrectionCurveY[] ) void ;
private function _GetLiquidFollowingForAllChannels( device & ML_STAR, variable & i_arr_FixedHeights[], sequence i_seq_PositionsToCalculate, variable i_bln_LiquidFollowingEnabled, variable i_bln_Aspirate, variable i_flt_VolumeToUse, variable i_str_ChPattern, variable & o_arr_LiquidFollowingDistance[] ) void ;
private function _GetLiquidFollowingForMPH96( device & ML_STAR, variable i_flt_FixedHeights, sequence i_seq_PositionsToCalculate, variable i_bln_LiquidFollowingEnabled, variable i_bln_Aspirate, variable i_flt_VolumeToUse, variable & o_flt_LiquidFollowingDistance ) void ;
private function _GetNextSequenceSet( sequence i_seq_Source, variable i_str_ChannelPattern, sequence & o_seq_TempSequence ) void ;
private function _GetPartialChannelPatternForRepeatingPositions( device & ML_STAR, variable i_strChPattern, sequence i_seqPositions, variable & o_intLoopNumber, variable & o_arrChannelPatterns[] ) void ;
private function _GetVolumeBasedOnHeight( variable i_str_ContainerFilePath, variable i_flt_HeightToCalculate, variable & o_flt_VolumeFromHeight ) void ;
private function _GetVolumesInPositions( device & ML_STAR, sequence i_seqPositionsToGetVolume, variable & o_arrCurrentVolumes[] ) void ;
private function _InitLiquidClassStorage(  ) void ;
private function _ProbabilityCheck( device & ML_STAR, sequence i_seq_PositionsToCheck, variable i_str_ChannelPatternToCheck ) variable ;
private function _ProbabilityCheckMPH96( device & ML_STAR, sequence i_seq_PositionsToCheck, variable i_str_ChannelPatternToCheck ) variable ;
private function _SetHeightInfoToLabware( device & ML_STAR, variable i_blnUpperHeights, sequence i_seqPositions, variable & i_arrHeights[] ) void ;
private function _SetPropertiesForLabwareID( device & Instrument, variable i_strLabwareID, variable i_strPropertyKey, variable i_strProperyValue ) void ;
private function __GetVolumeForSegmentHeight( variable i_int_ShapeNumber, variable i_flt_DiameterTop, variable i_flt_DiameterBottom, variable i_flt_Height, variable & o_flt_CurrentVolume ) void ;
// }} ""
function _InitLibrary() {
// {{ 2 "AutoInitBlock" ""
FIRMWARE_PIPETTING_COMMANDS::_InitLibrary();
HELPERLIBRARY::_InitLibrary();
LIQUID_LEVEL_CHECK::_InitLibrary();
FW_HELPERLIBRARY::_InitLibrary();
STAR_CHANNEL_MOVEMENT_TOOLS::_InitLibrary();
VANTAGE_CHANNEL_MOVEMENT_TOOLS::_InitLibrary();
// }} ""
}
function _ExitLibrary() {
// {{ 2 "AutoExitBlock" ""
FIRMWARE_PIPETTING_COMMANDS::_ExitLibrary();
HELPERLIBRARY::_ExitLibrary();
LIQUID_LEVEL_CHECK::_ExitLibrary();
FW_HELPERLIBRARY::_ExitLibrary();
STAR_CHANNEL_MOVEMENT_TOOLS::_ExitLibrary();
VANTAGE_CHANNEL_MOVEMENT_TOOLS::_ExitLibrary();
// }} ""
}
// {{{ 5 "PIP_FindLiquidLevel" "Begin"
function PIP_FindLiquidLevel( device & ML_STAR, variable i_str_ChPattern, sequence i_seq_PositionsToCheck, variable i_int_End_Position, variable i_bln_UseCLLD, variable & o_arr_LiquidHeightsFound[] ) void {
// }} ""
private sequence seq_Temp;
private variable int_TotalChannels;
private variable _strFunctionName;
private variable bln_ProbabilityPassed;
private variable flt_ZMaximumHeight;
private variable flt_ZClearanceHeight;
private variable flt_ZMinimumHeight;
private variable arr_YCoord[];
private variable arr_XCoord[];
private variable bln_TipsLoaded;
private variable int_ChannelIndex;
private variable flt_AdjustedCoordinates;
private variable str_LabID;
private variable str_PosID;
private variable flt_ZCoord;
private variable flt_NotUsed;
private variable bln_SimulationMode;
private variable bln_LabwareValid;
private variable flt_ZBottom;
private variable bln_ChannelsAtCoordinates;
private variable flt_ZStartHeight;
private variable flt_MovementEndHeight;
// {{ 5 "PIP_FindLiquidLevel" "InitLocals"
o_arr_LiquidHeightsFound.SetSize( 0);
// }} ""
// {{ 369 1 0 "a739dfee_f808_4351_a442935755750613" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 370 1 0 "036f5374_1705_4d72_a31b03fbba8ddd94" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
_strFunctionName = Translate("");
// }} ""
_strFunctionName = GetFunctionName();
// {{{ 372 1 0 "0ea174da_7b55_4a23_8fce76905392fcf3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::TRUE, BOOLEON::TRUE);
// }} ""
// {{ 373 1 0 "a739dfee_f808_4351_a442935755750613" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 374 1 0 "1b271011_88d8_4307_912569d514cf0719" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bln_SimulationMode = Util::GetSimulationMode();
// }} ""
// {{{ 375 1 0 "818b4640_b2d5_4fae_966ac8a02f23f51b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::GetChannelNumber1mL(ML_STAR, int_TotalChannels);
// }} ""
// {{{ 376 1 0 "3a690260_f1ad_486c_84d93bd1008960f3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_str_ChPattern = StrConcat2(i_str_ChPattern, Translate(""));
// }} ""
// {{{ 377 1 0 "87df24d4_9609_4e4c_b8442564045a3033" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_str_ChPattern = StrFillRight(i_str_ChPattern, Translate("0"), int_TotalChannels);
// }} ""
// {{{ 378 1 0 "483ef603_19b4_4c46_8f00ec120605deda" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetNextSequenceSet(i_seq_PositionsToCheck, i_str_ChPattern, seq_Temp);
// }} ""
// {{{ 379 1 0 "8af1f303_7d1a_459a_bd89719f9243f063" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ProbabilityPassed = _ProbabilityCheck(ML_STAR, seq_Temp, i_str_ChPattern);
// }} ""
// {{ 380 1 0 "ca418a92_b890_41b7_a91dbaf0dcd29261" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ProbabilityPassed == BOOLEON::FALSE)
{
// }} ""
// {{ 381 1 0 "3d44a18d_3129_433e_81cc18019601d0e9" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("SEQUENCE IS NOT SORTED CORRECTLY FOR THE USE OF THIS FUNCITON!\nSEQUENCE MUST BE SUCH THAT THE CHANNEL PATTERN USED CAN BE DONE AT ONE TIME WITHOUT NEEDING TO MOVE CHANNELS OUT OF THE WAY!"));
// }} ""
// {{ 382 1 0 "43d9c3d9_7954_4888_b721b0c1425ada3a" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 383 1 0 "048acf36_a560_4df5_b59935955c04559a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::TRUE);
// }} ""
// {{ 384 1 0 "43d9c3d9_7954_4888_b721b0c1425ada3a" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 385 1 0 "c93ea96d_e8e2_471d_b0f22673c193dda1" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 386 1 0 "ca418a92_b890_41b7_a91dbaf0dcd29261" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 387 1 0 "efc5564c_e456_4a58_a54a8aa8e8d6a998" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_TipsLoaded = _EnsureTipsAreLoaded(ML_STAR, i_str_ChPattern);
// }} ""
// {{ 388 1 0 "4496d173_1a95_4900_8f9091730b321099" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_TipsLoaded == BOOLEON::FALSE)
{
// }} ""
// {{ 389 1 0 "8341ea2a_5236_4782_8f48e12c41698073" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("TIPS PICKED UP DO NOT MATCH THE CHANNEL PATTERN!"));
// }} ""
// {{ 390 1 0 "22e1a45d_1cd7_4a56_92bb708b98ab7f8c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 391 1 0 "91d41e91_a82b_4992_881466d6f41ceb41" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::TRUE);
// }} ""
// {{ 392 1 0 "22e1a45d_1cd7_4a56_92bb708b98ab7f8c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 393 1 0 "b5d2936f_c903_4da6_b43f720142211ca3" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 394 1 0 "4496d173_1a95_4900_8f9091730b321099" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 395 1 0 "d19e9b9d_45f8_4e6d_ad11cf702c9b30a8" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLabwareCoordinates(ML_STAR, seq_Temp, i_str_ChPattern, arr_XCoord, arr_YCoord, flt_ZBottom, flt_ZMinimumHeight, flt_ZMaximumHeight, flt_ZClearanceHeight);
// }} ""
// {{ 396 1 0 "f473788a_bd81_4ff7_9662128e7a8a96b4" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_LiquidHeightsFound.SetSize(0);
// }} ""
// {{{ 397 1 0 "8ea6c2f5_11f1_4e13_a76dec2026e4b747" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_Temp, 6, Translate("Processing"));
// }} ""
// {{ 398 1 0 "a58ad773_bc06_4f50_bfdf88886b943225" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 399 1 0 "7577037f_adab_4099_a9cb28daaf07ba4a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(seq_Temp);
// }} ""
// {{{ 400 1 0 "4acbb120_0d60_4ced_9cf7836727d60610" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ChannelsAtCoordinates = _DetermineStartZHeight(ML_STAR, i_str_ChPattern, str_LabID, arr_XCoord, arr_YCoord, flt_ZMinimumHeight, flt_ZClearanceHeight, flt_ZStartHeight);
// }} ""
// {{ 401 1 0 "6487f642_cb30_42dc_abc6c0d5e1511177" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = 245.0;
// }} ""
// {{ 402 1 0 "a306b602_145a_4ce8_a7ce72f4acce7888" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_End_Position == 1)
{
// }} ""
// {{ 403 1 0 "09bfbd77_9426_42f0_9642bd8928f0bb20" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_ZClearanceHeight;
// }} ""
// {{ 404 1 0 "a306b602_145a_4ce8_a7ce72f4acce7888" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 405 1 0 "2ede3fe7_73b3_4882_b5fcec9994d4962e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_End_Position == 2)
{
// }} ""
// {{ 406 1 0 "58618bbb_870f_4e9d_84d1b291edf14914" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_ZMaximumHeight;
// }} ""
// {{ 407 1 0 "2ede3fe7_73b3_4882_b5fcec9994d4962e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 408 1 0 "900b2d47_9fc9_4252_b1c9b9237517450a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::PIPFindLiquidLevel(ML_STAR, i_str_ChPattern, arr_XCoord, arr_YCoord, flt_ZStartHeight, flt_MovementEndHeight, flt_ZClearanceHeight, flt_ZMinimumHeight, i_bln_UseCLLD, o_arr_LiquidHeightsFound);
// }} ""
// {{ 409 1 0 "1bbf6840_7111_4275_b87367fb46a1957d" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChannelIndex = 0; int_ChannelIndex < int_TotalChannels;)
{
int_ChannelIndex = int_ChannelIndex + 1;
// }} ""
// {{ 410 1 0 "e29eaded_7e49_4110_97229d81836d0eab" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_Temp.SetCurrentPosition(int_ChannelIndex);
// }} ""
// {{{ 411 1 0 "673a388d_bd6e_483c_bf4bd61ed2ed26c2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(seq_Temp);
// }} ""
// {{{ 412 1 0 "d86c13d4_af21_49f0_984652f2c56a9c59" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(seq_Temp);
// }} ""
// {{{ 413 1 0 "8d68da56_a0a0_473d_a2d2ba2d7eaa1bfd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bln_LabwareValid = DevIsValidLabwareForCurrentDeckLayout(ML_STAR, str_LabID);
// }} ""
// {{ 414 1 0 "799a0897_0756_442c_ba731e0c3ab8deb6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_LabwareValid == BOOLEON::TRUE)
{
// }} ""
// {{{ 415 1 0 "9698eac9_8da0_44fd_a1deb7205b2506a4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, str_LabID, str_PosID, flt_NotUsed, flt_NotUsed, flt_ZCoord, flt_NotUsed);
// }} ""
// {{ 416 1 0 "799a0897_0756_442c_ba731e0c3ab8deb6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 417 1 0 "9a71e809_b905_40e2_aff5322348e4fa85" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_ZCoord = 0.0;
// }} ""
// {{ 418 1 0 "799a0897_0756_442c_ba731e0c3ab8deb6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 419 1 0 "6ccd02ca_66e4_4e54_97110ef55925b53d" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_AdjustedCoordinates = o_arr_LiquidHeightsFound.ElementAt( int_ChannelIndex -1) - flt_ZCoord;
// }} ""
// {{ 420 1 0 "5155b8c4_6988_4cc9_b170381ffe3b7cd2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_AdjustedCoordinates < 0.0)
{
// }} ""
// {{ 421 1 0 "0c0870fb_6c6b_4257_82fd71e99a283e59" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_AdjustedCoordinates = 0.0;
// }} ""
// {{ 422 1 0 "5155b8c4_6988_4cc9_b170381ffe3b7cd2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 423 1 0 "4b2faad6_3235_40c6_b0d0728b65a72b21" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_SimulationMode == BOOLEON::TRUE)
{
// }} ""
// {{ 424 1 0 "6a060f03_e094_4c3f_b02022f7dcd32b21" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_AdjustedCoordinates = 20.0;
// }} ""
// {{ 425 1 0 "4b2faad6_3235_40c6_b0d0728b65a72b21" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 426 1 0 "40466f0f_806d_4131_9c0fbeeca049ed09" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_LiquidHeightsFound.SetAt(int_ChannelIndex-1, flt_AdjustedCoordinates);
// }} ""
// {{ 427 1 0 "1bbf6840_7111_4275_b87367fb46a1957d" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 428 1 0 "50f7728c_9cd0_4e3d_9e9d27d484c6ade3" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_Temp.SetCurrentPosition(1);
// }} ""
// {{{ 429 1 0 "f53f5630_a97b_42fe_a36553a669b47339" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_Temp, 4, Translate("Processed"));
// }} ""
// {{{ 430 1 0 "622fde7c_6c7b_4341_92cb317a42683a63" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("Liquid Level Heights"), o_arr_LiquidHeightsFound);
// }} ""
// {{ 431 1 0 "07f9cf38_e7aa_4709_ae600d905e4ee1dc" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 432 1 0 "f12669ab_2a27_4a3e_8b8c9f590fc207e4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::TRUE);
// }} ""
// {{ 433 1 0 "07f9cf38_e7aa_4709_ae600d905e4ee1dc" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "PIP_FindLiquidLevel" "End"
}
// }} ""
// {{{ 5 "_ProbabilityCheck" "Begin"
private function _ProbabilityCheck( device & ML_STAR, sequence i_seq_PositionsToCheck, variable i_str_ChannelPatternToCheck ) variable {
// }} ""
private variable int_TotalChannels;
private variable int_TotalPositionsInSeq;
private variable int_ChannelIndex;
private variable int_ChannelValue;
private variable str_LabID;
private variable str_PosID;
private variable flt_NotUsed;
private variable flt_ZCoord;
private variable flt_YCoord;
private variable flt_XCoord;
private variable bln_ProbabilityPass;
private variable bln_FirstPositionFound;
private variable flt_CurrentX;
private variable flt_CurrentY;
private variable flt_ChannelRaster;
private variable int_Position;
// {{ 5 "_ProbabilityCheck" "InitLocals"
// }} ""
// {{{ 2598 1 0 "caf324e7_7452_4e1f_8f6ccdc15584d3b5" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::GetChannelRaster1mL(ML_STAR, flt_ChannelRaster);
// }} ""
// {{{ 2599 1 0 "f3e7de5e_c742_4168_826185f16355a516" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalChannels = StrGetLength(i_str_ChannelPatternToCheck);
// }} ""
// {{{ 2600 1 0 "75b9cf98_d7b4_421d_8de16e1bd7a2e508" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalPositionsInSeq = SeqGetTotal(i_seq_PositionsToCheck);
// }} ""
// {{ 2601 1 0 "20abd9d9_e4b3_49f3_8b43bf7b965dc1fa" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_FirstPositionFound = BOOLEON::FALSE;
// }} ""
// {{ 2602 1 0 "431e5e65_bd6d_4765_80f833365db36c90" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_ProbabilityPass = BOOLEON::TRUE;
// }} ""
// {{ 2603 1 0 "fe5c2b6a_a2a2_4817_933e0875831d792f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentX = 0.0;
// }} ""
// {{ 2604 1 0 "dd27b53f_fe18_460d_bb314a583b2b9a2e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentY = 0.0;
// }} ""
// {{ 2605 1 0 "73e46771_76a2_4bd4_81c5039e29631666" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_Position = 1;
// }} ""
// {{ 2606 1 0 "3c63e098_58fb_4737_b4e755d47bc95063" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChannelIndex = 0; int_ChannelIndex < int_TotalChannels;)
{
int_ChannelIndex = int_ChannelIndex + 1;
// }} ""
// {{ 2607 1 0 "8f9f79de_d112_4265_a42b39a6d5e97897" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ChannelIndex > int_TotalPositionsInSeq)
{
// }} ""
// {{ 2608 1 0 "c4403ba9_1933_4ec9_98bae64c79d86eac" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 2609 1 0 "8f9f79de_d112_4265_a42b39a6d5e97897" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2610 1 0 "6b6db874_8977_4271_bee471d6bffe6143" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
i_seq_PositionsToCheck.SetCurrentPosition(int_ChannelIndex);
// }} ""
// {{{ 2611 1 0 "c8077b4e_8210_4575_93396f32f61519a4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(i_seq_PositionsToCheck);
// }} ""
// {{{ 2612 1 0 "844b74d6_3f80_43ed_b34a1c96614c2929" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(i_seq_PositionsToCheck);
// }} ""
// {{{ 2613 1 0 "a27088e1_720f_4de6_b7346d1c20d57fe7" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(i_str_ChannelPatternToCheck, int_ChannelIndex, int_ChannelValue);
// }} ""
// {{ 2614 1 0 "48434cc0_37f6_42ca_a5696e1e1deba6f2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ChannelValue == 1)
{
// }} ""
// {{{ 2615 1 0 "90205c1b_eadc_4743_bfc9705f38033856" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, str_LabID, str_PosID, flt_XCoord, flt_YCoord, flt_ZCoord, flt_NotUsed);
// }} ""
// {{ 2616 1 0 "510457a6_8dd0_4095_a46d5ed71c7f68b3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_YCoord > G_ARR_FW_PIP_COM_YMax.ElementAt( int_ChannelIndex -1))
{
// }} ""
// {{ 2617 1 0 "fefb299e_e0f4_44ba_8eb837291c53d008" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_ProbabilityPass = BOOLEON::FALSE;
// }} ""
// {{{ 2618 1 0 "cacd0cf1_b803_4cc2_af9ea3d529897bcc" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE12(str_LabID, Translate(" - "), str_PosID, Translate(" - "), Translate("Channel Number : "), int_ChannelIndex, Translate(" : "), Translate("Out of range for function! Y coordinate ["), flt_YCoord, Translate("] is outside the maximum of "), G_ARR_FW_PIP_COM_YMax.ElementAt( int_ChannelIndex -1), Translate(""));
// }} ""
// {{ 2619 1 0 "510457a6_8dd0_4095_a46d5ed71c7f68b3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2620 1 0 "6a038c97_fc02_46f7_8e9d87d35e1a4fb6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_YCoord < G_ARR_FW_PIP_COM_YMin.ElementAt( int_ChannelIndex -1))
{
// }} ""
// {{ 2621 1 0 "52afadd5_2e48_4b6a_b6c5a46d39bcc002" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_ProbabilityPass = BOOLEON::FALSE;
// }} ""
// {{{ 2622 1 0 "221552c4_13b0_47ab_a67b37b780ee1bdc" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE12(str_LabID, Translate(" - "), str_PosID, Translate(" - "), Translate("Channel Number : "), int_ChannelIndex, Translate(" : "), Translate("Out of range for function! Y coordinate ["), flt_YCoord, Translate("] is outside the minimum of "), G_ARR_FW_PIP_COM_YMin.ElementAt( int_ChannelIndex -1), Translate(""));
// }} ""
// {{ 2623 1 0 "6a038c97_fc02_46f7_8e9d87d35e1a4fb6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2624 1 0 "9f9ca49e_159f_4715_9a1147838f18d768" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_FirstPositionFound == BOOLEON::FALSE)
{
// }} ""
// {{ 2625 1 0 "7a270091_fb97_431f_8ef84fd6210048d5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentX = flt_XCoord;
// }} ""
// {{ 2626 1 0 "96c12526_754c_4268_b611f75f0bbd0790" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentY = flt_YCoord;
// }} ""
// {{ 2627 1 0 "03dd8c81_9e5b_4afd_a9446f8ce1d04a67" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_FirstPositionFound = BOOLEON::TRUE;
// }} ""
// {{ 2628 1 0 "9f9ca49e_159f_4715_9a1147838f18d768" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 2629 1 0 "d69231ce_af8c_47e7_b210a263f9d97b05" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_XCoord != flt_CurrentX)
{
// }} ""
// {{ 2630 1 0 "39e92b23_3435_42c7_a3ae6586c3eac072" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_ProbabilityPass = BOOLEON::FALSE;
// }} ""
// {{{ 2631 1 0 "d04849b2_351f_4a01_88812141d8cceea4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE12(str_LabID, Translate(" - "), str_PosID, Translate(" - "), Translate("Channel Number : "), int_ChannelIndex, Translate(" : "), Translate(""), Translate(""), Translate(""), Translate(""), Translate("Out of range for function!  Positions MUST share the same X coord and have enough room for the raster of the channels."));
// }} ""
// {{ 2632 1 0 "d69231ce_af8c_47e7_b210a263f9d97b05" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2633 1 0 "bcb4edc6_3ca2_494a_ae3b8ef007108954" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentY = flt_CurrentY - flt_ChannelRaster;
// }} ""
// {{ 2634 1 0 "411fd131_623f_4892_a2020daad2590327" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_YCoord > flt_CurrentY)
{
// }} ""
// {{ 2635 1 0 "4f313860_67fd_48b4_991f83d06300f2d0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_ProbabilityPass = BOOLEON::FALSE;
// }} ""
// {{{ 2636 1 0 "1c2c9ebe_5c4e_41d0_8d517856799875f7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE12(str_LabID, Translate(" - "), str_PosID, Translate(" - "), Translate("Channel Number : "), int_ChannelIndex, Translate(" : "), Translate(""), Translate(""), Translate(""), Translate(""), Translate("Out of range for function!  Positions MUST share the same X coord and have enough room for the raster of the channels."));
// }} ""
// {{ 2637 1 0 "411fd131_623f_4892_a2020daad2590327" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 2638 1 0 "abd7daff_c523_420f_a3feb365c3f5195c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentY = flt_YCoord;
// }} ""
// {{ 2639 1 0 "411fd131_623f_4892_a2020daad2590327" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2640 1 0 "9f9ca49e_159f_4715_9a1147838f18d768" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2641 1 0 "5b4204b6_0eaa_4d8a_ba183abba42527ff" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Position = int_Position + 1;
// }} ""
// {{ 2642 1 0 "48434cc0_37f6_42ca_a5696e1e1deba6f2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 2643 1 0 "f94f4663_1e79_43f8_858d8800e3ccf494" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentY = flt_CurrentY - flt_ChannelRaster;
// }} ""
// {{ 2644 1 0 "48434cc0_37f6_42ca_a5696e1e1deba6f2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2645 1 0 "3c63e098_58fb_4737_b4e755d47bc95063" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 2646 1 0 "659f0870_3604_4925_994d212f27c935ce" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (bln_ProbabilityPass);
// }} ""
// {{{ 5 "_ProbabilityCheck" "End"
}
// }} ""
// {{{ 5 "_GetChannelPatternValue" "Begin"
private function _GetChannelPatternValue( variable i_str_ChannelPattern, variable i_int_ChannelNumber, variable & o_int_Value ) void {
// }} ""
private variable str_Value;
// {{ 5 "_GetChannelPatternValue" "InitLocals"
o_int_Value = 0;
// }} ""
// {{{ 1940 1 0 "e3bc5a75_7d39_4415_8c4748cacd774f23" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_Value = StrLeft(i_str_ChannelPattern, i_int_ChannelNumber);
// }} ""
// {{{ 1941 1 0 "68c17ea4_84cf_4cbd_8f0a2a2791be06de" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_Value = StrRight(str_Value, 1);
// }} ""
// {{{ 1942 1 0 "9e69d224_31dd_4e5b_bb7e4950a03aa06e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_int_Value = StrIVal(str_Value);
// }} ""
// {{{ 5 "_GetChannelPatternValue" "End"
}
// }} ""
// {{{ 5 "_GetNextSequenceSet" "Begin"
private function _GetNextSequenceSet( sequence i_seq_Source, variable i_str_ChannelPattern, sequence & o_seq_TempSequence ) void {
// }} ""
private variable i;
private variable str_LabID;
private variable str_PosID;
private variable int_Length;
private variable int_TotalPositions;
private variable int_Value;
// {{ 5 "_GetNextSequenceSet" "InitLocals"
{ sequence __temp; o_seq_TempSequence = __temp; }
// }} ""
// {{{ 2350 1 0 "f5f7bc86_e91f_4957_bcfa6cc702697e59" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(o_seq_TempSequence);
// }} ""
// {{{ 2351 1 0 "eb875c27_a5d4_4a92_ab6c555400fc825f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalPositions = StrGetLength(i_str_ChannelPattern);
// }} ""
// {{ 2352 1 0 "164219c0_d628_4e5d_ba00c6f79139e7ac" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(i = 0; i < int_TotalPositions;)
{
i = i + 1;
// }} ""
// {{{ 2353 1 0 "7d85a41d_002f_418c_b6526a5d02229a27" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(i_seq_Source);
// }} ""
// {{{ 2354 1 0 "43e704f3_e30d_4edc_9eff3fac4eaa96b3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(i_seq_Source);
// }} ""
// {{{ 2355 1 0 "2a0bbbd1_769f_4226_b7362ce089193723" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(str_LabID);
// }} ""
// {{ 2356 1 0 "8923552e_fa31_429d_8e93414c90266b2d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Length == 0)
{
// }} ""
// {{ 2357 1 0 "624b6621_fa84_46c6_86bac6eee190e2cf" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 2358 1 0 "8923552e_fa31_429d_8e93414c90266b2d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2359 1 0 "463c0e50_c9ef_420b_9db300f60958c9f1" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(i_str_ChannelPattern, i, int_Value);
// }} ""
// {{ 2360 1 0 "83934884_716b_4e0a_a70b6dbf4179e004" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{{ 2361 1 0 "80e6c5bd_f3ac_41dc_917043bbb651a970" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_TempSequence, str_LabID, str_PosID);
// }} ""
// {{ 2362 1 0 "83934884_716b_4e0a_a70b6dbf4179e004" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 2363 1 0 "92bf6225_d2fa_46f6_b9649c6827f68ebe" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_TempSequence, str_LabID, Translate(""));
// }} ""
// {{ 2364 1 0 "83934884_716b_4e0a_a70b6dbf4179e004" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2365 1 0 "6eeb0a12_a84d_4a3b_bd4a59bfc410df8e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqIncrement(i_seq_Source, 1);
// }} ""
// {{ 2366 1 0 "164219c0_d628_4e5d_ba00c6f79139e7ac" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 2367 1 0 "ff788d8e_f81f_45da_9fec38648d8cdfa1" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
o_seq_TempSequence.SetCurrentPosition(1);
// }} ""
// {{{ 5 "_GetNextSequenceSet" "End"
}
// }} ""
// {{{ 5 "_GetLabwareCoordinates" "Begin"
private function _GetLabwareCoordinates( device & ML_STAR, sequence i_seq_Positions, variable i_str_ChPattern, variable & o_arr_XCoord[], variable & o_arr_YCoord[], variable & o_flt_ZBottom, variable & o_flt_ZMinimumHeight, variable & o_flt_ZMaximumHeight, variable & o_flt_ZClearanceHeight ) void {
// }} ""
private variable int_TotalChannels;
private variable int_ChannelIndex;
private variable str_LabID;
private variable int_TotalPositions;
private variable str_PosID;
private variable flt_NotUsed;
private variable flt_ZCoord;
private variable flt_YCoord;
private variable flt_XCoord;
private variable str_ContainerConfig;
private variable bln_ValueExists;
private variable str_Value;
private variable flt_MinimumPipHeight;
private variable int_Value;
private variable flt_ContainerClearance;
private variable flt_ContainerDepth;
// {{ 5 "_GetLabwareCoordinates" "InitLocals"
o_arr_XCoord.SetSize( 0);
o_arr_YCoord.SetSize( 0);
o_flt_ZBottom = 0;
o_flt_ZMinimumHeight = 0;
o_flt_ZMaximumHeight = 0;
o_flt_ZClearanceHeight = 0;
// }} ""
// {{{ 2140 1 0 "86430f4f_36ee_47bf_a87cba43186d51c7" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::GetChannelNumber1mL(ML_STAR, int_TotalChannels);
// }} ""
// {{ 2141 1 0 "4a9c0df2_f1c2_4450_85d478b96f428e69" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_XCoord.SetSize(0);
// }} ""
// {{ 2142 1 0 "20579137_8997_4b0b_a5a877a4184fb05b" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_YCoord.SetSize(0);
// }} ""
// {{ 2143 1 0 "2539a83c_ab73_45ee_bd58278d54c866ac" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_ZClearanceHeight = 0.0;
// }} ""
// {{ 2144 1 0 "107aac4d_db9e_4588_a9d257846fd49b56" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_ZMaximumHeight = 0.0;
// }} ""
// {{ 2145 1 0 "ef4115eb_6a74_4f19_928886e4dd23b0c9" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_ZMinimumHeight = 0.0;
// }} ""
// {{ 2146 1 0 "e150286a_b695_498b_bac6bb565f6496ea" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChannelIndex = 0; int_ChannelIndex < int_TotalChannels;)
{
int_ChannelIndex = int_ChannelIndex + 1;
// }} ""
// {{ 2147 1 0 "067ba1e6_8cb7_47ab_accea69c351241e2" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_XCoord.AddAsLast(0.0);
// }} ""
// {{ 2148 1 0 "a661142f_1d3f_42ea_96b9208fffaa3033" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_YCoord.AddAsLast(0.0);
// }} ""
// {{ 2149 1 0 "e150286a_b695_498b_bac6bb565f6496ea" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 2150 1 0 "3a5cde33_1722_4159_b39156efa5053ffc" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalPositions = SeqGetTotal(i_seq_Positions);
// }} ""
// {{ 2151 1 0 "9ab671b3_b41e_46e1_a1966b1f7635f3ca" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_TotalPositions == 0)
{
// }} ""
// {{{ 2152 1 0 "ea9e9a84_43cd_483b_8c2ed68431c3e993" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 2153 1 0 "9ab671b3_b41e_46e1_a1966b1f7635f3ca" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2154 1 0 "1ce8af5b_b734_4608_9349eb1db89010f5" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChannelIndex = 0; int_ChannelIndex < int_TotalChannels;)
{
int_ChannelIndex = int_ChannelIndex + 1;
// }} ""
// {{{ 2155 1 0 "bd008cad_17c6_418a_a4f50dac7fd397eb" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(i_str_ChPattern, int_ChannelIndex, int_Value);
// }} ""
// {{ 2156 1 0 "a9839cdd_c032_4d99_9e4c8e2d4e693e62" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{ 2157 1 0 "f4834be5_c095_4de2_b15653c5fcc1f53f" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
i_seq_Positions.SetCurrentPosition(int_ChannelIndex);
// }} ""
// {{{ 2158 1 0 "2d4a9242_492a_49f4_932221946f9be9b8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(i_seq_Positions);
// }} ""
// {{{ 2159 1 0 "30057330_8454_43e9_a555dd2425108c8e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(i_seq_Positions);
// }} ""
// {{ 2160 1 0 "70472c85_2427_4581_aff2a6c3dc49e03a" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 2161 1 0 "a9839cdd_c032_4d99_9e4c8e2d4e693e62" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2162 1 0 "1ce8af5b_b734_4608_9349eb1db89010f5" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 2163 1 0 "20a38eb6_4a55_4153_b4aacf27895c12ab" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, str_LabID, str_PosID, flt_NotUsed, flt_NotUsed, flt_ZCoord, flt_NotUsed);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 2164 1 0 "e5b070a4_0636_42e2_af275b3b462a5130" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetRackHeight(ML_STAR, str_LabID, o_flt_ZMaximumHeight, o_flt_ZClearanceHeight);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 2165 1 0 "64d5b956_d14d_4290_9579de94195b93d9" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetContainerDepth(ML_STAR, str_LabID, str_PosID, flt_ContainerDepth, flt_ContainerClearance);
// }} ""
// {{ 2166 1 0 "3b47e17f_58ef_471d_a85ba90e6d4e67c0" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_ZMaximumHeight = flt_ContainerDepth + flt_ZCoord;
// }} ""
// {{ 2167 1 0 "7bfab045_05ea_4fc4_82c3aa3d6a7f03da" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_ZClearanceHeight = flt_ContainerClearance + flt_ZCoord;
// }} ""
// {{{ 2168 1 0 "8dd1a030_400d_44ac_95aabb0b956e7a6a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetContainerConfigurationFile(ML_STAR, str_LabID, str_PosID, str_ContainerConfig);
// }} ""
// {{{ 2169 1 0 "8a88b0b3_5daa_4cb4_bd6a279c7cdd1243" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ValueExists = HELPERLIBRARY::GetDefinitionFileValue(str_ContainerConfig, Translate("MaxDepth"), str_Value);
// }} ""
// {{ 2170 1 0 "438aa1ad_fa7d_4a13_964f18c9fabbbcb0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MinimumPipHeight = 0.0;
// }} ""
// {{ 2171 1 0 "421acc9d_9f78_4b85_a805cecc555bc1a2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ValueExists == BOOLEON::TRUE)
{
// }} ""
// {{{ 2172 1 0 "ae211c13_0c7a_4d6b_867450e0377105f2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_MinimumPipHeight = StrFVal(str_Value);
// }} ""
// {{ 2173 1 0 "421acc9d_9f78_4b85_a805cecc555bc1a2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2174 1 0 "da3ac80c_4b20_46e3_9e1c98c714a6950b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_ZMinimumHeight = flt_ZCoord + flt_MinimumPipHeight;
// }} ""
// {{ 2175 1 0 "c0518d5f_8acf_4a73_beb0c9577d720129" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_ZBottom = flt_ZCoord;
// }} ""
// {{ 2176 1 0 "6e79b8e1_927b_4cfb_a391585766dc1288" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChannelIndex = 0; int_ChannelIndex < int_TotalChannels;)
{
int_ChannelIndex = int_ChannelIndex + 1;
// }} ""
// {{ 2177 1 0 "ceb6877f_fbe7_460f_b5d9baf86122de23" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_XCoord = 0.0;
// }} ""
// {{ 2178 1 0 "5df64a14_93a2_4061_a87308bf31a4a8e0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_YCoord = 0.0;
// }} ""
// {{ 2179 1 0 "7ad83427_4694_4ddc_94f00ef994f15fd4" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
i_seq_Positions.SetCurrentPosition(int_ChannelIndex);
// }} ""
// {{ 2180 1 0 "71b4ef52_cb27_4bba_a9037b46f67f154e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ChannelIndex > int_TotalPositions)
{
// }} ""
// {{ 2181 1 0 "98fc0e09_f286_492f_8736861837435dee" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 2182 1 0 "71b4ef52_cb27_4bba_a9037b46f67f154e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2183 1 0 "c95a9a73_da17_4622_b91f1ec80cc2b64d" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(i_str_ChPattern, int_ChannelIndex, int_Value);
// }} ""
// {{ 2184 1 0 "85b438d6_7613_4709_a25ca87a637ff3c5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{{ 2185 1 0 "c6f03390_f951_4b11_a8c464dd84e6a0c0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(i_seq_Positions);
// }} ""
// {{{ 2186 1 0 "d250755b_a399_40df_bbc085b5d6f8437d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, str_LabID, str_PosID, flt_XCoord, flt_YCoord, flt_NotUsed, flt_NotUsed);
// }} ""
// {{{ 2187 1 0 "8306cea9_e125_4757_87768869f23e972c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_XCoord = MthRound(flt_XCoord, 1);
// }} ""
// {{{ 2188 1 0 "81f022a3_eba0_47b3_8dc92490bf04b23c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_YCoord = MthRound(flt_YCoord, 1);
// }} ""
// {{ 2189 1 0 "85b438d6_7613_4709_a25ca87a637ff3c5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2190 1 0 "ac7b74b5_077d_4045_a5cc145454d96b4f" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_XCoord.SetAt(int_ChannelIndex-1, flt_XCoord);
// }} ""
// {{ 2191 1 0 "4840fb14_48ca_43a3_ae90b6a28ac9ea1b" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_YCoord.SetAt(int_ChannelIndex-1, flt_YCoord);
// }} ""
// {{ 2192 1 0 "6e79b8e1_927b_4cfb_a391585766dc1288" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 2193 1 0 "a735c0cd_778b_475f_a3df24d31e0a2b4a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Clearance Height:  "), o_flt_ZClearanceHeight);
// }} ""
// {{{ 2194 1 0 "e87ab05e_78a2_4cae_88126db7f4de4743" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Top Of Plate Height:  "), o_flt_ZMaximumHeight);
// }} ""
// {{{ 2195 1 0 "1ffec940_b92c_4511_bf3c4323b32690e9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Minimum Height:  "), o_flt_ZMinimumHeight);
// }} ""
// {{{ 2196 1 0 "f9abd9f1_431a_4ed0_b84f29e9d4cd0223" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Z Bottom:  "), o_flt_ZBottom);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 2197 1 0 "c215a1bd_840f_42e7_a44c5af5ccf77a09" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray_2(Translate("X Coordinates                       Y Coordinates"), o_arr_XCoord, o_arr_YCoord);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 5 "_GetLabwareCoordinates" "End"
}
// }} ""
// {{{ 5 "_EnsureTipsAreLoaded" "Begin"
private function _EnsureTipsAreLoaded( device & ML_STAR, variable i_str_ChannelPattern ) variable {
// }} ""
private variable bln_TipsMatch;
private variable int_TotalToCheck;
private variable int_ChannelIndex;
private variable int_ChanValueNeeded;
private variable str_TipsLoadedPattern;
private variable bln_SimulationMode;
private variable int_ChanValueLoaded;
// {{ 5 "_EnsureTipsAreLoaded" "InitLocals"
// }} ""
// {{{ 1919 1 0 "0a14b71a_7c0a_48e2_8829c7760a745120" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bln_SimulationMode = Util::GetSimulationMode();
// }} ""
// {{ 1920 1 0 "d9dcb2f0_91e2_400c_98b659e0ed033164" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_TipsMatch = BOOLEON::TRUE;
// }} ""
// {{{ 1921 1 0 "5d584506_c604_494d_8c062f17db1a2c5f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalToCheck = StrGetLength(i_str_ChannelPattern);
// }} ""
// {{{ 1922 1 0 "c102eb7f_9ee9_4436_86061f20ee342291" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::GetChannelPatternWithTips(ML_STAR, BOOLEON::TRUE, str_TipsLoadedPattern);
// }} ""
// {{ 1923 1 0 "53d5a8d3_3aff_44eb_83a4fab6f7fa0211" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_SimulationMode == BOOLEON::TRUE)
{
// }} ""
// {{ 1924 1 0 "25ab2d2f_e83e_4bea_b0f4c237e3a5ef5d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_TipsLoadedPattern = i_str_ChannelPattern;
// }} ""
// {{ 1925 1 0 "53d5a8d3_3aff_44eb_83a4fab6f7fa0211" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1926 1 0 "11932b8e_d428_440c_8f33bb759d905247" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChannelIndex = 0; int_ChannelIndex < int_TotalToCheck;)
{
int_ChannelIndex = int_ChannelIndex + 1;
// }} ""
// {{{ 1927 1 0 "35ac512f_8dae_4be5_9b9726be0050d2f6" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(i_str_ChannelPattern, int_ChannelIndex, int_ChanValueNeeded);
// }} ""
// {{ 1928 1 0 "9bc1410a_2cca_4e45_b0a06c9668e9863e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ChanValueNeeded == 1)
{
// }} ""
// {{{ 1929 1 0 "bea82a9d_4566_4385_aa990f04e64ba375" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(str_TipsLoadedPattern, int_ChannelIndex, int_ChanValueLoaded);
// }} ""
// {{ 1930 1 0 "2baa889d_630b_4888_9645ff08739ef96d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ChanValueLoaded == 0)
{
// }} ""
// {{ 1931 1 0 "1e066d07_ce4f_407e_893604fda57a7920" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_TipsMatch = BOOLEON::FALSE;
// }} ""
// {{ 1932 1 0 "2baa889d_630b_4888_9645ff08739ef96d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1933 1 0 "9bc1410a_2cca_4e45_b0a06c9668e9863e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1934 1 0 "11932b8e_d428_440c_8f33bb759d905247" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 1935 1 0 "4c6ceaba_008b_4705_b5d6c8757b7b3082" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Channel Pattern:  "), i_str_ChannelPattern);
// }} ""
// {{{ 1936 1 0 "e75359b9_17cd_4765_a1153e38497cf470" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Tips Loaded:  "), str_TipsLoadedPattern);
// }} ""
// {{{ 1937 1 0 "f7be2880_18b4_4dd1_9ffcf2e46e613c72" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Necessary Tips On Channels:  "), bln_TipsMatch);
// }} ""
// {{{ 1938 1 0 "aef61dfa_18c6_4c00_b2bc55354d8c6079" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (bln_TipsMatch);
// }} ""
// {{{ 5 "_EnsureTipsAreLoaded" "End"
}
// }} ""
// {{{ 5 "TOOL_BuildArrayForChannels" "Begin"
function TOOL_BuildArrayForChannels( device & ML_STAR, variable i_flt_ValueToSet, variable & o_arr_Values[] ) void {
// }} ""
private variable i;
// {{ 5 "TOOL_BuildArrayForChannels" "InitLocals"
o_arr_Values.SetSize( 0);
// }} ""
// {{{ 1623 1 0 "32bfcd82_62ca_47c8_8355a19a55aa47b9" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 1624 1 0 "debf5b32_b074_4ca0_aba52f412d41b898" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_Values.SetSize(0);
// }} ""
// {{ 1625 1 0 "6d692328_cc96_475c_a0307e8e35d1c7c8" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(i = 0; i < G_FW_PIP_COM_TotalChannels;)
{
i = i + 1;
// }} ""
// {{ 1626 1 0 "8962fa3d_1fb4_4789_87443af347c60718" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_Values.AddAsLast(i_flt_ValueToSet);
// }} ""
// {{ 1627 1 0 "6d692328_cc96_475c_a0307e8e35d1c7c8" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 5 "TOOL_BuildArrayForChannels" "End"
}
// }} ""
// {{{ 5 "PIP_AspirateFromFixedHeight" "Begin"
function PIP_AspirateFromFixedHeight( device & ML_STAR, variable i_str_ChPattern, sequence i_seq_AspirationPositions, variable & i_arr_FixedHeights[], variable i_int_End_Position, variable i_bln_UseLiquidFollowing, variable i_str_LiquidClass, variable i_flt_AspirationVolume, variable i_flt_PullOutDistance ) void {
// }} ""
private variable _strFunctionName;
private variable bln_SimulationMode;
private variable bln_TipsLoaded;
private variable bln_ProbabilityPassed;
private variable flt_ZMaximumHeight;
private variable flt_ZClearanceHeight;
private variable int_TotalChannels;
private variable flt_ZMinimumHeight;
private sequence seq_Temp;
private variable arr_YCoord[];
private variable arr_XCoord[];
private variable flt_ZStartHeight;
private variable arr_LiquidFollowingDistance[];
private variable arr_AspirationHeights[];
private variable flt_NotUsed;
private variable flt_AspirationVolume;
private variable flt_MovementStartHeight;
private variable flt_MovementEndHeight;
private variable bln_ChannelsAtCoordinates;
private variable flt_ZBottom;
private variable flt_ContainerDepth;
private variable flt_DispenseHeight;
private variable str_LabID;
// {{ 5 "PIP_AspirateFromFixedHeight" "InitLocals"
// }} ""
// {{ 171 1 0 "33014310_06fd_401f_9b45b43e6afb26d0" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 172 1 0 "3bd91dde_b6a5_427a_9337e00ea2f78214" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
_strFunctionName = Translate("");
// }} ""
_strFunctionName = GetFunctionName();
// {{{ 174 1 0 "ac3db5d2_3ebe_4f58_87edbd11433d26f4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::TRUE, BOOLEON::TRUE);
// }} ""
// {{ 175 1 0 "33014310_06fd_401f_9b45b43e6afb26d0" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 176 1 0 "d1f841d3_021d_4e31_b2a7ca36aa49017e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 177 1 0 "bdd0db0f_069d_4abf_8d8dbc7f714b7c3f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_InitLiquidClassStorage();
// }} ""
// {{{ 178 1 0 "7520a536_39e9_4498_8c5f05ae9e436f4f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 179 1 0 "6e5b2366_a4ed_4f54_b4836a0ddac50005" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_SimulationMode = G_FW_PIP_COM_SimulationMode;
// }} ""
// {{ 180 1 0 "dad5e84a_9fc8_4b49_94ee832d25274671" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_TotalChannels = G_FW_PIP_COM_TotalChannels;
// }} ""
// {{ 181 1 0 "c5452b49_7b50_4f8e_8f937ba3e7bf9356" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 182 1 0 "0f404ffd_8421_40a0_b2cc67b55297afe4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_str_ChPattern = StrConcat2(i_str_ChPattern, Translate(""));
// }} ""
// {{{ 183 1 0 "a81cc233_8f7f_4198_a5609e79e1a0eedf" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_str_ChPattern = StrFillRight(i_str_ChPattern, Translate("0"), int_TotalChannels);
// }} ""
// {{ 184 1 0 "ce7e9e28_c879_428f_b7766d603c11e44b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 185 1 0 "e0e385a0_02d5_48dc_b9ea27575a43460b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetNextSequenceSet(i_seq_AspirationPositions, i_str_ChPattern, seq_Temp);
// }} ""
// {{ 186 1 0 "ffb739bb_51a0_4303_b245fd500370e118" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 187 1 0 "aa659cd4_480e_4eb8_9be1b81047651991" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ProbabilityPassed = _ProbabilityCheck(ML_STAR, seq_Temp, i_str_ChPattern);
// }} ""
// {{ 188 1 0 "3579e91d_54ad_40f9_83cada3d123f90a7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ProbabilityPassed == BOOLEON::FALSE)
{
// }} ""
// {{ 189 1 0 "e7f0ba70_01e5_47bd_b45bfd04f56d0045" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("SEQUENCE IS NOT SORTED CORRECTLY FOR THE USE OF THIS FUNCITON!\nSEQUENCE MUST BE SUCH THAT THE CHANNEL PATTERN USED CAN BE DONE AT ONE TIME WITHOUT NEEDING TO MOVE CHANNELS OUT OF THE WAY!"));
// }} ""
// {{ 190 1 0 "56be25ee_0101_461b_9c0319f7f7423ccb" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 191 1 0 "f013c31b_8bd1_40b2_82e6570bfd7ce519" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 192 1 0 "56be25ee_0101_461b_9c0319f7f7423ccb" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 193 1 0 "dfdec4c0_75cf_4306_828cc50c858b63ae" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 194 1 0 "3579e91d_54ad_40f9_83cada3d123f90a7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 195 1 0 "046cf5cc_44b3_4f92_9ae1b33f59e3f937" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 196 1 0 "18b55239_60dc_4743_8c7c4cc4aadd8b12" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_TipsLoaded = _EnsureTipsAreLoaded(ML_STAR, i_str_ChPattern);
// }} ""
// {{ 197 1 0 "a1115008_8f38_4096_99bc087717625aea" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_TipsLoaded == BOOLEON::FALSE)
{
// }} ""
// {{ 198 1 0 "74ec2245_15ee_427b_883a8b4879cbcc7b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("TIPS PICKED UP DO NOT MATCH THE CHANNEL PATTERN!"));
// }} ""
// {{ 199 1 0 "9eb854b1_4426_48d4_9f0135458647b1e2" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 200 1 0 "9b7cfacf_34e9_4942_8a80f3e48d7c9057" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 201 1 0 "9eb854b1_4426_48d4_9f0135458647b1e2" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 202 1 0 "8add20f5_fa5e_49b5_8b161205314ceac5" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 203 1 0 "a1115008_8f38_4096_99bc087717625aea" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 204 1 0 "c3bad33e_937c_401c_bd4013d606d00f4e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 205 1 0 "35b22d06_79c6_4558_b2269a2ba5830c68" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLabwareCoordinates(ML_STAR, seq_Temp, i_str_ChPattern, arr_XCoord, arr_YCoord, flt_ZBottom, flt_ZMinimumHeight, flt_ZMaximumHeight, flt_ZClearanceHeight);
// }} ""
// {{ 206 1 0 "0edbbfbd_fb8f_4be3_b3d7099aadb1e906" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_ContainerDepth = flt_ZMaximumHeight - flt_ZMinimumHeight;
// }} ""
// {{ 207 1 0 "f5a693cf_9feb_4b7c_97e20f80e7218768" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 208 1 0 "d72a11ce_42ff_492d_90daaea777e7c5c0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(seq_Temp);
// }} ""
// {{{ 209 1 0 "6f5559fb_e589_407e_8da20f63657a7d72" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ChannelsAtCoordinates = _DetermineStartZHeight(ML_STAR, i_str_ChPattern, str_LabID, arr_XCoord, arr_YCoord, flt_ZMinimumHeight, flt_ZClearanceHeight, flt_ZStartHeight);
// }} ""
// {{ 210 1 0 "164318e0_e1e9_4754_9e999a0c8694ad05" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 211 1 0 "3f50954c_c081_4446_9534e2de918810de" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_ApplyOffsetToArrayofValues(i_arr_FixedHeights, flt_ZBottom, arr_AspirationHeights);
// }} ""
// {{ 212 1 0 "5ee74dfc_c671_4a42_aa1ea37529250097" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 213 1 0 "4e345eb7_b22a_477d_a731c5a1a8060c31" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidClassParams(i_str_LiquidClass, BOOLEON::TRUE, T_PIP_TOOLS_ASP_FLOW_RATE, T_PIP_TOOLS_ASP_MIX_FLOW_RATE, T_PIP_TOOLS_ASP_AIR_TRANSPORT, T_PIP_TOOLS_ASP_BLOWOUT, T_PIP_TOOLS_ASP_SWAP, T_PIP_TOOLS_ASP_SETTLING, T_PIP_TOOLS_ASP_OVERASPIRATE, T_PIP_TOOLS_ASP_CLOT_RETRACT, flt_NotUsed, flt_NotUsed, T_PIP_TOOLS_MAX_VOLUME, T_PIP_TOOLS_DISPENSE_MODE, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y);
// }} ""
// {{{ 214 1 0 "d20026c1_3b35_4e78_84acc9a9c379e89d" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidClassParams(i_str_LiquidClass, BOOLEON::FALSE, T_PIP_TOOLS_DISP_FLOW_RATE, T_PIP_TOOLS_DISP_MIX_FLOW_RATE, T_PIP_TOOLS_DISP_AIR_TRANSPORT, T_PIP_TOOLS_DISP_BLOWOUT, T_PIP_TOOLS_DISP_SWAP, T_PIP_TOOLS_DISP_SETTLING, flt_NotUsed, flt_NotUsed, T_PIP_TOOLS_DISP_STOP_FLOW, T_PIP_TOOLS_DISP_STOP_BACK, T_PIP_TOOLS_MAX_VOLUME, T_PIP_TOOLS_DISPENSE_MODE, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y);
// }} ""
// {{ 215 1 0 "21b8b393_9d3c_44b7_8d0f6915ff320e43" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 216 1 0 "3c67050f_1537_4c5c_9a7786086ec9e4c9" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetCorrectedValueForVolume(i_flt_AspirationVolume, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y, flt_AspirationVolume);
// }} ""
// {{{ 217 1 0 "6b7e117a_730a_415c_8e087714e91fa8f5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("Aspiration Volume:  "), i_flt_AspirationVolume, Translate("  Corrected Volume for Liquid Class:  "), flt_AspirationVolume);
// }} ""
// {{ 218 1 0 "20f60280_c411_44b3_b3a772c51cb6f6b3" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 219 1 0 "857eb19b_0b7a_473a_972988ca1340ff98" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidFollowingForAllChannels(ML_STAR, i_arr_FixedHeights, seq_Temp, i_bln_UseLiquidFollowing, BOOLEON::TRUE, flt_AspirationVolume, i_str_ChPattern, arr_LiquidFollowingDistance);
// }} ""
// {{{ 220 1 0 "ec5df3c9_777b_4974_aa84e230ab9f6e97" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_Temp, 0, Translate("Processing"));
// }} ""
// {{ 221 1 0 "9e5361b4_2c4f_4b1f_9c7bfe5f8dae63ea" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementStartHeight = flt_ZStartHeight;
// }} ""
// {{ 222 1 0 "d348e866_dc49_49bd_b390a08821212df2" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = 245.0;
// }} ""
// {{ 223 1 0 "76d61a02_73ae_4c56_aa49485013599d30" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_End_Position == 1)
{
// }} ""
// {{ 224 1 0 "7c8c12f2_611f_4220_b5501da49ad0eab7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_ZClearanceHeight;
// }} ""
// {{ 225 1 0 "76d61a02_73ae_4c56_aa49485013599d30" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 226 1 0 "8f530f0e_5dd8_49dd_98745a961a30cc4c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_End_Position == 2)
{
// }} ""
// {{ 227 1 0 "d36bcbde_9759_4232_8fc08462d65cb394" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_ZMaximumHeight;
// }} ""
// {{ 228 1 0 "8f530f0e_5dd8_49dd_98745a961a30cc4c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 229 1 0 "5a7653a8_4361_489b_881a4c372bb59469" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_End_Position == 3)
{
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{ 230 1 0 "fa431fb6_7515_4d0c_88d907364ff3c684" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_ZMinimumHeight;
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 231 1 0 "f939ec8f_f22a_4bb4_b429c3574d9a7f0b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_DispenseHeight = HSLStatisitics::Stat_Max(i_arr_FixedHeights);
// }} ""
// {{ 232 1 0 "db059d9d_652c_4c5b_8130b98c178a4ab7" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_DispenseHeight + flt_ZBottom;
// }} ""
// {{ 233 1 0 "e4d5c98a_2ecc_49b1_bdbd8324cd431427" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_MovementEndHeight < flt_ZMinimumHeight)
{
// }} ""
// {{ 234 1 0 "cb0362a7_5609_4207_9561ee4896813569" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_ZMinimumHeight;
// }} ""
// {{ 235 1 0 "e4d5c98a_2ecc_49b1_bdbd8324cd431427" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 236 1 0 "5a7653a8_4361_489b_881a4c372bb59469" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 237 1 0 "bc3135fd_77bf_4415_b47c0405c580a8d7" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 238 1 0 "7fc1fa08_b056_42d4_a50f6cf91faaa721" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::PIPAspirateFromFixedHeight(ML_STAR, i_str_ChPattern, arr_XCoord, arr_YCoord, arr_AspirationHeights, arr_LiquidFollowingDistance, flt_MovementStartHeight, flt_MovementEndHeight, flt_ZMinimumHeight, flt_ZBottom, flt_ContainerDepth, flt_AspirationVolume, T_PIP_TOOLS_ASP_FLOW_RATE, T_PIP_TOOLS_ASP_AIR_TRANSPORT, T_PIP_TOOLS_DISP_BLOWOUT, T_PIP_TOOLS_ASP_SETTLING, T_PIP_TOOLS_ASP_SWAP, i_flt_PullOutDistance);
// }} ""
// {{{ 239 1 0 "095befe8_f758_4758_80a0e54fd42694cf" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_Temp, 4, Translate("Processed"));
// }} ""
// {{ 240 1 0 "df0088d9_34b2_47b9_89dcf28aec1a5f9a" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 241 1 0 "2b666c20_3b85_4e3b_9d0257b9f58b729e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::TRUE);
// }} ""
// {{ 242 1 0 "df0088d9_34b2_47b9_89dcf28aec1a5f9a" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "PIP_AspirateFromFixedHeight" "End"
}
// }} ""
// {{{ 5 "_DetermineStartZHeight" "Begin"
private function _DetermineStartZHeight( device & ML_STAR, variable i_str_ChPattern, variable i_str_LabID, variable & i_arr_XCoords[], variable & i_arr_YCoords[], variable i_flt_ZMinimumCoord, variable i_flt_ZClearanceHeight, variable & o_flt_StartZHeight ) variable {
// }} ""
private variable int_TotalCoords;
private variable bln_ChannelsAtCoordinate;
private variable flt_CurrentXCoord;
private variable arr_CurrentYCoord[];
private variable i;
private variable bln_SimulationMode;
private variable int_Value;
private variable flt_YMaxNeeded;
private variable flt_XMinNeeded;
private variable flt_YMin;
private variable flt_YMax;
private variable flt_XMin;
private variable flt_XMax;
private variable flt_YMinNeeded;
private variable flt_XMaxNeeded;
private variable int_TotalX;
private variable int_TotalY;
private variable arr_AdjustedX[];
private variable arr_AdjustedY[];
private variable flt_YMinCurrent;
private variable flt_YMaxCurrent;
private variable arr_RelevantCurrentY[];
private variable str_Coord1;
private variable str_Coord2;
private variable int_Coord1;
private variable int_Coord2;
private variable flt_Coord1;
private variable flt_Coord2;
// {{ 5 "_DetermineStartZHeight" "InitLocals"
o_flt_StartZHeight = 0;
// }} ""
// {{{ 1780 1 0 "899e1ca1_3ffa_4197_a07e6d0321d1d47a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bln_SimulationMode = Util::GetSimulationMode();
// }} ""
// {{ 1781 1 0 "2def5b0d_163a_4da1_829c500389804025" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_StartZHeight = 0.0;
// }} ""
// {{ 1782 1 0 "5bd01ee5_318b_4f7c_ab96801375aaaa71" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_ChannelsAtCoordinate = BOOLEON::TRUE;
// }} ""
// {{{ 1783 1 0 "7dcd898b_40e3_40b6_b555076b2e9312d3" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::GetChannelXCoordinate(ML_STAR, flt_CurrentXCoord);
// }} ""
// {{{ 1784 1 0 "40cc254d_b2c6_429d_b6d2d8fb6cc59af6" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::GetChannelYCoordinates(ML_STAR, BOOLEON::TRUE, arr_CurrentYCoord);
// }} ""
// {{ 1785 1 0 "0ee60df0_497d_4c2c_855cabcf3f5610bf" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_AdjustedX.SetSize(0);
// }} ""
// {{ 1786 1 0 "8e808a07_9b7c_4bbc_9de80afa204c64e9" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_AdjustedY.SetSize(0);
// }} ""
// {{ 1787 1 0 "1a59871b_be1a_4f44_b0f7a4050b107daf" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_RelevantCurrentY.SetSize(0);
// }} ""
// {{ 1788 1 0 "642b8294_96cd_4b44_aad8b858fe54af68" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
int_TotalX=i_arr_XCoords.GetSize();
// }} ""
// {{ 1789 1 0 "f2ef9f19_69f6_4d22_9b4685916e8168e3" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(i = 0; i < int_TotalX;)
{
i = i + 1;
// }} ""
// {{ 1790 1 0 "9a5b4d8b_b3da_47e2_b03a9a61f375c29c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_arr_XCoords.ElementAt( i -1) > 0.0)
{
// }} ""
// {{ 1791 1 0 "a46b3d8e_1db5_43e3_b593d3b66afea9d9" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_AdjustedX.AddAsLast(i_arr_XCoords.ElementAt( i -1));
// }} ""
// {{ 1792 1 0 "9a5b4d8b_b3da_47e2_b03a9a61f375c29c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1793 1 0 "f2ef9f19_69f6_4d22_9b4685916e8168e3" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1794 1 0 "3f52e4d5_a22e_4457_a7fe1cdfb829f74d" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
int_TotalY=i_arr_YCoords.GetSize();
// }} ""
// {{ 1795 1 0 "6cc1d50e_7f0d_4d39_953a2c111bb6cfa6" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(i = 0; i < int_TotalY;)
{
i = i + 1;
// }} ""
// {{ 1796 1 0 "a6998405_4250_49ef_981a0b54a9ed0fe4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_arr_YCoords.ElementAt( i -1) > 0.0)
{
// }} ""
// {{ 1797 1 0 "99dfcf76_42a8_41de_a1b7f8c29d12c280" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_AdjustedY.AddAsLast(i_arr_YCoords.ElementAt( i -1));
// }} ""
// {{ 1798 1 0 "c0c3831a_d795_4a39_9a8d2ac5846c4ad1" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_RelevantCurrentY.AddAsLast(arr_CurrentYCoord.ElementAt( i -1));
// }} ""
// {{ 1799 1 0 "a6998405_4250_49ef_981a0b54a9ed0fe4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1800 1 0 "6cc1d50e_7f0d_4d39_953a2c111bb6cfa6" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 1801 1 0 "62ef1ecc_4f79_4542_a88c2d672cfe6b1a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("Current Y Coords"), arr_CurrentYCoord);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 1802 1 0 "43222455_17be_478c_8c8cc7bc11b689e9" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
int_TotalCoords=i_arr_XCoords.GetSize();
// }} ""
// {{ 1803 1 0 "1ee55112_1b24_4600_8bafaff8d28fdfc1" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(i = 0; i < int_TotalCoords;)
{
i = i + 1;
// }} ""
// {{{ 1804 1 0 "7257b88e_840c_4d3d_a7edcd549d2bbbce" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(i_str_ChPattern, i, int_Value);
// }} ""
// {{ 1805 1 0 "ffde5fa6_7d64_45cf_b890da1eb0210e7a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{ 1806 1 0 "4de80988_8c8b_4a53_976d0debe61348d0" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_Coord1 = i_arr_XCoords.ElementAt( i -1) * 10;
// }} ""
// {{{ 1807 1 0 "66724b81_2589_4479_83934714a90774af" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_Coord1 = StrConcat2(flt_Coord1, Translate(""));
// }} ""
// {{{ 1808 1 0 "49b47750_bb23_4626_b400c3629a433442" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Coord1 = StrIVal(str_Coord1);
// }} ""
// {{ 1809 1 0 "f295ac5e_8760_46e8_9a1fddf29a47d8dc" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_Coord2 = flt_CurrentXCoord * 10;
// }} ""
// {{{ 1810 1 0 "65efc66d_252b_4c4f_8e40a7cad40c9f42" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_Coord2 = StrConcat2(flt_Coord2, Translate(""));
// }} ""
// {{{ 1811 1 0 "cf4f919e_87f5_48e9_9cb5d705f1f346c9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Coord2 = StrIVal(str_Coord2);
// }} ""
// {{ 1812 1 0 "ca5d0460_5ebd_4e75_8526a3610ac29e45" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Coord1 != int_Coord2)
{
// }} ""
// {{ 1813 1 0 "e37f47c1_e7cf_4f64_bedd37528de61e24" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_ChannelsAtCoordinate = BOOLEON::FALSE;
// }} ""
// {{ 1814 1 0 "ca5d0460_5ebd_4e75_8526a3610ac29e45" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 1815 1 0 "9a714829_1cee_42e2_b10c6464903918da" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE08(Translate("Needed X:  "), i_arr_XCoords.ElementAt( i -1), Translate("   Current X:  "), flt_CurrentXCoord, Translate("  Valid:  "), bln_ChannelsAtCoordinate, Translate(""), Translate(""));
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 1816 1 0 "ffde5fa6_7d64_45cf_b890da1eb0210e7a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1817 1 0 "1ee55112_1b24_4600_8bafaff8d28fdfc1" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1818 1 0 "75688711_397d_4e35_9bc28ad93c922fd0" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
int_TotalCoords=i_arr_YCoords.GetSize();
// }} ""
// {{ 1819 1 0 "a51a6489_44be_4e62_b268fcbacdfe4df9" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(i = 0; i < int_TotalCoords;)
{
i = i + 1;
// }} ""
// {{{ 1820 1 0 "6b16fb39_d8fe_493e_a44b750cc06c552c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(i_str_ChPattern, i, int_Value);
// }} ""
// {{ 1821 1 0 "4a80e9e3_0598_4817_9e513b39678f64d7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{ 1822 1 0 "85d7b774_b168_44ab_98881618f9ac003e" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_Coord1 = i_arr_YCoords.ElementAt( i -1) * 10;
// }} ""
// {{{ 1823 1 0 "df904206_09f8_421b_a0b72a85e91a9924" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_Coord1 = StrConcat2(flt_Coord1, Translate(""));
// }} ""
// {{{ 1824 1 0 "ee8f1708_97bb_463f_84c5ea5083d21d3d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Coord1 = StrIVal(str_Coord1);
// }} ""
// {{ 1825 1 0 "5918f407_8bed_464f_83c589eef6e5009a" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_Coord2 = arr_CurrentYCoord.ElementAt( i -1) * 10;
// }} ""
// {{{ 1826 1 0 "ca55b6b0_b2ff_408d_89aebbc6bcee9e3f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_Coord2 = StrConcat2(flt_Coord2, Translate(""));
// }} ""
// {{{ 1827 1 0 "cae4f24c_125b_4e4e_bc05a4424086c5cc" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Coord2 = StrIVal(str_Coord2);
// }} ""
// {{ 1828 1 0 "6eb4aa91_1d52_45f4_b7b515f243c60204" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Coord1 != int_Coord2)
{
// }} ""
// {{ 1829 1 0 "3225323c_d024_46df_893dff168f31f319" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_ChannelsAtCoordinate = BOOLEON::FALSE;
// }} ""
// {{ 1830 1 0 "6eb4aa91_1d52_45f4_b7b515f243c60204" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 1831 1 0 "8c907b47_a917_4d50_b41cdcb12caee380" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE08(Translate("Needed Y:  "), str_Coord1, Translate("   Current Y:  "), str_Coord2, Translate("  Valid:  "), bln_ChannelsAtCoordinate, Translate(""), Translate(""));
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 1832 1 0 "4a80e9e3_0598_4817_9e513b39678f64d7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1833 1 0 "a51a6489_44be_4e62_b268fcbacdfe4df9" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1834 1 0 "65b51c2b_87fd_4ed9_af677a80fdb3a5f4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_SimulationMode == BOOLEON::TRUE)
{
// }} ""
// {{ 1835 1 0 "dfeaed28_1d2a_4d77_85a5a651ad23ac97" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_ChannelsAtCoordinate = BOOLEON::TRUE;
// }} ""
// {{ 1836 1 0 "65b51c2b_87fd_4ed9_af677a80fdb3a5f4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1837 1 0 "7a403be2_dda6_4363_8cf59a0c05ebcf3d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ChannelsAtCoordinate == BOOLEON::TRUE)
{
// }} ""
// {{ 1838 1 0 "0db73d34_c19b_4a0d_8e824b366549c9b5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_StartZHeight = i_flt_ZMinimumCoord;
// }} ""
// {{ 1839 1 0 "7a403be2_dda6_4363_8cf59a0c05ebcf3d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 1840 1 0 "934a4dd0_e292_453f_9f4cd9a309dd262a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLabwareLimits(ML_STAR, i_str_LabID, flt_XMin, flt_XMax, flt_YMin, flt_YMax);
// }} ""
// {{{ 1841 1 0 "e886a50e_d347_438d_91e31e4c6899ea55" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_XMaxNeeded = HSLStatisitics::Stat_Max(arr_AdjustedX);
// }} ""
// {{{ 1842 1 0 "3655910a_058c_4423_853466bc177d659d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_XMinNeeded = HSLStatisitics::Stat_Min(arr_AdjustedX);
// }} ""
// {{{ 1843 1 0 "00c277bb_b1c7_4dc5_91c635321aa63f79" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_YMaxNeeded = HSLStatisitics::Stat_Max(arr_AdjustedY);
// }} ""
// {{{ 1844 1 0 "01a6ec1e_b58d_4a7e_8bd28f127e5ae5f1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_YMinNeeded = HSLStatisitics::Stat_Min(arr_AdjustedY);
// }} ""
// {{{ 1845 1 0 "0f8a3e0e_11fd_4b6a_853f940430892591" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_YMaxCurrent = HSLStatisitics::Stat_Max(arr_RelevantCurrentY);
// }} ""
// {{{ 1846 1 0 "df40c4e9_b43d_4fba_8e62439a137eb2f1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_YMinCurrent = HSLStatisitics::Stat_Min(arr_RelevantCurrentY);
// }} ""
// {{ 1847 1 0 "a79ce81f_cbf7_4b0d_867d764bd151a18f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_StartZHeight = 245.0;
// }} ""
// {{ 1848 1 0 "cd9184c8_c92d_4627_883513d7ee00b491" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(i = 0; i < 1;)
{
i = i + 1;
// }} ""
// {{ 1849 1 0 "41e1724d_7cbd_4679_9bef32090b6f9183" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_CurrentXCoord > flt_XMax)
{
// }} ""
// {{ 1850 1 0 "a1c43692_20e3_4395_93696257c0eff0ca" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 1851 1 0 "41e1724d_7cbd_4679_9bef32090b6f9183" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1852 1 0 "ea779269_2d7f_40b6_a7f50c82feada529" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_CurrentXCoord < flt_XMin)
{
// }} ""
// {{ 1853 1 0 "da1fb434_5cb3_4304_bde3dc56bdead128" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 1854 1 0 "ea779269_2d7f_40b6_a7f50c82feada529" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1855 1 0 "123dbe31_064d_441a_af6508724b198703" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_YMaxCurrent > flt_YMax)
{
// }} ""
// {{ 1856 1 0 "a8aa8ac5_2bac_467a_81068f190d4a3331" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 1857 1 0 "123dbe31_064d_441a_af6508724b198703" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1858 1 0 "8de6fb87_1824_48cc_ae64af6e359bf7fb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_YMinCurrent < flt_YMin)
{
// }} ""
// {{ 1859 1 0 "dad77d8b_b448_43d3_8abd1f17669eea03" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 1860 1 0 "8de6fb87_1824_48cc_ae64af6e359bf7fb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 1861 1 0 "45a3ae75_b135_4501_883b0ef0b0da918d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("X Max Needed: "), flt_XMaxNeeded, Translate("   X Max Limit: "), flt_XMax);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 1862 1 0 "0f97ffc0_0872_4695_816fafc104667066" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_XMaxNeeded <= flt_XMax)
{
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 1863 1 0 "87e177b7_8b74_4b55_bbd9b1a95313f7f8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("X Min Needed: "), flt_XMinNeeded, Translate("   X Min Limit: "), flt_XMin);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 1864 1 0 "e2adc4f5_7170_4bbc_80fd0db885595867" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_XMinNeeded >= flt_XMin)
{
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 1865 1 0 "355d78cc_0e47_4466_a8875b25e9b29e74" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("Y Max Needed: "), flt_YMaxNeeded, Translate("   Y Max Limit: "), flt_YMax);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 1866 1 0 "f47c3ed0_694d_472c_b8a6ed647fc8c944" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_YMaxNeeded <= flt_YMax)
{
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 1867 1 0 "3ee84421_1694_4502_8cd6b70eb2bcf637" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("Y Min Needed: "), flt_YMinNeeded, Translate("   Y Min Limit: "), flt_YMin);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 1868 1 0 "b8da1a23_c2fa_4584_80c67cc12fa74f21" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_YMinNeeded >= flt_YMin)
{
// }} ""
// {{ 1869 1 0 "03040b67_89fb_47f5_8942bc014976ac70" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_StartZHeight = i_flt_ZClearanceHeight;
// }} ""
// {{ 1870 1 0 "b8da1a23_c2fa_4584_80c67cc12fa74f21" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1871 1 0 "f47c3ed0_694d_472c_b8a6ed647fc8c944" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1872 1 0 "e2adc4f5_7170_4bbc_80fd0db885595867" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1873 1 0 "0f97ffc0_0872_4695_816fafc104667066" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1874 1 0 "cd9184c8_c92d_4627_883513d7ee00b491" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1875 1 0 "7a403be2_dda6_4363_8cf59a0c05ebcf3d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1876 1 0 "c06aef10_7fb7_46f5_91416e12adf8b41e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Z Start Height:  "), o_flt_StartZHeight, Translate(""));
// }} ""
// {{{ 1877 1 0 "33d6606e_6745_41a6_b2ba92beeaecbb62" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (bln_ChannelsAtCoordinate);
// }} ""
// {{{ 5 "_DetermineStartZHeight" "End"
}
// }} ""
// {{{ 5 "__GetVolumeForSegmentHeight" "Begin"
private function __GetVolumeForSegmentHeight( variable i_int_ShapeNumber, variable i_flt_DiameterTop, variable i_flt_DiameterBottom, variable i_flt_Height, variable & o_flt_CurrentVolume ) void {
// }} ""
private variable w;
private variable l;
private variable m;
private variable n;
private variable flt_Pi;
private variable r;
private variable R;
// {{ 5 "__GetVolumeForSegmentHeight" "InitLocals"
o_flt_CurrentVolume = 0;
// }} ""
// {{ 2706 1 0 "2962f39d_652f_4b84_b56fe00ca2a7957c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_Pi = 3.14159265359;
// }} ""
// {{ 2707 1 0 "bc317783_091f_48c3_8123ffc8c75d440b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_CurrentVolume = 0.0;
// }} ""
// {{ 2708 1 0 "f18bf410_1c23_4985_beea6104966d5224" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
m = 0;
// }} ""
// {{ 2709 1 0 "5804c468_fb56_4c50_9a4f885850a50248" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
n = 0;
// }} ""
// {{ 2710 1 0 "3d6942b4_cf96_4ed0_8ca4e0b206bd8bb7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
r = 0;
// }} ""
// {{ 2711 1 0 "e3f575b1_9e68_4890_87bffbc9a2cf27d4" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
R = 0;
// }} ""
// {{ 2712 1 0 "8f6978c3_8415_40f7_ab56ed2dbb508ea3" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l = 0;
// }} ""
// {{ 2713 1 0 "fe9906be_4756_4a1b_89b030d069b91b6c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
w = 0;
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
Trace("Shape number:  ",i_int_ShapeNumber,"  Top Diameter:  ",i_flt_DiameterTop,"  Bottom Diameter:  ",i_flt_DiameterBottom,"  Height:  ",i_flt_Height);
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 2715 1 0 "d688156f_be69_4736_bf9a303d653dfa82" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_ShapeNumber == 0)
{
// }} ""
// {{ 2716 1 0 "e53f7b44_243f_490a_918eb6aa86584d58" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 2717 1 0 "8c61585e_a525_4783_a33ee8c9f867f89d" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
r = i_flt_DiameterTop / (2 * 1.0);
// }} ""
m = r * r * flt_Pi;
// {{ 2719 1 0 "d1c6b5b4_20fa_4184_afd2bfe637990c0b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_CurrentVolume = m * i_flt_Height;
// }} ""
// {{{ 2720 1 0 "ae7d37b5_35bd_4a5a_9c66b70a85f63cdc" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_CurrentVolume = MthRound(o_flt_CurrentVolume, 1);
// }} ""
// {{ 2721 1 0 "d688156f_be69_4736_bf9a303d653dfa82" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2722 1 0 "710e1284_bd28_4ad3_bf948544d316d2b4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_ShapeNumber == 1)
{
// }} ""
// {{ 2723 1 0 "e30a4264_2716_4d7a_bd8876cc71b7b1d2" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 2724 1 0 "a42c0cf1_eb65_4c37_9991f06b4be7e2fa" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
m = i_flt_DiameterTop * i_flt_DiameterBottom;
// }} ""
// {{ 2725 1 0 "463477b5_8ee9_44e7_a8aa5a676279e9ee" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_CurrentVolume = m * i_flt_Height;
// }} ""
// {{{ 2726 1 0 "a2df9707_493d_4ea7_82f0458d32b90d9a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_CurrentVolume = MthRound(o_flt_CurrentVolume, 1);
// }} ""
// {{ 2727 1 0 "710e1284_bd28_4ad3_bf948544d316d2b4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2728 1 0 "dfd3e006_0b28_492d_b22fe9ada4a3c218" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_ShapeNumber == 2)
{
// }} ""
// {{ 2729 1 0 "2521ce24_0563_4892_9787715d62aae493" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 2730 1 0 "4982ba4e_8f6f_44bd_95d0857f5abc860e" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
r = i_flt_DiameterBottom / (2 * 1.0);
// }} ""
// {{ 2731 1 0 "3faaeafa_9dc6_4716_b4703a22b7d454f8" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
R = i_flt_DiameterTop / (2 * 1.0);
// }} ""
m  = (flt_Pi/3) * (R*R + r*r + R*r);
// {{ 2733 1 0 "c5897afd_f9bd_4b85_99bd0285d2f274c2" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_CurrentVolume = m * i_flt_Height;
// }} ""
// {{{ 2734 1 0 "227f442f_0cde_4dce_a5bf9113cc600f52" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_CurrentVolume = MthRound(o_flt_CurrentVolume, 1);
// }} ""
// {{ 2735 1 0 "dfd3e006_0b28_492d_b22fe9ada4a3c218" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2736 1 0 "262aa4d3_2f11_4c5e_8628f6b5bd09490e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_ShapeNumber == 3)
{
// }} ""
// {{ 2737 1 0 "82782dfb_a831_4acf_b942e17317dd9372" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 2738 1 0 "65bbd063_44c0_4e08_b8224295adbaac98" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
R = i_flt_DiameterTop / (2 * 1.0);
// }} ""
// {{ 2739 1 0 "6385a5e0_0064_4b6e_abae5ed3259215e1" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
r = i_flt_DiameterBottom / (2 * 1.0);
// }} ""
m  = (flt_Pi/3) * (R*R + r*r + R*r);
// {{ 2741 1 0 "ec6e7361_59f6_4d52_958732f0c83c5c40" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_CurrentVolume = m * i_flt_Height;
// }} ""
// {{{ 2742 1 0 "47b1e2ef_a5fb_4d4f_b430e2f59999f91b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_CurrentVolume = MthRound(o_flt_CurrentVolume, 4);
// }} ""
// {{ 2743 1 0 "262aa4d3_2f11_4c5e_8628f6b5bd09490e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2744 1 0 "556c6da7_acb1_406e_bfc186a67c248cd4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_ShapeNumber == 4)
{
// }} ""
// {{ 2745 1 0 "6df034c5_c48d_457e_8b767f36ea901614" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 2746 1 0 "7090477e_7903_4364_be2d82e6667c0ca0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
r = i_flt_DiameterTop;
// }} ""
m = (flt_Pi*r)/2;
n = (flt_Pi/3);
o_flt_CurrentVolume = i_flt_Height * i_flt_Height * m - n * i_flt_Height;
// {{{ 2748 1 0 "32c8a8d8_aecc_41d4_8efe7059369aca16" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_CurrentVolume = MthRound(o_flt_CurrentVolume, 1);
// }} ""
// {{ 2749 1 0 "556c6da7_acb1_406e_bfc186a67c248cd4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2750 1 0 "905367cc_eefc_4603_bea1afc98bf6da1c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_ShapeNumber == 5)
{
// }} ""
// {{ 2751 1 0 "dec5c24e_4f7c_4e77_acc6d2a8c5d2394c" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 2752 1 0 "09fd4e04_0bc1_4edb_86059a1caa2d8436" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
r = i_flt_DiameterTop / (2 * 1.0);
// }} ""
m = (flt_Pi * r * r) / 3;
// {{ 2754 1 0 "eeb365a1_55c3_4a89_8640c2dc1ec8c71b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_CurrentVolume = m * i_flt_Height;
// }} ""
// {{{ 2755 1 0 "680faad8_5fb0_4c4d_b472c586af53b9c1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_CurrentVolume = MthRound(o_flt_CurrentVolume, 1);
// }} ""
// {{ 2756 1 0 "905367cc_eefc_4603_bea1afc98bf6da1c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2757 1 0 "0d018350_f0ad_4f72_b42e275cf640b485" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_CurrentVolume = MthRound(o_flt_CurrentVolume, 1);
// }} ""
// {{{ 5 "__GetVolumeForSegmentHeight" "End"
}
// }} ""
// {{{ 5 "_GetHeightBasedOnVolume" "Begin"
private function _GetHeightBasedOnVolume( variable i_str_ContainerFilePath, variable i_flt_VolumeToCalculate, variable & o_flt_HeightWithVolume ) void {
// }} ""
private variable str_SearchValueMax;
private variable flt_CurrentVolume;
private variable flt_CheckHeight;
private variable str_SearchValueShape;
private variable i;
private variable flt_Dx;
private variable flt_Dy;
private variable flt_MinimumVolume;
private variable flt_TopDiameter;
private variable flt_Dz;
private variable int_SegmentNumber;
private variable flt_BottomDiameter;
private variable str_SearchValue1;
private variable int_TotalSegments;
private variable str_SearchValue2;
private variable flt_CurrentMax;
private variable str_SearchValue3;
private variable bln_ValueFound;
private variable a;
private variable flt_CurrentHeight;
private variable flt_Volume;
private variable flt_Min;
private variable flt_Max;
private variable str_SearchValueMin;
private variable str_Value;
private variable int_Shape;
private variable arr_BottomDiameter[];
private variable arr_MinHeight[];
private variable arr_TopDiameter[];
private variable arr_MaxHeight[];
private variable arr_Shape[];
// {{ 5 "_GetHeightBasedOnVolume" "InitLocals"
o_flt_HeightWithVolume = 0;
// }} ""
// {{ 2004 1 0 "3b7f07fa_aecb_41e3_bfc42a5886b77c7c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_HeightWithVolume = 0.0;
// }} ""
// {{ 2005 1 0 "433165f0_f811_4bfb_89f3eb38cad508f9" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_TotalSegments = 0;
// }} ""
// {{ 2006 1 0 "13695eb2_d39b_40ef_8f9ada6805580a7d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_Value = Translate("");
// }} ""
// {{{ 2007 1 0 "fc8e66c1_3259_4c8e_a53134bec9575ce8" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ValueFound = HELPERLIBRARY::GetDefinitionFileValue(i_str_ContainerFilePath, Translate("Segments"), str_Value);
// }} ""
// {{ 2008 1 0 "d86ab83b_ea84_4447_a05551b75aa2d94c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ValueFound == BOOLEON::TRUE)
{
// }} ""
// {{{ 2009 1 0 "5afd8918_07ab_4861_89ce6afeb6350751" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalSegments = StrIVal(str_Value);
// }} ""
// {{ 2010 1 0 "d86ab83b_ea84_4447_a05551b75aa2d94c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2011 1 0 "1b6b6a83_a311_44cd_9c943319934ffe63" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_TopDiameter.SetSize(0);
// }} ""
// {{ 2012 1 0 "eb6e5f3b_30a5_44a2_bf76189b1f793190" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_BottomDiameter.SetSize(0);
// }} ""
// {{ 2013 1 0 "0b7f03c5_7142_474b_b53e659d96fb38f3" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_Shape.SetSize(0);
// }} ""
// {{ 2014 1 0 "9d225040_a15b_49cd_89bfbb8cd5ba7f5a" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_MinHeight.SetSize(0);
// }} ""
// {{ 2015 1 0 "042478c5_86f5_4a62_a831921ac59e6c0b" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_MaxHeight.SetSize(0);
// }} ""
// {{ 2016 1 0 "9f6967a5_789b_42f8_aaf23da223360f17" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
i = int_TotalSegments;
// }} ""
// {{ 2017 1 0 "040c577c_b585_459e_b915a6ac6e54cbdc" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(a = 0; a < int_TotalSegments;)
{
a = a + 1;
// }} ""
// {{ 2018 1 0 "410af040_7c49_4577_9c6fd762677e421d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_Shape = -1;
// }} ""
// {{ 2019 1 0 "c6688bd9_763c_40fa_ab1d6733e0b9e204" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_Min = 0.0;
// }} ""
// {{ 2020 1 0 "0e99cdd8_1272_4601_9bd3d9d4ee135107" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_Max = 0.0;
// }} ""
// {{ 2021 1 0 "a6ca21a2_59f0_40b3_abc25cf75b6cc9d3" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_Dx = 0.0;
// }} ""
// {{ 2022 1 0 "b5bf2f6b_e3d6_44da_b8061d2f68910df0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_Dy = 0.0;
// }} ""
// {{ 2023 1 0 "059c9c6f_5160_4d79_89d654cb4f28ae5c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_Dz = 0.0;
// }} ""
// {{ 2024 1 0 "375fcabd_ff72_4596_bd3355f296e74ea4" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_TopDiameter = 0.0;
// }} ""
// {{ 2025 1 0 "0dce5836_6b3f_4596_aa67ad22a4bfb868" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_BottomDiameter = 0.0;
// }} ""
// {{{ 2026 1 0 "e9b634b4_0797_454a_a54ac52c0151fbeb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_SearchValueShape = StrConcat2(i, Translate(".Shape"));
// }} ""
// {{{ 2027 1 0 "5bb977ae_6c87_46e3_b2e747a6d12e6332" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_SearchValueMin = StrConcat2(i, Translate(".Min"));
// }} ""
// {{{ 2028 1 0 "772bfbfe_c38a_4b49_b7ba211ae1aca7b7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_SearchValueMax = StrConcat2(i, Translate(".Max"));
// }} ""
// {{{ 2029 1 0 "2f29d0a1_f2e6_4c29_bd6b40f3dbce8583" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_SearchValue1 = StrConcat2(i, Translate(".DX"));
// }} ""
// {{{ 2030 1 0 "a4bbda0c_9663_485b_a4c0fa828693dc41" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_SearchValue2 = StrConcat2(i, Translate(".DY"));
// }} ""
// {{{ 2031 1 0 "881ef103_cc64_4454_be98c39413ad7de6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_SearchValue3 = StrConcat2(i, Translate(".DZ"));
// }} ""
// {{ 2032 1 0 "ea8bdf65_91b1_4936_b07341a2d42e23b8" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 2033 1 0 "d80710f8_68d6_4f81_827b52e0aaaf1a55" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ValueFound = HELPERLIBRARY::GetDefinitionFileValue(i_str_ContainerFilePath, str_SearchValueShape, str_Value);
// }} ""
// {{ 2034 1 0 "a8e48435_4e36_4c63_9a4788735835b6af" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ValueFound == BOOLEON::TRUE)
{
// }} ""
// {{{ 2035 1 0 "ee2713c1_ed07_4067_90267e0791dd80a1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Shape = StrIVal(str_Value);
// }} ""
// {{ 2036 1 0 "a8e48435_4e36_4c63_9a4788735835b6af" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2037 1 0 "b3b6d1b4_4a21_4079_952953769bea0a12" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Shape >= 0)
{
// }} ""
// {{{ 2038 1 0 "5143facf_157a_4f8c_8d4fef6d1506aba6" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ValueFound = HELPERLIBRARY::GetDefinitionFileValue(i_str_ContainerFilePath, str_SearchValueMin, str_Value);
// }} ""
// {{ 2039 1 0 "dd214668_777e_41cb_aa7889bae6a9c766" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ValueFound == BOOLEON::TRUE)
{
// }} ""
// {{{ 2040 1 0 "792b433e_9838_4eef_abe0b0c12fc81488" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_Min = StrFVal(str_Value);
// }} ""
// {{ 2041 1 0 "dd214668_777e_41cb_aa7889bae6a9c766" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2042 1 0 "804467c3_e372_493e_a7bd601b6a204bf8" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ValueFound = HELPERLIBRARY::GetDefinitionFileValue(i_str_ContainerFilePath, str_SearchValueMax, str_Value);
// }} ""
// {{ 2043 1 0 "93f59648_73ee_4de6_b74afbb9e743036c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ValueFound == BOOLEON::TRUE)
{
// }} ""
// {{{ 2044 1 0 "c8f84e3b_aa17_467a_b69006b18e5db976" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_Max = StrFVal(str_Value);
// }} ""
// {{ 2045 1 0 "93f59648_73ee_4de6_b74afbb9e743036c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2046 1 0 "ea154c5c_18dc_485e_9af7228dedf785ed" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ValueFound = HELPERLIBRARY::GetDefinitionFileValue(i_str_ContainerFilePath, str_SearchValue1, str_Value);
// }} ""
// {{ 2047 1 0 "e0e16b60_df10_41aa_a58aa4e89c49390b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ValueFound == BOOLEON::TRUE)
{
// }} ""
// {{{ 2048 1 0 "e0d0a99d_0eac_40ef_9b86bd2d638555ee" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_Dx = StrFVal(str_Value);
// }} ""
// {{ 2049 1 0 "e0e16b60_df10_41aa_a58aa4e89c49390b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2050 1 0 "31103819_3077_4035_83da7d217c12fa7f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ValueFound = HELPERLIBRARY::GetDefinitionFileValue(i_str_ContainerFilePath, str_SearchValue2, str_Value);
// }} ""
// {{ 2051 1 0 "06e58e16_70db_4fe6_b9d4849063714590" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ValueFound == BOOLEON::TRUE)
{
// }} ""
// {{{ 2052 1 0 "4b20bdf8_5ee3_472f_94261b21a614ee3e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_Dy = StrFVal(str_Value);
// }} ""
// {{ 2053 1 0 "06e58e16_70db_4fe6_b9d4849063714590" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2054 1 0 "cc7f3270_8c1c_479d_b2490d2e0469a794" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ValueFound = HELPERLIBRARY::GetDefinitionFileValue(i_str_ContainerFilePath, str_SearchValue3, str_Value);
// }} ""
// {{ 2055 1 0 "2406334c_5e18_4c6c_9a6836673087e72b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ValueFound == BOOLEON::TRUE)
{
// }} ""
// {{{ 2056 1 0 "19401050_e3d1_4745_a29abdbc8143fc1f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_Dz = StrFVal(str_Value);
// }} ""
// {{ 2057 1 0 "2406334c_5e18_4c6c_9a6836673087e72b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2058 1 0 "b3b6d1b4_4a21_4079_952953769bea0a12" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2059 1 0 "ea8bdf65_91b1_4936_b07341a2d42e23b8" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2060 1 0 "9a8ab989_65e8_4700_a01f3950bb4f48b6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Shape == 0)
{
// }} ""
// {{ 2061 1 0 "0d40dd32_6e28_4e01_8a292e0489a0be91" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_TopDiameter = flt_Dz;
// }} ""
// {{ 2062 1 0 "9a8ab989_65e8_4700_a01f3950bb4f48b6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2063 1 0 "21421675_bad7_48ec_845e795d97cb2d58" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Shape == 1)
{
// }} ""
// {{ 2064 1 0 "89678cef_4b97_4602_aac87b09d61e4d1a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_TopDiameter = flt_Dx;
// }} ""
// {{ 2065 1 0 "2d66bdc5_8a1c_4f65_be96cd9fd1ff7c62" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_BottomDiameter = flt_Dy;
// }} ""
// {{ 2066 1 0 "21421675_bad7_48ec_845e795d97cb2d58" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2067 1 0 "58ea1f66_9d76_4816_83a6b7b990c1be20" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Shape == 2)
{
// }} ""
// {{ 2068 1 0 "1bb37925_9bd6_4d29_9f6371f80d1b6009" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_TopDiameter = flt_Dx;
// }} ""
// {{ 2069 1 0 "6faa45c4_70f1_422a_a64b7d888c82f293" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_BottomDiameter = flt_Dy;
// }} ""
// {{ 2070 1 0 "58ea1f66_9d76_4816_83a6b7b990c1be20" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2071 1 0 "0d0e396a_d69c_4690_a14b544507efef98" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Shape == 3)
{
// }} ""
// {{ 2072 1 0 "53f7b3e5_9aa0_4ccc_adf1c5e5b7c806bc" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_TopDiameter = flt_Dx;
// }} ""
// {{ 2073 1 0 "9fb79bf9_d1b7_4e8e_b26b3baa2fb0b60f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_BottomDiameter = flt_Dy;
// }} ""
// {{ 2074 1 0 "0d0e396a_d69c_4690_a14b544507efef98" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2075 1 0 "d6085439_daee_4cc4_9e4229cf1ea73357" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Shape == 4)
{
// }} ""
// {{ 2076 1 0 "6572cc4b_de12_4cbd_903365dc76a94e32" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_TopDiameter = flt_Dz;
// }} ""
// {{ 2077 1 0 "d6085439_daee_4cc4_9e4229cf1ea73357" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2078 1 0 "80c42f24_61ff_4781_a99ccc5703d52e15" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Shape == 5)
{
// }} ""
// {{ 2079 1 0 "4c6a08b5_eac0_49f0_abfda615b2a3564c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_TopDiameter = flt_Dz;
// }} ""
// {{ 2080 1 0 "80c42f24_61ff_4781_a99ccc5703d52e15" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2081 1 0 "f3ad7bfe_71cd_4ec3_930ec09725529657" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_Shape.AddAsLast(int_Shape);
// }} ""
// {{ 2082 1 0 "9fc92ea1_9f5d_484e_b64a6d4a74181a59" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_MinHeight.AddAsLast(flt_Min);
// }} ""
// {{ 2083 1 0 "2869dafd_faa1_4fdb_adc41d79c806040d" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_MaxHeight.AddAsLast(flt_Max);
// }} ""
// {{ 2084 1 0 "98919c76_9b96_4c18_8e2158856e65a147" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_TopDiameter.AddAsLast(flt_TopDiameter);
// }} ""
// {{ 2085 1 0 "0e0768c4_4784_4624_be3c9b2d2859a2ee" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_BottomDiameter.AddAsLast(flt_BottomDiameter);
// }} ""
// {{ 2086 1 0 "0e7c85bb_a298_42cc_97ae1cd863f9e6e0" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
i = i - 1;
// }} ""
// {{ 2087 1 0 "040c577c_b585_459e_b915a6ac6e54cbdc" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 2088 1 0 "f07e39b3_85b7_420d_849192894e7e4b1f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentVolume = 0.0;
// }} ""
// {{ 2089 1 0 "abf9c185_47b3_4f72_8473c91841ddaa74" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MinimumVolume = 0.0;
// }} ""
// {{ 2090 1 0 "8bdd1bc0_86e3_46cb_8537a0c97514766b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentHeight = 0.0;
// }} ""
// {{ 2091 1 0 "0b780a70_1a6b_4ad2_b52079959dab43d5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_SegmentNumber = 0;
// }} ""
// {{ 2092 1 0 "79adef7e_f0a3_4686_ba47b55767e07ee6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentMax = 0.0;
// }} ""
// {{ 2093 1 0 "458e99be_543b_4b32_951fcdec636cdcc4" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
while (BOOLEON::TRUE == BOOLEON::TRUE)
{
// }} ""
// {{ 2094 1 0 "7fc71712_5e4f_4ed1_a1234027fc5bb9e8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_CurrentVolume >= i_flt_VolumeToCalculate)
{
// }} ""
// {{ 2095 1 0 "7da8d9ea_1bc9_4257_b6b73f9b27b9617c" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 2096 1 0 "7fc71712_5e4f_4ed1_a1234027fc5bb9e8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2097 1 0 "0643bab3_9336_4954_b2260bce382515ee" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentHeight = flt_CurrentHeight + 0.1;
// }} ""
// {{ 2098 1 0 "5afc4395_5f14_4ced_bae3ec0f547efad9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_CurrentHeight > flt_CurrentMax)
{
// }} ""
// {{ 2099 1 0 "2e1d9f37_c932_458d_989acde272a1ab68" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_SegmentNumber = int_SegmentNumber + 1;
// }} ""
// {{ 2100 1 0 "baecae3a_03f5_4056_965895546e28350b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MinimumVolume = flt_CurrentVolume;
// }} ""
// {{ 2101 1 0 "685c5cab_0a27_41c1_babdd0d969ae51ae" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_SegmentNumber > int_TotalSegments)
{
// }} ""
// {{ 2102 1 0 "7aabc365_fbea_4d3e_a10fc88df75f425a" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 2103 1 0 "685c5cab_0a27_41c1_babdd0d969ae51ae" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2104 1 0 "5afc4395_5f14_4ced_bae3ec0f547efad9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2105 1 0 "08112fd1_4478_496d_b952f7423ab2eeab" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_CurrentMax=arr_MaxHeight.GetAt(int_SegmentNumber-1);
// }} ""
// {{ 2106 1 0 "c34558be_4878_4808_bed2359dd342ff17" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_CheckHeight = flt_CurrentHeight - arr_MinHeight.ElementAt( int_SegmentNumber -1);
// }} ""
// {{{ 2107 1 0 "d4dae74f_3360_4d89_a79f21444f15867b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
__GetVolumeForSegmentHeight(arr_Shape.ElementAt( int_SegmentNumber -1), arr_TopDiameter.ElementAt( int_SegmentNumber -1), arr_BottomDiameter.ElementAt( int_SegmentNumber -1), flt_CheckHeight, flt_Volume);
// }} ""
// {{ 2108 1 0 "615c958a_bde3_47b5_97a2a5bf76338a7c" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentVolume = flt_MinimumVolume + flt_Volume;
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
Trace("Current Height:  ",flt_CurrentHeight,"  Current Volume:  ",flt_CurrentVolume);
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 2110 1 0 "458e99be_543b_4b32_951fcdec636cdcc4" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 2111 1 0 "c90bcfb4_40de_4125_a42c989f5f38b12e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_HeightWithVolume = flt_CurrentHeight;
// }} ""
// {{{ 2112 1 0 "8b41bb0f_4f13_454b_8ecc31c7fd9d2115" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_HeightWithVolume = MthRound(o_flt_HeightWithVolume, 1);
// }} ""
// {{{ 5 "_GetHeightBasedOnVolume" "End"
}
// }} ""
// {{{ 5 "_CalculateLiquidFollowDistance" "Begin"
private function _CalculateLiquidFollowDistance( device & ML_STAR, variable i_str_LabID, variable i_str_PosID, variable i_flt_StartHeight, variable i_flt_VolumeToRemove, variable i_bln_AspirateMode, variable & o_flt_FollowDistance ) void {
// }} ""
private variable flt_StartVolume;
private variable flt_VolumeRemaining;
private variable flt_EndHeight;
private variable str_ConfigFile;
// {{ 5 "_CalculateLiquidFollowDistance" "InitLocals"
o_flt_FollowDistance = 0;
// }} ""
// {{{ 1674 1 0 "cee8dade_30c2_4bcf_8ac390a962aec585" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetContainerConfigurationFile(ML_STAR, i_str_LabID, i_str_PosID, str_ConfigFile);
// }} ""
// {{ 1675 1 0 "8257cf5e_fc7d_4dbd_9096f898f0f34ac3" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_FollowDistance = 0.0;
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{ 1676 1 0 "d885204d_46d4_46d3_a4055a1d615d3a9d" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_StartVolume = flt_StartVolume * 1000.0;
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 1677 1 0 "1a667183_45cd_4cbc_afb5855418e55d58" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_bln_AspirateMode == BOOLEON::TRUE)
{
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 1678 1 0 "e0f1306a_8287_4bb2_b2e6af2110a06412" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_StartVolume = DevComputeContainerVolume(ML_STAR, i_str_LabID, i_str_PosID, i_flt_StartHeight, BOOLEON::FALSE);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 1679 1 0 "9f02fb65_2b86_4b12_b4d39a8c29169ec3" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetVolumeBasedOnHeight(str_ConfigFile, i_flt_StartHeight, flt_StartVolume);
// }} ""
// {{ 1680 1 0 "270c4e98_1419_40d7_979cc404f038da5c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_flt_VolumeToRemove > flt_StartVolume)
{
// }} ""
// {{ 1681 1 0 "2e6e4ab7_92bb_459c_9ee515cf0e01de68" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_FollowDistance = i_flt_StartHeight;
// }} ""
// {{{ 1682 1 0 "47925c34_d875_4d12_9dac8ba9b03f983d" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 1683 1 0 "270c4e98_1419_40d7_979cc404f038da5c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1684 1 0 "d8e8e9d3_e0ab_4cff_acf3c4257785c060" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeRemaining = flt_StartVolume + i_flt_VolumeToRemove;
// }} ""
// {{{ 1685 1 0 "2169d61c_8b57_4cd5_a55fb1e39c44d498" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetHeightBasedOnVolume(str_ConfigFile, flt_VolumeRemaining, flt_EndHeight);
// }} ""
// {{ 1686 1 0 "c06c73cf_3eb5_47e4_99576fdc065edfc4" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_FollowDistance = i_flt_StartHeight - flt_EndHeight;
// }} ""
// {{ 1687 1 0 "1a667183_45cd_4cbc_afb5855418e55d58" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 1688 1 0 "5883c907_31c1_4678_92c9671529754960" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_StartVolume = DevComputeContainerVolume(ML_STAR, i_str_LabID, i_str_PosID, i_flt_StartHeight, BOOLEON::FALSE);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 1689 1 0 "82f80289_1645_4b99_80577db03febba19" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetVolumeBasedOnHeight(str_ConfigFile, i_flt_StartHeight, flt_StartVolume);
// }} ""
// {{ 1690 1 0 "4a16f55f_b185_470f_9230a45c9e35a166" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeRemaining = flt_StartVolume + i_flt_VolumeToRemove;
// }} ""
// {{{ 1691 1 0 "80af49a1_a6a0_4c6b_87e2780a16395de4" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetHeightBasedOnVolume(str_ConfigFile, flt_VolumeRemaining, flt_EndHeight);
// }} ""
// {{ 1692 1 0 "4691eb21_b7f6_403d_9db2a63e4d7dfe60" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_FollowDistance = flt_EndHeight - i_flt_StartHeight;
// }} ""
// {{ 1693 1 0 "1a667183_45cd_4cbc_afb5855418e55d58" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 1694 1 0 "01cccdf8_b767_4295_8558bd2b30383d13" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Start Volume:  "), flt_StartVolume, Translate(" uL"));
// }} ""
// {{{ 1695 1 0 "2e493943_add7_433c_aac78d75181aaf22" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Start Height:  "), i_flt_StartHeight, Translate(" mm"));
// }} ""
// {{{ 1696 1 0 "da5fe0a8_0444_4d0d_b5999618d8af7f6b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("End Volume:  "), flt_VolumeRemaining, Translate(" uL"));
// }} ""
// {{{ 1697 1 0 "826a0fec_b0fe_4dfc_97a511e19bf3a2ec" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("End Height:  "), flt_EndHeight, Translate(" mm"));
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 1698 1 0 "01e5fea5_8cae_437b_a24bf618878519d4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (o_flt_FollowDistance < 0.0)
{
// }} ""
// {{ 1699 1 0 "f992bc1a_3ff4_48db_9422a41352c7a5aa" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_FollowDistance = 0.0;
// }} ""
// {{ 1700 1 0 "01e5fea5_8cae_437b_a24bf618878519d4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 1701 1 0 "5371ad89_5bfd_4a12_8d7e682819414475" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Follow distance:  "), o_flt_FollowDistance, Translate(" mm"));
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 5 "_CalculateLiquidFollowDistance" "End"
}
// }} ""
// {{{ 5 "_GetVolumeBasedOnHeight" "Begin"
private function _GetVolumeBasedOnHeight( variable i_str_ContainerFilePath, variable i_flt_HeightToCalculate, variable & o_flt_VolumeFromHeight ) void {
// }} ""
private variable str_SearchValueMax;
private variable flt_CurrentVolume;
private variable flt_CheckHeight;
private variable str_SearchValueShape;
private variable flt_Dx;
private variable i;
private variable flt_Dy;
private variable flt_TopDiameter;
private variable flt_MinimumVolume;
private variable flt_Dz;
private variable flt_BottomDiameter;
private variable int_SegmentNumber;
private variable str_SearchValue1;
private variable int_TotalSegments;
private variable str_SearchValue2;
private variable flt_CurrentMax;
private variable str_SearchValue3;
private variable a;
private variable bln_ValueFound;
private variable flt_CurrentHeight;
private variable flt_Volume;
private variable flt_Min;
private variable str_SearchValueMin;
private variable flt_Max;
private variable int_Shape;
private variable str_Value;
private variable arr_BottomDiameter[];
private variable arr_MinHeight[];
private variable arr_TopDiameter[];
private variable arr_MaxHeight[];
private variable arr_Shape[];
// {{ 5 "_GetVolumeBasedOnHeight" "InitLocals"
o_flt_VolumeFromHeight = 0;
// }} ""
// {{ 2434 1 0 "310877a0_a056_42a4_a03f31cfc1a2bfd5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_VolumeFromHeight = 0.0;
// }} ""
// {{ 2435 1 0 "ca0a636c_8697_4abd_ade6693c74cf11e8" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_TotalSegments = 0;
// }} ""
// {{ 2436 1 0 "3dc577bc_61c3_46bb_88f3ebc5bb23d996" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_Value = Translate("");
// }} ""
// {{{ 2437 1 0 "d4031cac_0cce_45e5_99d61b535382c413" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ValueFound = HELPERLIBRARY::GetDefinitionFileValue(i_str_ContainerFilePath, Translate("Segments"), str_Value);
// }} ""
// {{ 2438 1 0 "d68df31a_4c69_4364_a2a82100b9759a28" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ValueFound == BOOLEON::TRUE)
{
// }} ""
// {{{ 2439 1 0 "70a535cc_b6f9_44ee_b6fc6abc22be7453" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalSegments = StrIVal(str_Value);
// }} ""
// {{ 2440 1 0 "d68df31a_4c69_4364_a2a82100b9759a28" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2441 1 0 "eaf29d03_394f_4448_8643ed400315a948" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_TopDiameter.SetSize(0);
// }} ""
// {{ 2442 1 0 "e8037ae1_a025_4df3_b2ca9b7abbab6324" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_BottomDiameter.SetSize(0);
// }} ""
// {{ 2443 1 0 "f74fa1d3_209b_42ee_8541e13050d79b28" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_Shape.SetSize(0);
// }} ""
// {{ 2444 1 0 "5080a430_ef59_4bf2_95f1a164de8e05df" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_MinHeight.SetSize(0);
// }} ""
// {{ 2445 1 0 "4100f791_f1e7_4c82_8533a770cf83137d" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_MaxHeight.SetSize(0);
// }} ""
// {{ 2446 1 0 "83895b5e_0a37_40a9_b7f1169b44ef62bd" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
i = int_TotalSegments;
// }} ""
// {{ 2447 1 0 "3ba77a87_98b6_4b48_a132ab4db2a20f20" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(a = 0; a < int_TotalSegments;)
{
a = a + 1;
// }} ""
// {{ 2448 1 0 "a6e8fb4c_c9a8_4d00_a46e31a4f299ce6d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_Shape = -1;
// }} ""
// {{ 2449 1 0 "6304dc2c_0cd3_430b_a0ed04f2594576c7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_Min = 0.0;
// }} ""
// {{ 2450 1 0 "a7e456cc_f749_4ec6_bec9c46c73bdd581" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_Max = 0.0;
// }} ""
// {{ 2451 1 0 "5dd6fbf6_3fcd_4ee8_900dfba5ac5f3f28" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_Dx = 0.0;
// }} ""
// {{ 2452 1 0 "4be7a2a8_5673_455f_adede9ab672b8e23" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_Dy = 0.0;
// }} ""
// {{ 2453 1 0 "1ebf424c_4e98_4410_b8931381c601d649" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_Dz = 0.0;
// }} ""
// {{ 2454 1 0 "c41f4fba_30fb_4f0f_a8460a7dfdd9ecba" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_TopDiameter = 0.0;
// }} ""
// {{ 2455 1 0 "514bd6ac_cc03_4957_ba1ce8980a5f445c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_BottomDiameter = 0.0;
// }} ""
// {{{ 2456 1 0 "8e72dc8b_9c15_422a_a5876dfbeda3219d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_SearchValueShape = StrConcat2(i, Translate(".Shape"));
// }} ""
// {{{ 2457 1 0 "68e469b2_d452_4ce2_81cbac993d092eb2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_SearchValueMin = StrConcat2(i, Translate(".Min"));
// }} ""
// {{{ 2458 1 0 "cdfa6d68_311e_48ec_8619f376268a9989" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_SearchValueMax = StrConcat2(i, Translate(".Max"));
// }} ""
// {{{ 2459 1 0 "d03c6375_8f2a_4269_b08339e694e08d1e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_SearchValue1 = StrConcat2(i, Translate(".DX"));
// }} ""
// {{{ 2460 1 0 "a0c9c464_2526_4582_b14ccddbe25f4463" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_SearchValue2 = StrConcat2(i, Translate(".DY"));
// }} ""
// {{{ 2461 1 0 "157d6ccc_2c92_460c_b4ad8226cedb3f38" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_SearchValue3 = StrConcat2(i, Translate(".DZ"));
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
Trace("Search Values:  ",str_SearchValue1,"   ",str_SearchValue2,"   ",str_SearchValue3);
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 2463 1 0 "6c126f74_b332_4772_88b1cec590cb5c4d" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 2464 1 0 "3196b0f4_62b0_4947_b6e2f5eba826ceff" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ValueFound = HELPERLIBRARY::GetDefinitionFileValue(i_str_ContainerFilePath, str_SearchValueShape, str_Value);
// }} ""
// {{ 2465 1 0 "6e0b8b53_d60d_44be_aa8dbf322b1c4bbd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ValueFound == BOOLEON::TRUE)
{
// }} ""
// {{{ 2466 1 0 "02b7659f_b446_4a9b_aceaa7b2136fe538" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Shape = StrIVal(str_Value);
// }} ""
// {{ 2467 1 0 "6e0b8b53_d60d_44be_aa8dbf322b1c4bbd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2468 1 0 "67579271_f747_4379_b0f551034fc25d90" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Shape >= 0)
{
// }} ""
// {{{ 2469 1 0 "31c6b2a1_19c9_4894_908ad3633fcda125" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ValueFound = HELPERLIBRARY::GetDefinitionFileValue(i_str_ContainerFilePath, str_SearchValueMin, str_Value);
// }} ""
// {{ 2470 1 0 "33bc8d7a_4aec_4330_93b3b814b9e46aa0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ValueFound == BOOLEON::TRUE)
{
// }} ""
// {{{ 2471 1 0 "b1da4824_0c40_4728_b611701336936fad" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_Min = StrFVal(str_Value);
// }} ""
// {{ 2472 1 0 "33bc8d7a_4aec_4330_93b3b814b9e46aa0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2473 1 0 "d7ed71b8_f18f_4877_8bae144ca3654d27" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ValueFound = HELPERLIBRARY::GetDefinitionFileValue(i_str_ContainerFilePath, str_SearchValueMax, str_Value);
// }} ""
// {{ 2474 1 0 "e33babe2_d295_48df_a9d69a9968414c88" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ValueFound == BOOLEON::TRUE)
{
// }} ""
// {{{ 2475 1 0 "f8ed1c12_d844_43f2_89a74ffc62b21258" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_Max = StrFVal(str_Value);
// }} ""
// {{ 2476 1 0 "e33babe2_d295_48df_a9d69a9968414c88" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2477 1 0 "32f25600_08d2_4a3f_9891b8ed5080033e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ValueFound = HELPERLIBRARY::GetDefinitionFileValue(i_str_ContainerFilePath, str_SearchValue1, str_Value);
// }} ""
// {{ 2478 1 0 "524b252c_a76d_4edc_8e2e64c31868bd14" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ValueFound == BOOLEON::TRUE)
{
// }} ""
// {{{ 2479 1 0 "c6a7a030_624f_4ca8_adb920dec8964e6f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_Dx = StrFVal(str_Value);
// }} ""
// {{ 2480 1 0 "524b252c_a76d_4edc_8e2e64c31868bd14" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2481 1 0 "9a7d2a8f_a00e_4778_a589cf5e0d15ad3e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ValueFound = HELPERLIBRARY::GetDefinitionFileValue(i_str_ContainerFilePath, str_SearchValue2, str_Value);
// }} ""
// {{ 2482 1 0 "1f235323_da72_4c85_9562057e560fe30c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ValueFound == BOOLEON::TRUE)
{
// }} ""
// {{{ 2483 1 0 "85bd18d6_c28a_49e6_a4f3b5ae7cf6b92e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_Dy = StrFVal(str_Value);
// }} ""
// {{ 2484 1 0 "1f235323_da72_4c85_9562057e560fe30c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2485 1 0 "9518eded_a356_4b5b_9bb57b3a197949c9" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ValueFound = HELPERLIBRARY::GetDefinitionFileValue(i_str_ContainerFilePath, str_SearchValue3, str_Value);
// }} ""
// {{ 2486 1 0 "b01502d1_1e2c_4aaa_89700648f88b9045" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ValueFound == BOOLEON::TRUE)
{
// }} ""
// {{{ 2487 1 0 "5deffef5_df91_4a69_bb7c0eb17ce36f45" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_Dz = StrFVal(str_Value);
// }} ""
// {{ 2488 1 0 "b01502d1_1e2c_4aaa_89700648f88b9045" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2489 1 0 "67579271_f747_4379_b0f551034fc25d90" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2490 1 0 "6c126f74_b332_4772_88b1cec590cb5c4d" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2491 1 0 "6d1d91ce_d097_4867_9c7f821ad2d3b113" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Shape == 0)
{
// }} ""
// {{ 2492 1 0 "beabb169_44e3_4d54_906357e570bb5561" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_TopDiameter = flt_Dz;
// }} ""
// {{ 2493 1 0 "6d1d91ce_d097_4867_9c7f821ad2d3b113" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2494 1 0 "dcf574fd_314e_4d0e_94d133f822f4f958" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Shape == 1)
{
// }} ""
// {{ 2495 1 0 "7d00510c_f2ca_448c_ac0d03d033b929f2" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_TopDiameter = flt_Dx;
// }} ""
// {{ 2496 1 0 "a7aa9122_030e_4dd0_9dcd91bc1a1d899d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_BottomDiameter = flt_Dy;
// }} ""
// {{ 2497 1 0 "dcf574fd_314e_4d0e_94d133f822f4f958" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2498 1 0 "96fc0c13_af61_406e_bb0c9eaf81f826f0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Shape == 2)
{
// }} ""
// {{ 2499 1 0 "b077ed05_f713_4cee_a227287b5999dc21" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_TopDiameter = flt_Dx;
// }} ""
// {{ 2500 1 0 "3cf6f45a_1403_4a3f_87977560506ea4e5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_BottomDiameter = flt_Dy;
// }} ""
// {{ 2501 1 0 "96fc0c13_af61_406e_bb0c9eaf81f826f0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2502 1 0 "3170b54d_f0ab_4afe_86e5c6c91d6232cd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Shape == 3)
{
// }} ""
// {{ 2503 1 0 "9a04824e_f8c1_4531_adf88586b6ad8cdc" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_TopDiameter = flt_Dx;
// }} ""
// {{ 2504 1 0 "e15550f2_c94d_4c18_9e79ea06baccb122" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_BottomDiameter = flt_Dy;
// }} ""
// {{ 2505 1 0 "3170b54d_f0ab_4afe_86e5c6c91d6232cd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2506 1 0 "9672a3b3_d367_45b9_beee7751f1e26213" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Shape == 4)
{
// }} ""
// {{ 2507 1 0 "b3d17f48_6521_4723_8c85329bde1b8bac" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_TopDiameter = flt_Dz;
// }} ""
// {{ 2508 1 0 "9672a3b3_d367_45b9_beee7751f1e26213" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2509 1 0 "05f8fe9d_511b_4130_a5001384a915303e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Shape == 5)
{
// }} ""
// {{ 2510 1 0 "93d84481_c231_4235_96b33454598ba0a7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_TopDiameter = flt_Dz;
// }} ""
// {{ 2511 1 0 "05f8fe9d_511b_4130_a5001384a915303e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2512 1 0 "ca71c6d0_0762_42f3_b43f2e726a98903e" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_Shape.AddAsLast(int_Shape);
// }} ""
// {{ 2513 1 0 "455d3478_c0f3_4800_8d9853b80b122ba8" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_MinHeight.AddAsLast(flt_Min);
// }} ""
// {{ 2514 1 0 "21eaec6f_638b_425f_8823d6fe85f09385" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_MaxHeight.AddAsLast(flt_Max);
// }} ""
// {{ 2515 1 0 "3f80e9cf_f2ec_4cc3_ace175b5bf1e3574" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_TopDiameter.AddAsLast(flt_TopDiameter);
// }} ""
// {{ 2516 1 0 "e0e49af4_ece2_4849_966f7b4f836b7aeb" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_BottomDiameter.AddAsLast(flt_BottomDiameter);
// }} ""
// {{ 2517 1 0 "7e179a9a_2bc2_41d8_84ef0c885540da70" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
i = i - 1;
// }} ""
// {{ 2518 1 0 "3ba77a87_98b6_4b48_a132ab4db2a20f20" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 2519 1 0 "550dd227_b2f5_412d_b2faaad16bb31c04" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentVolume = 0.0;
// }} ""
// {{ 2520 1 0 "0819498f_bbb9_4f50_9bd9174a477f7e31" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MinimumVolume = 0.0;
// }} ""
// {{ 2521 1 0 "a64310f1_6901_4281_ac1b96c9d8fcc7e6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentHeight = 0.0;
// }} ""
// {{ 2522 1 0 "0f532515_145d_4b84_a37b440ee80ddd2b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_SegmentNumber = 0;
// }} ""
// {{ 2523 1 0 "48105dc0_0f21_4089_99b58f53010260c0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentMax = 0.0;
// }} ""
// {{ 2524 1 0 "efd67301_d17b_47ee_94956e69a49fc9a7" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
while (BOOLEON::TRUE == BOOLEON::TRUE)
{
// }} ""
// {{ 2525 1 0 "97dc4464_6e0d_4a23_b26369cf3771f795" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_CurrentHeight >= i_flt_HeightToCalculate)
{
// }} ""
// {{ 2526 1 0 "b6dab12c_7038_4538_acc880baec3da876" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 2527 1 0 "97dc4464_6e0d_4a23_b26369cf3771f795" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2528 1 0 "f0edea11_e722_4a58_a5fc58fb4c16f82a" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentHeight = flt_CurrentHeight + 0.1;
// }} ""
// {{ 2529 1 0 "06a2aba7_5e7e_43c5_b9f725def4f81a59" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_CurrentHeight > flt_CurrentMax)
{
// }} ""
// {{ 2530 1 0 "bd6cd05c_234c_4c59_92544f43d41c058c" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_SegmentNumber = int_SegmentNumber + 1;
// }} ""
// {{ 2531 1 0 "6bd01fce_2bcf_4f36_b22af91f532bf598" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MinimumVolume = flt_CurrentVolume;
// }} ""
// {{ 2532 1 0 "c4c6b25d_9953_4f25_964b3bcd3193fe07" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_SegmentNumber > int_TotalSegments)
{
// }} ""
// {{ 2533 1 0 "efb17e1e_b635_4949_b89c2617e533b5c6" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 2534 1 0 "c4c6b25d_9953_4f25_964b3bcd3193fe07" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2535 1 0 "06a2aba7_5e7e_43c5_b9f725def4f81a59" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2536 1 0 "7c6c3e8a_7116_4a69_a46e3cd8354a510e" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_CurrentMax=arr_MaxHeight.GetAt(int_SegmentNumber-1);
// }} ""
// {{ 2537 1 0 "846c9ee1_dbc9_4406_a47e969c130c168b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_CheckHeight = flt_CurrentHeight - arr_MinHeight.ElementAt( int_SegmentNumber -1);
// }} ""
// {{{ 2538 1 0 "24c1010c_d383_4a6e_98554fbe62af83b5" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
__GetVolumeForSegmentHeight(arr_Shape.ElementAt( int_SegmentNumber -1), arr_TopDiameter.ElementAt( int_SegmentNumber -1), arr_BottomDiameter.ElementAt( int_SegmentNumber -1), flt_CheckHeight, flt_Volume);
// }} ""
// {{ 2539 1 0 "217182e5_b91f_4193_b99377499cf8efdb" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentVolume = flt_MinimumVolume + flt_Volume;
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
Trace("Current Height:  ",flt_CurrentHeight,"  Current Volume:  ",flt_CurrentVolume);
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 2541 1 0 "efd67301_d17b_47ee_94956e69a49fc9a7" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 2542 1 0 "fa383c86_bb2b_4ca7_95b944e8024b3dee" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_VolumeFromHeight = flt_CurrentVolume;
// }} ""
// {{{ 2543 1 0 "e7184a20_7917_48c5_af2a271adda81d7d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_VolumeFromHeight = MthRound(o_flt_VolumeFromHeight, 1);
// }} ""
// {{{ 5 "_GetVolumeBasedOnHeight" "End"
}
// }} ""
// {{{ 5 "_GetLiquidFollowingForAllChannels" "Begin"
private function _GetLiquidFollowingForAllChannels( device & ML_STAR, variable & i_arr_FixedHeights[], sequence i_seq_PositionsToCalculate, variable i_bln_LiquidFollowingEnabled, variable i_bln_Aspirate, variable i_flt_VolumeToUse, variable i_str_ChPattern, variable & o_arr_LiquidFollowingDistance[] ) void {
// }} ""
private variable flt_LiquidFollow;
private variable str_LabID;
private variable int_TotalChannels;
private variable int_ChannelIndex;
private variable str_PosID;
private variable int_TotalInSeq;
private variable int_Value;
// {{ 5 "_GetLiquidFollowingForAllChannels" "InitLocals"
o_arr_LiquidFollowingDistance.SetSize( 0);
// }} ""
// {{{ 2309 1 0 "94063077_2a57_45a5_9dea7d40cfd2db13" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::GetChannelNumber1mL(ML_STAR, int_TotalChannels);
// }} ""
// {{ 2310 1 0 "6825d597_1532_4c4b_ba34d8fb8c2e4eb7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_bln_Aspirate == BOOLEON::TRUE)
{
// }} ""
// {{ 2311 1 0 "cfcac569_afa0_4ccc_b2f6ffe074120afe" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
i_flt_VolumeToUse = i_flt_VolumeToUse * -1;
// }} ""
// {{ 2312 1 0 "6825d597_1532_4c4b_ba34d8fb8c2e4eb7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2313 1 0 "60abee57_c8c1_4fbe_825b8f18de7eeed4" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_LiquidFollowingDistance.SetSize(0);
// }} ""
// {{{ 2314 1 0 "dcc3b4c2_09af_4966_9718440494a15869" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalInSeq = SeqGetTotal(i_seq_PositionsToCalculate);
// }} ""
// {{ 2315 1 0 "9e7ec2d0_c501_4b21_a28ba2e39618c507" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChannelIndex = 0; int_ChannelIndex < int_TotalChannels;)
{
int_ChannelIndex = int_ChannelIndex + 1;
// }} ""
// {{ 2316 1 0 "36650e1d_5e33_4a6f_8cafc41bc5bdb75c" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
i_seq_PositionsToCalculate.SetCurrentPosition(int_ChannelIndex);
// }} ""
// {{{ 2317 1 0 "0b9f364a_444e_4e36_965a0caa2256bed5" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(i_str_ChPattern, int_ChannelIndex, int_Value);
// }} ""
// {{ 2318 1 0 "c6b65f00_7100_48a7_8ba502046afabe40" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{ 2319 1 0 "567fecfc_be74_4e86_8268e15cb7ab6b4b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ChannelIndex <= int_TotalInSeq)
{
// }} ""
// {{{ 2320 1 0 "1a7bff4d_9f79_4e50_b2fdce70d8eba802" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(i_seq_PositionsToCalculate);
// }} ""
// {{{ 2321 1 0 "1c7184b3_88c7_42c9_8f6034cea7dd5644" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(i_seq_PositionsToCalculate);
// }} ""
// {{ 2322 1 0 "bf559173_4f7d_4c9a_918d83a77e262dd2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_bln_LiquidFollowingEnabled == BOOLEON::TRUE)
{
// }} ""
// {{{ 2323 1 0 "35abdc8f_43cb_48ac_8771f1dafb65aedd" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_CalculateLiquidFollowDistance(ML_STAR, str_LabID, str_PosID, i_arr_FixedHeights.ElementAt( int_ChannelIndex -1), i_flt_VolumeToUse, i_bln_Aspirate, flt_LiquidFollow);
// }} ""
// {{ 2324 1 0 "bf559173_4f7d_4c9a_918d83a77e262dd2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 2325 1 0 "d5ecd557_7b9d_4caa_9f387d6d9f116094" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_LiquidFollow = 0.0;
// }} ""
// {{ 2326 1 0 "bf559173_4f7d_4c9a_918d83a77e262dd2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2327 1 0 "567fecfc_be74_4e86_8268e15cb7ab6b4b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 2328 1 0 "d66a0a1c_93f1_4e78_b280464d82bb6bee" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_LiquidFollow = 0.0;
// }} ""
// {{ 2329 1 0 "567fecfc_be74_4e86_8268e15cb7ab6b4b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2330 1 0 "f744c73a_93df_41d0_94ab0f745aa885eb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_LiquidFollow = MthRound(flt_LiquidFollow, 1);
// }} ""
// {{ 2331 1 0 "c6b65f00_7100_48a7_8ba502046afabe40" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 2332 1 0 "ba294a26_1e03_4263_a55e0336b1fc63d7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_LiquidFollow = 0.0;
// }} ""
// {{ 2333 1 0 "c6b65f00_7100_48a7_8ba502046afabe40" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2334 1 0 "d142b0ed_e515_4b48_939b602e3201705c" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_LiquidFollowingDistance.AddAsLast(flt_LiquidFollow);
// }} ""
// {{ 2335 1 0 "9e7ec2d0_c501_4b21_a28ba2e39618c507" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 5 "_GetLiquidFollowingForAllChannels" "End"
}
// }} ""
// {{{ 5 "_ApplyOffsetToArrayofValues" "Begin"
private function _ApplyOffsetToArrayofValues( variable & i_arr_Values[], variable i_flt_Offset, variable & o_arr_AdjustedValues[] ) void {
// }} ""
private variable int_TotalChannels;
private variable int_ChannelIndex;
private variable flt_NewValue;
// {{ 5 "_ApplyOffsetToArrayofValues" "InitLocals"
o_arr_AdjustedValues.SetSize( 0);
// }} ""
// {{ 1667 1 0 "0bae8f1b_f66f_4b55_870dbe5d15216391" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_AdjustedValues.SetSize(0);
// }} ""
// {{ 1668 1 0 "474376b2_e405_46b7_9493f83a471b3869" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
int_TotalChannels=i_arr_Values.GetSize();
// }} ""
// {{ 1669 1 0 "5534d8c3_421a_47f5_a1dbb1da81adc6f0" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChannelIndex = 0; int_ChannelIndex < int_TotalChannels;)
{
int_ChannelIndex = int_ChannelIndex + 1;
// }} ""
// {{ 1670 1 0 "13b571c6_6f1f_4233_afa10add353fb6ea" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_NewValue = i_arr_Values.ElementAt( int_ChannelIndex -1) + i_flt_Offset;
// }} ""
// {{ 1671 1 0 "ac912414_9e42_442d_b5792c9a1a18c5ff" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_AdjustedValues.AddAsLast(flt_NewValue);
// }} ""
// {{ 1672 1 0 "5534d8c3_421a_47f5_a1dbb1da81adc6f0" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 5 "_ApplyOffsetToArrayofValues" "End"
}
// }} ""
// {{{ 5 "_GetLiquidClassParams" "Begin"
private function _GetLiquidClassParams( variable i_str_LiquidClass, variable i_bln_Asp, variable & o_flt_FlowRate, variable & o_flt_MixFlowRate, variable & o_flt_AirTransportVolume, variable & o_flt_BlowoutVolume, variable & o_flt_SwapSpeed, variable & o_int_SettlingTime, variable & o_flt_OverAspVolume, variable & o_flt_ClotRetractHeight, variable & o_flt_StopFlowRate, variable & o_flt_StopBackVolume, variable & o_flt_MaxVolume, variable & o_int_DispenseMode, variable & o_arr_CorrectionCurveX[], variable & o_arr_CorrectionCurveY[] ) void {
// }} ""
private variable str_LiquidName;
private variable int_TipType;
private variable str_DispenseMode;
// {{ 5 "_GetLiquidClassParams" "InitLocals"
o_flt_FlowRate = 0;
o_flt_MixFlowRate = 0;
o_flt_AirTransportVolume = 0;
o_flt_BlowoutVolume = 0;
o_flt_SwapSpeed = 0;
o_int_SettlingTime = 0;
o_flt_OverAspVolume = 0;
o_flt_ClotRetractHeight = 0;
o_flt_StopFlowRate = 0;
o_flt_StopBackVolume = 0;
o_flt_MaxVolume = 0;
o_int_DispenseMode = 0;
o_arr_CorrectionCurveX.SetSize( 0);
o_arr_CorrectionCurveY.SetSize( 0);
// }} ""
// {{ 2262 1 0 "2453ebcf_bd9c_47cf_988faa25fe0e1763" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_AirTransportVolume = 0.0;
// }} ""
// {{ 2263 1 0 "964832dc_255b_47d0_95b0182dd023cae9" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_BlowoutVolume = 0.0;
// }} ""
// {{ 2264 1 0 "cdfdf9b0_df3d_4894_bf6d53de491b8d2c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_ClotRetractHeight = 0.0;
// }} ""
// {{{ 2265 1 0 "37d5cd05_4581_4e75_8793accda87e9a59" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Liquid Class:  "), i_str_LiquidClass);
// }} ""
// {{ 2266 1 0 "440b3194_eaa0_4abb_af67e7974bb44257" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_FlowRate = 0.0;
// }} ""
// {{ 2267 1 0 "1d26e89f_dd0b_4c85_acb570ccd6222e9e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_MixFlowRate = 0.0;
// }} ""
// {{ 2268 1 0 "fa99a00e_91c4_4c7f_b6b18ceeb3a008fe" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_OverAspVolume = 0.0;
// }} ""
// {{ 2269 1 0 "5de256cd_2dcb_4f65_8fda97e48204617f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_StopBackVolume = 0.0;
// }} ""
// {{ 2270 1 0 "2c32f5ab_a37f_40c8_a953422592285f40" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_StopFlowRate = 0.0;
// }} ""
// {{ 2271 1 0 "f3abfae8_4dad_4554_b881e24e8b148933" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_SwapSpeed = 0.0;
// }} ""
// {{ 2272 1 0 "47b63014_adce_441a_ac38ffb898c4d50b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_int_SettlingTime = 0;
// }} ""
// {{ 2273 1 0 "3a5cce18_39f6_47cd_bb1d920005264b08" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_MaxVolume = 0.0;
// }} ""
// {{ 2274 1 0 "9dc93cbf_17f2_4c65_b0761fdb14591344" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_CorrectionCurveX.SetSize(0);
// }} ""
// {{ 2275 1 0 "562eb4f5_2fdd_4e73_ae4ec5120ea1a095" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_CorrectionCurveY.SetSize(0);
// }} ""
// {{{ 2276 1 0 "ad491e2c_620e_4f59_957994df76d90b87" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
MLSTAR_LIQUIDCLASSLib::Initialize(BOOLEON::TRUE);
// }} ""
// {{{ 2277 1 0 "eac32921_0d3f_4591_a403f53cfc7b6cd3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
MLSTAR_LIQUIDCLASSLib::SelectLiquidClass(i_str_LiquidClass);
// }} ""
// {{{ 2278 1 0 "a2907b51_776c_4ecb_b0abfd381b4723f0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
MLSTAR_LIQUIDCLASSLib::GetCorrectionCurve(o_arr_CorrectionCurveX, o_arr_CorrectionCurveY);
// }} ""
// {{{ 2279 1 0 "51181bca_30d4_49c5_967dab11a7344251" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_MaxVolume = MLSTAR_LIQUIDCLASSLib::GetLiquidClassParameter(MLSTAR_LIQUIDCLASSLib::LIQUIDCLASS_PARAMS::MaxAspirateVolume);
// }} ""
// {{{ 2280 1 0 "b809532c_8463_4c53_8bd07e69abfe6667" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LiquidName = MLSTAR_LIQUIDCLASSLib::GetLiquidClassParameter(MLSTAR_LIQUIDCLASSLib::LIQUIDCLASS_PARAMS::LiquidName);
// }} ""
// {{{ 2281 1 0 "45303782_9445_47c3_94a902203fedce14" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TipType = MLSTAR_LIQUIDCLASSLib::GetLiquidClassParameter(MLSTAR_LIQUIDCLASSLib::LIQUIDCLASS_PARAMS::TipType);
// }} ""
// {{{ 2282 1 0 "c6cde118_e451_4b0e_9faf7042ca503b9c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_DispenseMode = MLSTAR_LIQUIDCLASSLib::GetLiquidClassParameter(MLSTAR_LIQUIDCLASSLib::LIQUIDCLASS_PARAMS::DispenseMode);
// }} ""
// {{{ 2283 1 0 "54ca59a6_8b69_47e7_b069940645c3e88e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::ConvertToInteger(str_DispenseMode, o_int_DispenseMode);
// }} ""
// {{ 2284 1 0 "bb2c02ba_a34f_4e4a_8a23ad07b3a01565" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_bln_Asp == BOOLEON::TRUE)
{
// }} ""
// {{{ 2285 1 0 "2e1de501_3213_4015_99a4364ffbf27ba7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Max volume for tip:  "), o_flt_MaxVolume);
// }} ""
// {{{ 2286 1 0 "080d09ec_b590_4d39_b854fde7494f1367" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Liquid Name:  "), str_LiquidName);
// }} ""
// {{{ 2287 1 0 "94bd4c35_f1e6_4897_8291a347912d3410" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Tip Type:  "), int_TipType);
// }} ""
// {{{ 2288 1 0 "82edc29e_bcc7_4092_a5566f0a3051635d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Dispense Mode:  "), str_DispenseMode);
// }} ""
// {{{ 2289 1 0 "383a9a34_e24a_4466_9477c56322411d72" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_AirTransportVolume = MLSTAR_LIQUIDCLASSLib::GetLiquidClassAspirateParameter(MLSTAR_LIQUIDCLASSLib::LIQUIDCLASS_PARAMS_ASP::AirTransportVolume);
// }} ""
// {{{ 2290 1 0 "64e3587e_2d72_4e55_9522c4a518a4cb81" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_BlowoutVolume = MLSTAR_LIQUIDCLASSLib::GetLiquidClassAspirateParameter(MLSTAR_LIQUIDCLASSLib::LIQUIDCLASS_PARAMS_ASP::BlowOutVolume);
// }} ""
// {{{ 2291 1 0 "63d70743_c2ef_47cc_a8ce83a74e33fe03" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_ClotRetractHeight = MLSTAR_LIQUIDCLASSLib::GetLiquidClassAspirateParameter(MLSTAR_LIQUIDCLASSLib::LIQUIDCLASS_PARAMS_ASP::ClotRetractHeight);
// }} ""
// {{{ 2292 1 0 "99b73645_d473_471f_a45b7aed0bc8bfc7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_FlowRate = MLSTAR_LIQUIDCLASSLib::GetLiquidClassAspirateParameter(MLSTAR_LIQUIDCLASSLib::LIQUIDCLASS_PARAMS_ASP::FlowRate);
// }} ""
// {{{ 2293 1 0 "a5e9c794_5ee5_444e_842f67aa3684b275" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_MixFlowRate = MLSTAR_LIQUIDCLASSLib::GetLiquidClassAspirateParameter(MLSTAR_LIQUIDCLASSLib::LIQUIDCLASS_PARAMS_ASP::MixFlowRate);
// }} ""
// {{{ 2294 1 0 "ef106bf3_351c_4800_a8c4bbcc76c0cd15" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_OverAspVolume = MLSTAR_LIQUIDCLASSLib::GetLiquidClassAspirateParameter(MLSTAR_LIQUIDCLASSLib::LIQUIDCLASS_PARAMS_ASP::OverAspirateVolume);
// }} ""
// {{{ 2295 1 0 "b364f999_63dc_4b61_ba08af119ae8bce1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_SwapSpeed = MLSTAR_LIQUIDCLASSLib::GetLiquidClassAspirateParameter(MLSTAR_LIQUIDCLASSLib::LIQUIDCLASS_PARAMS_ASP::SwapSpeed);
// }} ""
// {{{ 2296 1 0 "c76761dd_3354_4838_80c8c5db4757a67a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_int_SettlingTime = MLSTAR_LIQUIDCLASSLib::GetLiquidClassAspirateParameter(MLSTAR_LIQUIDCLASSLib::LIQUIDCLASS_PARAMS_ASP::SettlingTime);
// }} ""
// {{ 2297 1 0 "bb2c02ba_a34f_4e4a_8a23ad07b3a01565" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 2298 1 0 "3779238b_931b_4b23_b5be068e1c77e2c7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_AirTransportVolume = MLSTAR_LIQUIDCLASSLib::GetLiquidClassDispenseParameter(MLSTAR_LIQUIDCLASSLib::LIQUIDCLASS_PARAMS_DISP::AirTransportVolume);
// }} ""
// {{{ 2299 1 0 "0d508bc4_b17e_4f7f_82a0bab4eb3574ee" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_BlowoutVolume = MLSTAR_LIQUIDCLASSLib::GetLiquidClassDispenseParameter(MLSTAR_LIQUIDCLASSLib::LIQUIDCLASS_PARAMS_DISP::BlowOutVolume);
// }} ""
// {{{ 2300 1 0 "8a8621a4_9935_4bca_9c5858420bc6c628" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_FlowRate = MLSTAR_LIQUIDCLASSLib::GetLiquidClassDispenseParameter(MLSTAR_LIQUIDCLASSLib::LIQUIDCLASS_PARAMS_DISP::FlowRate);
// }} ""
// {{{ 2301 1 0 "85ff1a94_5506_42a8_8062dd3a769357fb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_MixFlowRate = MLSTAR_LIQUIDCLASSLib::GetLiquidClassDispenseParameter(MLSTAR_LIQUIDCLASSLib::LIQUIDCLASS_PARAMS_DISP::MixFlowRate);
// }} ""
// {{{ 2302 1 0 "0dcf0bcf_e4dc_49d9_a1e42d01a78e8117" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_int_SettlingTime = MLSTAR_LIQUIDCLASSLib::GetLiquidClassDispenseParameter(MLSTAR_LIQUIDCLASSLib::LIQUIDCLASS_PARAMS_DISP::SettlingTime);
// }} ""
// {{{ 2303 1 0 "be79080a_a46f_40bc_8caba486b8ba99e1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_StopBackVolume = MLSTAR_LIQUIDCLASSLib::GetLiquidClassDispenseParameter(MLSTAR_LIQUIDCLASSLib::LIQUIDCLASS_PARAMS_DISP::StopBackVolume);
// }} ""
// {{{ 2304 1 0 "c7c1181c_5c1f_4712_a73f9f5bdd0be130" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_StopFlowRate = MLSTAR_LIQUIDCLASSLib::GetLiquidClassDispenseParameter(MLSTAR_LIQUIDCLASSLib::LIQUIDCLASS_PARAMS_DISP::StopFlowRate);
// }} ""
// {{{ 2305 1 0 "f775bbc4_eca3_435a_81adb06d7d411860" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_SwapSpeed = MLSTAR_LIQUIDCLASSLib::GetLiquidClassDispenseParameter(MLSTAR_LIQUIDCLASSLib::LIQUIDCLASS_PARAMS_DISP::SwapSpeed);
// }} ""
// {{ 2306 1 0 "bb2c02ba_a34f_4e4a_8a23ad07b3a01565" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2307 1 0 "9083957d_151b_4d89_a844afad23cc5adf" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_LIQUID_CLASS = i_str_LiquidClass;
// }} ""
// {{{ 5 "_GetLiquidClassParams" "End"
}
// }} ""
// {{{ 5 "_InitLiquidClassStorage" "Begin"
private function _InitLiquidClassStorage(  ) void {
// }} ""
// {{ 5 "_InitLiquidClassStorage" "InitLocals"
// }} ""
// {{ 2573 1 0 "2ea11d12_6f32_4117_adc3b6bbf45c7b65" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (T_PIP_TOOLS_LIQUID_CLASS_INIT == BOOLEON::FALSE)
{
// }} ""
// {{ 2574 1 0 "aa5ccff2_ae2d_4f0c_9e817ae19a68973d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_LIQUID_CLASS_INIT = BOOLEON::TRUE;
// }} ""
// {{ 2575 1 0 "93ba6e1e_05ca_4527_ae5466ce0192cac5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_LIQUID_CLASS = Translate("");
// }} ""
// {{ 2576 1 0 "33ab5e85_7607_4f01_b238e8e578428a32" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_ASP_FLOW_RATE = 0.0;
// }} ""
// {{ 2577 1 0 "9d10541c_2312_454e_9d840cf291ce0395" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_ASP_MIX_FLOW_RATE = 0.0;
// }} ""
// {{ 2578 1 0 "fab017f2_d5cd_4362_a06682310ec92807" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_ASP_AIR_TRANSPORT = 0.0;
// }} ""
// {{ 2579 1 0 "92f38e5f_122f_445a_97da414fbab30cc3" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_ASP_BLOWOUT = 0.0;
// }} ""
// {{ 2580 1 0 "c789b979_65e4_4996_8d7474c945d13f42" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_ASP_SWAP = 0.0;
// }} ""
// {{ 2581 1 0 "a2ecf107_0882_4079_840f8395dfc20123" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_ASP_SETTLING = 0.0;
// }} ""
// {{ 2582 1 0 "f3bb0ea8_b6f8_416b_850574e71f441364" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_ASP_OVERASPIRATE = 0.0;
// }} ""
// {{ 2583 1 0 "0eda17cc_5735_48cc_85c7930542bafc14" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_ASP_CLOT_RETRACT = 0.0;
// }} ""
// {{ 2584 1 0 "623668a3_91a7_47d4_835a2fdcbadfe80c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_DISP_FLOW_RATE = 0.0;
// }} ""
// {{ 2585 1 0 "eeb214ed_f2c1_4f74_a12960756ec33811" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_DISP_MIX_FLOW_RATE = 0.0;
// }} ""
// {{ 2586 1 0 "de50f03c_8c24_43aa_b3f5de8c20ec0fb8" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_DISP_AIR_TRANSPORT = 0.0;
// }} ""
// {{ 2587 1 0 "e808f5d3_a610_41ec_890013f49cbd5d16" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_DISP_BLOWOUT = 0.0;
// }} ""
// {{ 2588 1 0 "46c6bbd6_d189_4374_8768302dc8c42eef" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_DISP_SWAP = 0.0;
// }} ""
// {{ 2589 1 0 "315ec1ab_e691_46f4_97aa53e44d5e6b00" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_DISP_SETTLING = 0.0;
// }} ""
// {{ 2590 1 0 "bbb6eedc_7632_40c0_a85c8e494924f455" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_DISP_STOP_FLOW = 0.0;
// }} ""
// {{ 2591 1 0 "a711830d_f47e_46b4_b7bc36af6668256b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_DISP_STOP_BACK = 0.0;
// }} ""
// {{ 2592 1 0 "df7fcad4_6e0c_481b_89cc1a8a043063da" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_MAX_VOLUME = 0.0;
// }} ""
// {{ 2593 1 0 "443cd5de_4f98_43c9_b05a138241b34194" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
T_PIP_TOOLS_DISPENSE_MODE = -1;
// }} ""
// {{ 2594 1 0 "add94a74_e794_4465_a63a8b1ac958314b" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
T_PIP_TOOLS_ARR_CORRECTION_X.SetSize(0);
// }} ""
// {{ 2595 1 0 "09e6e3fa_57e5_4a74_b9cde0912d2dee1c" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
T_PIP_TOOLS_ARR_CORRECTION_Y.SetSize(0);
// }} ""
// {{ 2596 1 0 "2ea11d12_6f32_4117_adc3b6bbf45c7b65" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 5 "_InitLiquidClassStorage" "End"
}
// }} ""
// {{{ 5 "_GetCorrectedValueForVolume" "Begin"
private function _GetCorrectedValueForVolume( variable i_flt_VolumeToConvert, variable & i_arr_CorrectionX[], variable & i_arr_CorrectionY[], variable & o_flt_CorrectedVolume ) void {
// }} ""
private variable arr_TempX[];
private variable arr_TempY[];
private variable int_TotalCorrectionPoints;
private variable i;
private variable int_Index;
private variable flt_Slope;
private variable flt_Check;
private variable flt_Intercept;
// {{ 5 "_GetCorrectedValueForVolume" "InitLocals"
o_flt_CorrectedVolume = 0;
// }} ""
// {{{ 1944 1 0 "eddc73a2_20cc_45f1_be141cb0456571f1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_flt_VolumeToConvert = MthRound(i_flt_VolumeToConvert, 1);
// }} ""
// {{ 1945 1 0 "00b5cbaf_2483_429f_aa0022e409114a7b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_CorrectedVolume = i_flt_VolumeToConvert;
// }} ""
// {{ 1946 1 0 "46eb004f_d4d7_4b88_91d2e83a566a5522" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_TempX.SetSize(0);
// }} ""
// {{ 1947 1 0 "01495092_cb3e_45c9_a8048ac70dae955b" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_TempY.SetSize(0);
// }} ""
// {{ 1948 1 0 "0c7cdddd_d51a_4c9a_992bc853916b4558" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1949 1 0 "3f7b8ab5_593a_448f_968eaaf804cb1091" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
int_TotalCorrectionPoints=i_arr_CorrectionX.GetSize();
// }} ""
// {{ 1950 1 0 "8768e382_5be4_4295_a0477da10ab10bda" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_Check = 0.0;
// }} ""
// {{ 1951 1 0 "3b9591d0_e586_4e59_ad81b23067ed19bb" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(i = 0; i < int_TotalCorrectionPoints;)
{
i = i + 1;
// }} ""
// {{ 1952 1 0 "231c0858_484d_4fc6_8776ec89a9d367be" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Index = int_TotalCorrectionPoints + 1;
// }} ""
// {{ 1953 1 0 "7c3871c5_3cc1_41ad_b4125e1b3ce57e87" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Index = int_Index - i;
// }} ""
// {{ 1954 1 0 "651d3dc3_7dde_4a7e_b08f925643481fbe" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_arr_CorrectionX.ElementAt( int_Index -1) == i_flt_VolumeToConvert)
{
// }} ""
// {{ 1955 1 0 "c17f87c5_4812_4594_8fc74240aa67ab69" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_TempX.AddAsLast(i_arr_CorrectionX.ElementAt( int_Index -1));
// }} ""
// {{ 1956 1 0 "ffc022ca_3a5b_4a07_b5fb44f8346da6f1" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_TempY.AddAsLast(i_arr_CorrectionY.ElementAt( int_Index -1));
// }} ""
// {{ 1957 1 0 "e724fb29_59eb_4c0b_8d5cde7deb021946" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_Check = i_arr_CorrectionY.ElementAt( int_Index -1);
// }} ""
// {{ 1958 1 0 "4877b425_7fab_4b84_9ee66f7e02bdcd1b" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 1959 1 0 "651d3dc3_7dde_4a7e_b08f925643481fbe" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1960 1 0 "a882cc62_1504_4424_9b43970291464bdb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_arr_CorrectionX.ElementAt( int_Index -1) < i_flt_VolumeToConvert)
{
// }} ""
// {{ 1961 1 0 "0ff54e5b_0038_4b91_aea42181ffa6358c" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_TempX.AddAsLast(i_arr_CorrectionX.ElementAt( int_Index -1));
// }} ""
// {{ 1962 1 0 "793824b7_e7e8_4881_925f7b039cf72b50" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_TempY.AddAsLast(i_arr_CorrectionY.ElementAt( int_Index -1));
// }} ""
// {{ 1963 1 0 "1ea686ac_3511_480b_8f9751bfc3204faf" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 1964 1 0 "a882cc62_1504_4424_9b43970291464bdb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1965 1 0 "651d3dc3_7dde_4a7e_b08f925643481fbe" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1966 1 0 "6108f4b1_f3fb_45fe_9039e209d648804b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i == int_TotalCorrectionPoints)
{
// }} ""
// {{ 1967 1 0 "9393ce4f_e9d5_4832_8c145024152d01d5" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("TARGET VOLUME IS BELOW THE CORRECTION CURVE FOR THE LIQUID CLASS!"));
// }} ""
// {{{ 1968 1 0 "be8d6f2d_5ae0_487d_93a6e8c2d5f6aa06" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Minimum correction value:  "), i_arr_CorrectionX.ElementAt( int_Index -1));
// }} ""
// {{{ 1969 1 0 "a82ef2b7_c0b5_406f_b46d22569ffbf555" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Required Volume:  "), i_flt_VolumeToConvert);
// }} ""
// {{{ 1970 1 0 "5804e8db_c6b0_4056_b558533516dea303" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("TARGET VOLUME IS BELOW THE CORRECTION CURVE FOR THE LIQUID CLASS!"));
// }} ""
// {{ 1971 1 0 "6108f4b1_f3fb_45fe_9039e209d648804b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1972 1 0 "3b9591d0_e586_4e59_ad81b23067ed19bb" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1973 1 0 "3337ea6e_8411_489b_8018a9a2cc404ee3" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1974 1 0 "ffa7f68e_81c0_4469_a74d3cde766bb9f8" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_Index = 0; int_Index < int_TotalCorrectionPoints;)
{
int_Index = int_Index + 1;
// }} ""
// {{ 1975 1 0 "8337e166_7ff3_402a_b839e1a49ff3ec0b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_arr_CorrectionX.ElementAt( int_Index -1) == i_flt_VolumeToConvert)
{
// }} ""
// {{ 1976 1 0 "7518977e_32c2_4212_b7eab4413de41952" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_TempX.AddAsLast(i_arr_CorrectionX.ElementAt( int_Index -1));
// }} ""
// {{ 1977 1 0 "776ee4d1_6e08_402e_8c0d0495d3dc7170" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_TempY.AddAsLast(i_arr_CorrectionY.ElementAt( int_Index -1));
// }} ""
// {{ 1978 1 0 "50b3a5e4_a3b1_4813_aee0d57efaa6dae9" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_Check = i_arr_CorrectionY.ElementAt( int_Index -1);
// }} ""
// {{ 1979 1 0 "6ef85c40_6ebd_4cac_8662b95dfd7a6a4c" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 1980 1 0 "8337e166_7ff3_402a_b839e1a49ff3ec0b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1981 1 0 "114b8df1_cd78_4ad8_b980a965a7501049" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_arr_CorrectionX.ElementAt( int_Index -1) > i_flt_VolumeToConvert)
{
// }} ""
// {{ 1982 1 0 "331ffbf2_544b_490d_ba55d705277b279d" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_TempX.AddAsLast(i_arr_CorrectionX.ElementAt( int_Index -1));
// }} ""
// {{ 1983 1 0 "07c53200_6541_47db_bc1df56181b8ab19" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_TempY.AddAsLast(i_arr_CorrectionY.ElementAt( int_Index -1));
// }} ""
// {{ 1984 1 0 "2faccc67_9301_4bdb_ba8e1084580d5161" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 1985 1 0 "114b8df1_cd78_4ad8_b980a965a7501049" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1986 1 0 "8337e166_7ff3_402a_b839e1a49ff3ec0b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1987 1 0 "4d20416a_ed2f_4851_a5862c778e54c275" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Index == int_TotalCorrectionPoints)
{
// }} ""
// {{ 1988 1 0 "00080fbe_8fbc_497b_b57d140d30f60c94" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("TARGET VOLUME IS ABOVE THE CORRECTION CURVE FOR THE LIQUID CLASS!"));
// }} ""
// {{{ 1989 1 0 "15746c39_fa55_4ebb_9ad69cd2d1139c7b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Maximum correction value:  "), i_arr_CorrectionX.ElementAt( int_Index -1));
// }} ""
// {{{ 1990 1 0 "e4c66252_fbfb_4b6f_98e9e3271c787650" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Required Volume:  "), i_flt_VolumeToConvert);
// }} ""
// {{{ 1991 1 0 "c5ca4b15_30d5_4690_80d0fdb873ea4872" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("TARGET VOLUME IS ABOVE THE CORRECTION CURVE FOR THE LIQUID CLASS!"));
// }} ""
// {{ 1992 1 0 "4d20416a_ed2f_4851_a5862c778e54c275" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1993 1 0 "ffa7f68e_81c0_4469_a74d3cde766bb9f8" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1994 1 0 "33995903_e7b4_4f89_883ac282449d816c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_Check == 0.0)
{
// }} ""
// {{{ 1995 1 0 "851142b4_8de3_455f_bd95ed0b0437918d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_Slope = HSLStatisitics::Stat_Slope(arr_TempX, arr_TempY);
// }} ""
// {{{ 1996 1 0 "600d0b8f_8758_4a81_8012e6a6499dd60d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_Intercept = HSLStatisitics::Stat_Intercept(arr_TempX, arr_TempY);
// }} ""
// {{ 1997 1 0 "338f7966_7a3c_488f_883c8be90738169a" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_CorrectedVolume = i_flt_VolumeToConvert * flt_Slope;
// }} ""
// {{ 1998 1 0 "93901b14_ce17_46be_9f72a69672b18b3f" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_CorrectedVolume = o_flt_CorrectedVolume + flt_Intercept;
// }} ""
// {{ 1999 1 0 "33995903_e7b4_4f89_883ac282449d816c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 2000 1 0 "d1073b52_dfb6_4be4_aec332b961ad8fd5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_CorrectedVolume = flt_Check;
// }} ""
// {{ 2001 1 0 "33995903_e7b4_4f89_883ac282449d816c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2002 1 0 "57ba0d79_c7b6_47c7_8d806618053d78df" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_CorrectedVolume = MthRound(o_flt_CorrectedVolume, 1);
// }} ""
// {{{ 5 "_GetCorrectedValueForVolume" "End"
}
// }} ""
// {{{ 5 "TOOL_CalculateHeightForVolume" "Begin"
function TOOL_CalculateHeightForVolume( device & ML_STAR, sequence i_seq_LabwareForCalculation, variable i_flt_VolumeInLabware, variable & o_flt_HeightOfVolume ) void {
// }} ""
private variable _strFunctionName;
private variable str_LabID;
private variable str_PosID;
private variable str_ConfigFile;
// {{ 5 "TOOL_CalculateHeightForVolume" "InitLocals"
o_flt_HeightOfVolume = 0;
// }} ""
// {{ 1629 1 0 "446f46e1_e3b8_4142_a9c1991c881c0b1e" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1630 1 0 "1aaf080b_b35e_4b37_99edef9cc4442249" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
_strFunctionName = Translate("");
// }} ""
_strFunctionName = GetFunctionName();
// {{{ 1632 1 0 "7f98e0d0_23be_4ce3_b64c8958efcea932" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::TRUE, BOOLEON::TRUE);
// }} ""
// {{ 1633 1 0 "446f46e1_e3b8_4142_a9c1991c881c0b1e" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1634 1 0 "44055d69_b295_4dda_83173824f261f5dc" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(i_seq_LabwareForCalculation);
// }} ""
// {{{ 1635 1 0 "df01cd49_4573_4d38_bd0e5639fc2fba99" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(i_seq_LabwareForCalculation);
// }} ""
// {{{ 1636 1 0 "c7caea72_b763_4a2a_a48d8bbe0f73c071" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     LabID:  "), str_LabID, Translate("   Position ID:  "), str_PosID);
// }} ""
// {{{ 1637 1 0 "b8d1558c_d05d_4022_beb140ec8d143b65" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetContainerConfigurationFile(ML_STAR, str_LabID, str_PosID, str_ConfigFile);
// }} ""
// {{{ 1638 1 0 "4a533c30_5e8a_4724_ae631a0d8ce5748a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetHeightBasedOnVolume(str_ConfigFile, i_flt_VolumeInLabware, o_flt_HeightOfVolume);
// }} ""
// {{{ 1639 1 0 "f2481650_a64c_4050_946676ad7820f40e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     Volume:  "), i_flt_VolumeInLabware, Translate("   Height:  "), o_flt_HeightOfVolume);
// }} ""
// {{ 1640 1 0 "8f070cd4_b3cc_4fe3_ac63cf2de31a1ba3" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1641 1 0 "ef2e565e_3b3d_40ba_a4a457c06516ff36" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::TRUE);
// }} ""
// {{ 1642 1 0 "8f070cd4_b3cc_4fe3_ac63cf2de31a1ba3" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "TOOL_CalculateHeightForVolume" "End"
}
// }} ""
// {{{ 5 "PIP_ProgressSequenceFromChannelPattern" "Begin"
function PIP_ProgressSequenceFromChannelPattern( variable i_str_ChPattern, variable i_bln_ProgressByUsedChannels, sequence & io_seq_SequenceToProgress ) void {
// }} ""
private variable _strFunctionName;
private variable int_Length;
private variable int_TotalProgression;
// {{ 5 "PIP_ProgressSequenceFromChannelPattern" "InitLocals"
// }} ""
// {{ 1605 1 0 "9c9f49c3_93e3_4df3_a8f9fc8192d186d7" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1606 1 0 "e4f79115_2f84_400d_a3ac050c987632f0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
_strFunctionName = Translate("");
// }} ""
_strFunctionName = GetFunctionName();
// {{{ 1608 1 0 "5676e078_7982_4862_b25c20922653ec2c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::TRUE, BOOLEON::TRUE);
// }} ""
// {{ 1609 1 0 "9c9f49c3_93e3_4df3_a8f9fc8192d186d7" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1610 1 0 "9161e7aa_09a8_4aac_b184a94d4813af21" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Channel Pattern:  "), i_str_ChPattern, Translate(""));
// }} ""
// {{ 1611 1 0 "307b3155_677a_46b5_a4f024ed2a0a0cc1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_bln_ProgressByUsedChannels == BOOLEON::TRUE)
{
// }} ""
// {{{ 1612 1 0 "a4f9c95f_6e40_46ff_a46f30bc6e08a8b2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalProgression = StrReplace(i_str_ChPattern, Translate("1"), Translate("1"));
// }} ""
// {{ 1613 1 0 "307b3155_677a_46b5_a4f024ed2a0a0cc1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 1614 1 0 "83cc381c_04ed_46f1_a21a6c3123060151" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(i_str_ChPattern);
// }} ""
// {{ 1615 1 0 "e86aa86c_fc9e_4cd7_8e1b376b6d68b518" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_TotalProgression = int_Length;
// }} ""
// {{ 1616 1 0 "307b3155_677a_46b5_a4f024ed2a0a0cc1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1617 1 0 "5b279636_db46_4296_9db60bbf39605b10" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Sequence progress number:  "), int_TotalProgression, Translate(""));
// }} ""
// {{{ 1618 1 0 "504e3c43_179f_40ac_a5867f9acc387298" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqIncrement(io_seq_SequenceToProgress, int_TotalProgression);
// }} ""
// {{ 1619 1 0 "a0382bc2_201b_4552_a011bb4a5e7b4b7b" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1620 1 0 "a6353cd6_6b6c_47b2_8ba381e9cd159336" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::TRUE);
// }} ""
// {{ 1621 1 0 "a0382bc2_201b_4552_a011bb4a5e7b4b7b" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "PIP_ProgressSequenceFromChannelPattern" "End"
}
// }} ""
// {{{ 5 "PIP_BuildChannelPatternFromSequence" "Begin"
function PIP_BuildChannelPatternFromSequence( device & ML_STAR, sequence i_seq_ControllingSequence, variable & o_str_ChPattern ) void {
// }} ""
private variable _strFunctionName;
private variable int_TotalPositions;
private variable i;
private variable str_LabID;
private variable str_PosID;
private variable flt_NotUsed;
private variable flt_YCoord;
private variable flt_XCoord;
private variable flt_CurrentX;
private variable int_TotalChannels;
private variable flt_ChannelRaster;
private variable flt_CurrentY;
// {{ 5 "PIP_BuildChannelPatternFromSequence" "InitLocals"
o_str_ChPattern = 0;
// }} ""
// {{ 244 1 0 "c3678733_2859_450f_a3b99f4629c823bd" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 245 1 0 "a8721f70_239e_4d00_af263d83c5b2f23c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
_strFunctionName = Translate("");
// }} ""
_strFunctionName = GetFunctionName();
// {{{ 247 1 0 "dd40c047_af24_4878_8bcc427569864ad3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::TRUE, BOOLEON::TRUE);
// }} ""
// {{ 248 1 0 "c3678733_2859_450f_a3b99f4629c823bd" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 249 1 0 "df85c2cd_87c1_4ac2_90dc83ea404855f1" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 250 1 0 "6ca46251_2232_415f_91053927cbedcc2e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_str_ChPattern = Translate("");
// }} ""
// {{ 251 1 0 "d0be4305_a75b_4f4c_a40d81429471de51" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_TotalChannels = G_FW_PIP_COM_TotalChannels;
// }} ""
// {{ 252 1 0 "71aa23c7_3ccf_45be_b09b3e6f014e536f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_ChannelRaster = G_FW_PIP_COM_Raster;
// }} ""
// {{{ 253 1 0 "909f0628_e4e8_490e_b8b3e96f240d92db" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::RemoveTruncatedSequencePositions(ML_STAR, i_seq_ControllingSequence);
// }} ""
// {{{ 254 1 0 "944401b6_da95_44c2_b8b2965ee569c523" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalPositions = SeqGetTotal(i_seq_ControllingSequence);
// }} ""
// {{ 255 1 0 "eae58dc4_fff9_424a_bc8e991d86cba3b6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentX = 0.0;
// }} ""
// {{ 256 1 0 "e0f0d159_4e2e_4c84_a54a40cd55c02873" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentY = 0.0;
// }} ""
// {{ 257 1 0 "4411c179_d008_43a9_8f8a23f26692639a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(i = 0; i < int_TotalPositions;)
{
i = i + 1;
// }} ""
// {{ 258 1 0 "e2822b77_883c_4bad_8819a5ea7ad8a0fd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i > int_TotalChannels)
{
// }} ""
// {{ 259 1 0 "f166ee7c_6005_469e_88554852f8fc2170" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 260 1 0 "e2822b77_883c_4bad_8819a5ea7ad8a0fd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 261 1 0 "766f96d3_2224_4d2e_88636cabce2ceace" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
i_seq_ControllingSequence.SetCurrentPosition(i);
// }} ""
// {{{ 262 1 0 "f9503bf3_3628_4c71_9cd888855fadf37b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(i_seq_ControllingSequence);
// }} ""
// {{{ 263 1 0 "5ca770f0_0b55_423f_b3d145a11f037cff" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(i_seq_ControllingSequence);
// }} ""
// {{{ 264 1 0 "957fee9f_2348_46d7_933a55a48ba132a3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, str_LabID, str_PosID, flt_XCoord, flt_YCoord, flt_NotUsed, flt_NotUsed);
// }} ""
// {{ 265 1 0 "adb68b50_44fb_4ab5_b19d3ccd53c7596f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i == 1)
{
// }} ""
// {{ 266 1 0 "ab855ced_084f_4c30_9139d8b6760ae011" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentX = flt_XCoord;
// }} ""
// {{ 267 1 0 "57d83c85_26a6_447f_b1a906b9f2149825" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentY = flt_YCoord;
// }} ""
// {{{ 268 1 0 "69e4979e_4514_45cf_b6fdaa0c18466c84" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_str_ChPattern = StrConcat2(o_str_ChPattern, Translate("1"));
// }} ""
// {{ 269 1 0 "adb68b50_44fb_4ab5_b19d3ccd53c7596f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 270 1 0 "bb7beb06_5c20_41e1_b96338ae9bf76c8b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_XCoord != flt_CurrentX)
{
// }} ""
// {{ 271 1 0 "162bcdce_0e5f_4c20_828d83310a1ca1f9" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 272 1 0 "bb7beb06_5c20_41e1_b96338ae9bf76c8b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 273 1 0 "23bd6183_c175_4765_93fa5b23059ef9aa" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_YCoord > flt_CurrentY)
{
// }} ""
// {{ 274 1 0 "ac0f0198_34f1_4da9_ac20d84477f3d52d" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 275 1 0 "23bd6183_c175_4765_93fa5b23059ef9aa" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 276 1 0 "39f700d1_1a75_4f5c_b5f26b81d87d734b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_YCoord > G_ARR_FW_PIP_COM_YMax.ElementAt( i -1))
{
// }} ""
// {{ 277 1 0 "fca0eefb_2f01_4997_8d739c1321318a42" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 278 1 0 "39f700d1_1a75_4f5c_b5f26b81d87d734b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 279 1 0 "e50b95bb_418d_4104_a800234f5c2927a5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_YCoord < G_ARR_FW_PIP_COM_YMin.ElementAt( i -1))
{
// }} ""
// {{ 280 1 0 "726a84c3_6f02_4389_89b4efbc5d9506b5" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 281 1 0 "e50b95bb_418d_4104_a800234f5c2927a5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 282 1 0 "50387282_383d_49cd_8c12b49b60e43d4a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_str_ChPattern = StrConcat2(o_str_ChPattern, Translate("1"));
// }} ""
// {{ 283 1 0 "adb68b50_44fb_4ab5_b19d3ccd53c7596f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 284 1 0 "39973618_6bb3_4fe2_a355130a7d52211b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentY = flt_CurrentY - flt_ChannelRaster;
// }} ""
// {{ 285 1 0 "4411c179_d008_43a9_8f8a23f26692639a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 286 1 0 "160c8ad9_5add_4e95_a9eb29a59d435fe4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_str_ChPattern = StrFillRight(o_str_ChPattern, Translate("0"), int_TotalChannels);
// }} ""
// {{{ 287 1 0 "94a1c969_8f0b_4f8d_8b0bfa7b118fb362" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Channel Pattern:  "), o_str_ChPattern, Translate(""));
// }} ""
// {{ 288 1 0 "fffc6860_dcb1_41fe_a95764c50fcd4bbc" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 289 1 0 "f0020278_abd0_4d3f_8b9374c51f0f21a7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::TRUE);
// }} ""
// {{ 290 1 0 "fffc6860_dcb1_41fe_a95764c50fcd4bbc" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "PIP_BuildChannelPatternFromSequence" "End"
}
// }} ""
// {{{ 5 "PIP_DispenseToFixedHeight" "Begin"
function PIP_DispenseToFixedHeight( device & ML_STAR, variable i_str_ChPattern, sequence i_seq_DispensePositions, variable & i_arr_FixedHeights[], variable i_int_End_Position, variable i_bln_UseLiquidFollowing, variable i_flt_DispenseVolume, variable i_flt_PullOutDistance ) void {
// }} ""
private variable bln_SimulationMode;
private variable bln_ProbabilityPassed;
private variable bln_TipsLoaded;
private variable flt_MovementStartHeight;
private variable flt_ZBottom;
private variable flt_ZMaximumHeight;
private variable bln_ChannelsAtCoordinates;
private variable _strFunctionName;
private variable flt_ZStartHeight;
private variable flt_ZClearanceHeight;
private variable int_TotalChannels;
private variable flt_ZMinimumHeight;
private variable flt_MovementEndHeight;
private sequence seq_Temp;
private variable arr_LiquidFollowingDistance[];
private variable arr_YCoord[];
private variable arr_XCoord[];
private variable flt_DispenseVolume;
private variable flt_DispenseHeight;
private variable str_LabID;
private variable arr_DispenseHeights[];
// {{ 5 "PIP_DispenseToFixedHeight" "InitLocals"
// }} ""
// {{ 292 1 0 "cf0eda5c_c404_4127_8681a8f562d0c8aa" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 293 1 0 "18754cee_a4fb_456b_8bb8ba6b966e9d1c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
_strFunctionName = Translate("");
// }} ""
_strFunctionName = GetFunctionName();
// {{{ 295 1 0 "340a683f_fed3_4b80_adff7b6dcb2c5530" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::TRUE, BOOLEON::TRUE);
// }} ""
// {{ 296 1 0 "cf0eda5c_c404_4127_8681a8f562d0c8aa" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 297 1 0 "c1ce14a4_3800_4de3_9763b3cdeb7b87c5" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 298 1 0 "9c2de99e_7322_4668_a1613cfdae2414f4" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_InitLiquidClassStorage();
// }} ""
// {{{ 299 1 0 "8731cd4a_6eb9_48af_93c434b82d8c9920" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 300 1 0 "68cff407_7673_44ae_945667a9913864c9" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_SimulationMode = G_FW_PIP_COM_SimulationMode;
// }} ""
// {{ 301 1 0 "ecd9c70c_090b_41f9_8f5250b6c079a4a1" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_TotalChannels = G_FW_PIP_COM_TotalChannels;
// }} ""
// {{ 302 1 0 "7b4b3e77_b969_442e_9b9f7c6aa9f49454" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 303 1 0 "08c69548_4f2f_4c49_86b9d1f78120e51a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_str_ChPattern = StrConcat2(i_str_ChPattern, Translate(""));
// }} ""
// {{{ 304 1 0 "bd0775be_9a94_4eb9_8f40e19bd8702899" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_str_ChPattern = StrFillRight(i_str_ChPattern, Translate("0"), int_TotalChannels);
// }} ""
// {{ 305 1 0 "acfb7c25_9750_4c70_b58e3c080aad58f4" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 306 1 0 "71947c1b_40db_452a_84fcdd678a63dd89" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetNextSequenceSet(i_seq_DispensePositions, i_str_ChPattern, seq_Temp);
// }} ""
// {{ 307 1 0 "0233389c_a778_4fe6_8417eb9a48618900" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 308 1 0 "2d102058_8a1c_4f22_8ef946701fad3c4c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ProbabilityPassed = _ProbabilityCheck(ML_STAR, seq_Temp, i_str_ChPattern);
// }} ""
// {{ 309 1 0 "c8bc7dc9_b3d6_4c96_a1798a11f0f87797" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ProbabilityPassed == BOOLEON::FALSE)
{
// }} ""
// {{ 310 1 0 "d5e8cee5_a9f5_4e98_b5c520aa4fa19798" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("SEQUENCE IS NOT SORTED CORRECTLY FOR THE USE OF THIS FUNCITON!\nSEQUENCE MUST BE SUCH THAT THE CHANNEL PATTERN USED CAN BE DONE AT ONE TIME WITHOUT NEEDING TO MOVE CHANNELS OUT OF THE WAY!"));
// }} ""
// {{ 311 1 0 "dede0368_8589_4fe2_b417e02e4c871385" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 312 1 0 "fd3e9f67_ff6c_483e_9eb1e9582eb244c3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 313 1 0 "dede0368_8589_4fe2_b417e02e4c871385" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 314 1 0 "ba2e2783_80ba_4d43_a68c57fe9f11d80b" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 315 1 0 "c8bc7dc9_b3d6_4c96_a1798a11f0f87797" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 316 1 0 "5ee6b372_4dca_4824_9c77151dff02730e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 317 1 0 "d3e7943b_5065_460e_b9229e54bfa8c450" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_TipsLoaded = _EnsureTipsAreLoaded(ML_STAR, i_str_ChPattern);
// }} ""
// {{ 318 1 0 "a98111a5_4885_4be5_82d40149c7f44aad" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_TipsLoaded == BOOLEON::FALSE)
{
// }} ""
// {{ 319 1 0 "5030c2f8_a95c_4a4e_a8c0ee371ac21fa7" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("TIPS PICKED UP DO NOT MATCH THE CHANNEL PATTERN!"));
// }} ""
// {{ 320 1 0 "eb6c6c11_50ae_4390_9f86b89883aaeb12" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 321 1 0 "90397455_2293_478f_9c242c0461a583c2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 322 1 0 "eb6c6c11_50ae_4390_9f86b89883aaeb12" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 323 1 0 "67b80ba3_27f7_4ce8_98defc2e2f981500" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 324 1 0 "a98111a5_4885_4be5_82d40149c7f44aad" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 325 1 0 "c56eaba0_27ca_4eec_ac9fac91509d0e8b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 326 1 0 "d5880458_3d08_469c_aabd4e77de848f09" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLabwareCoordinates(ML_STAR, seq_Temp, i_str_ChPattern, arr_XCoord, arr_YCoord, flt_ZBottom, flt_ZMinimumHeight, flt_ZMaximumHeight, flt_ZClearanceHeight);
// }} ""
// {{ 327 1 0 "2ad9a6ce_5935_45a1_bc4f1f31d10d1783" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 328 1 0 "8cce2569_ce80_4ff8_b95460c61e085316" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(seq_Temp);
// }} ""
// {{{ 329 1 0 "86b39e29_a430_42d6_a972395915bcb545" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ChannelsAtCoordinates = _DetermineStartZHeight(ML_STAR, i_str_ChPattern, str_LabID, arr_XCoord, arr_YCoord, flt_ZMinimumHeight, flt_ZClearanceHeight, flt_ZStartHeight);
// }} ""
// {{ 330 1 0 "23b92880_36d3_433a_9371fd825cadae8d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 331 1 0 "e4adb0f1_e936_4205_95482fa7048022af" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (T_PIP_TOOLS_LIQUID_CLASS == "")
{
// }} ""
// {{ 332 1 0 "8d2f6db4_429c_41bf_bc8fd6996cd80b1f" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("LIQUID CLASS IS NOT SET! ASPIRATE COMMAND MUST BE SET PRIOR TO DISPENSE!"));
// }} ""
// {{ 333 1 0 "489f5897_96fc_48c9_a238564485b72d88" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 334 1 0 "698ea32e_3a41_49ed_b96384ed954ddcf3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 335 1 0 "489f5897_96fc_48c9_a238564485b72d88" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 336 1 0 "da5c2e26_963c_459b_aa941c750929c11d" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 337 1 0 "e4adb0f1_e936_4205_95482fa7048022af" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 338 1 0 "34029388_f18c_41d0_b400eb0de57ac37c" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 339 1 0 "ad807e61_8b92_4060_ad02ecff539f1c26" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetCorrectedValueForVolume(i_flt_DispenseVolume, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y, flt_DispenseVolume);
// }} ""
// {{{ 340 1 0 "06b2d677_6b66_4887_ac93044fb8411af4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("Dispense Volume:  "), i_flt_DispenseVolume, Translate("  Corrected Volume for Liquid Class:  "), flt_DispenseVolume);
// }} ""
// {{ 341 1 0 "9de1e467_610e_4258_91696628484231be" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 342 1 0 "8ab60469_f054_4dc8_8b4acbdd2bed81cc" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_ApplyOffsetToArrayofValues(i_arr_FixedHeights, flt_ZBottom, arr_DispenseHeights);
// }} ""
// {{ 343 1 0 "6c163b9f_4cfa_4a93_a1d586fb5cde8d5b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 344 1 0 "7915a2cd_a818_43a7_a4a3f066dd4d7b89" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidFollowingForAllChannels(ML_STAR, i_arr_FixedHeights, seq_Temp, i_bln_UseLiquidFollowing, BOOLEON::FALSE, flt_DispenseVolume, i_str_ChPattern, arr_LiquidFollowingDistance);
// }} ""
// {{{ 345 1 0 "3ec22819_81a8_4943_9c9375242f3d593a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_Temp, 0, Translate("Processing"));
// }} ""
// {{ 346 1 0 "936d6fd2_4e74_4bf1_aac27b45670ec012" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementStartHeight = flt_ZStartHeight;
// }} ""
// {{ 347 1 0 "aca77896_da0e_41b1_b5d8f50a999ac6c3" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = 245.0;
// }} ""
// {{ 348 1 0 "7c7922a9_5f45_4cb7_b142f4f274d2b21a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_End_Position == 1)
{
// }} ""
// {{ 349 1 0 "2ccc6c78_627f_4d22_890a59877fd157c3" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_ZClearanceHeight;
// }} ""
// {{ 350 1 0 "7c7922a9_5f45_4cb7_b142f4f274d2b21a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 351 1 0 "2739b2b3_b60c_4a02_afb30852e51f22bc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_End_Position == 2)
{
// }} ""
// {{ 352 1 0 "12ce519e_89a0_40e2_9521fc0f70f33abd" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_ZMaximumHeight;
// }} ""
// {{ 353 1 0 "2739b2b3_b60c_4a02_afb30852e51f22bc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 354 1 0 "521fb74b_818d_47f1_8257db5c5f68ee0e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_End_Position == 3)
{
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{ 355 1 0 "1be90833_cf18_4635_8179afd21dc26532" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_ZMinimumHeight;
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 356 1 0 "cd11aa5b_5b6a_47d5_a12a6c64d41de250" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_DispenseHeight = HSLStatisitics::Stat_Max(i_arr_FixedHeights);
// }} ""
// {{ 357 1 0 "163db0c3_0eb8_4bf5_807bf52848761b66" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_DispenseHeight + flt_ZBottom;
// }} ""
// {{ 358 1 0 "fb16386d_0f06_4a8f_a27ee17fb5d7fddd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_MovementEndHeight < flt_ZMinimumHeight)
{
// }} ""
// {{ 359 1 0 "36e82dfa_4618_412a_88f6779fda0d9ff6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_ZMinimumHeight;
// }} ""
// {{ 360 1 0 "fb16386d_0f06_4a8f_a27ee17fb5d7fddd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 361 1 0 "521fb74b_818d_47f1_8257db5c5f68ee0e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 362 1 0 "73a6fd11_54aa_4601_89f465ad165ed30e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 363 1 0 "ba9995b2_bf15_4348_9b4bbda84f0914c6" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::PIPDispenseFromFixedHeight(ML_STAR, i_str_ChPattern, T_PIP_TOOLS_DISPENSE_MODE, arr_XCoord, arr_YCoord, arr_DispenseHeights, arr_LiquidFollowingDistance, flt_MovementStartHeight, flt_MovementEndHeight, flt_ZMinimumHeight, flt_ZBottom, flt_DispenseVolume, T_PIP_TOOLS_DISP_FLOW_RATE, T_PIP_TOOLS_DISP_STOP_FLOW, T_PIP_TOOLS_DISP_STOP_BACK, T_PIP_TOOLS_DISP_AIR_TRANSPORT, T_PIP_TOOLS_DISP_BLOWOUT, T_PIP_TOOLS_DISP_SETTLING, T_PIP_TOOLS_DISP_SWAP, i_flt_PullOutDistance, flt_ZMaximumHeight);
// }} ""
// {{{ 364 1 0 "cb035a97_4a6b_43be_b6f63502de1abf2f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_Temp, 4, Translate("Processed"));
// }} ""
// {{ 365 1 0 "f2958ce7_33d8_4483_8d37c03a73f8f914" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 366 1 0 "469662be_8841_4a70_9be707a9eb865af0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::TRUE);
// }} ""
// {{ 367 1 0 "f2958ce7_33d8_4483_8d37c03a73f8f914" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "PIP_DispenseToFixedHeight" "End"
}
// }} ""
// {{{ 5 "MPH_AspirateFromFixedHeight" "Begin"
function MPH_AspirateFromFixedHeight( device & ML_STAR, sequence i_seq_AspirationPositions, variable i_flt_AspHeight, variable i_int_End_Position, variable i_bln_UseLiquidFollowing, variable i_str_LiquidClass, variable i_flt_AspirationVolume, variable i_flt_PullOutDistance ) void {
// }} ""
private variable bln_SimulationMode;
private variable _strFunctionName;
private variable int_MPHExists;
private variable str_TempChPattern;
private sequence seq_Temp;
private variable bln_ProbabilityPassed;
private variable bln_TipsLoaded;
private variable flt_ZBottom;
private variable flt_ZMaximumHeight;
private variable flt_ZClearanceHeight;
private variable flt_ZMinimumHeight;
private variable flt_YCoord;
private variable flt_XCoord;
private variable flt_ZStartHeight;
private variable bln_MPH96AtCoordinates;
private variable flt_NotUsed;
private variable flt_AspirationVolume;
private variable flt_LiquidFollowingDistance;
private variable flt_MovementStartHeight;
private variable flt_MovementEndHeight;
private variable flt_EndHeight;
// {{ 5 "MPH_AspirateFromFixedHeight" "InitLocals"
// }} ""
// {{ 1 1 0 "36ef965e_53ce_444e_bb638c9aafbc6ab1" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2 1 0 "2b2d9b5d_55f8_4057_9395dccc3949e5ce" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
_strFunctionName = Translate("");
// }} ""
_strFunctionName = GetFunctionName();
// {{{ 4 1 0 "f824901b_5723_4763_93afb5ea44a14df8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::TRUE, BOOLEON::TRUE);
// }} ""
// {{ 5 1 0 "36ef965e_53ce_444e_bb638c9aafbc6ab1" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 6 1 0 "33781d18_f399_4df1_b94d48ea28a44262" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 7 1 0 "3f6c5c63_8e13_4d63_a8961c4e4435ddc8" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_InitLiquidClassStorage();
// }} ""
// {{{ 8 1 0 "db8d7249_a3e7_4470_9d640ff7709aa1a9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bln_SimulationMode = Util::GetSimulationMode();
// }} ""
// {{ 9 1 0 "8cde8a63_e0f9_4c82_b9d33d9921c1128f" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 10 1 0 "5d451d16_bf09_4553_a103e21ad2af9f51" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::GetMPHExist(ML_STAR, int_MPHExists);
// }} ""
// {{ 11 1 0 "e55e2ff6_39a8_438a_8b64334d7ac4f66a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_MPHExists == 0)
{
// }} ""
// {{ 12 1 0 "98a2d663_cead_40ff_a4d05d48864f636a" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("MPH96 IS NOT LOADED IN THE CONFIGURATION OF THIS INSTRUMENT!"));
// }} ""
// {{ 13 1 0 "83d2befc_caf8_4154_8731546bb06354f1" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 14 1 0 "54f161e9_64cb_44c2_a8493d6ca8ecacfe" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 15 1 0 "83d2befc_caf8_4154_8731546bb06354f1" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 16 1 0 "b3c2592c_a9b5_4195_b17d92e7a06e994e" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 17 1 0 "e55e2ff6_39a8_438a_8b64334d7ac4f66a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 18 1 0 "66336974_fa1d_4cd1_a2419455024d21af" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 19 1 0 "2b8ce7bc_a8d6_4f01_965778880a1229fe" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_TempChPattern = Translate("");
// }} ""
// {{{ 20 1 0 "ff0b42b2_d9fb_48e4_819383d5b8ed6ca8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_TempChPattern = StrFillRight(str_TempChPattern, Translate("1"), 96);
// }} ""
// {{{ 21 1 0 "0e993d05_1329_4407_a05f492e410e4eee" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetNextSequenceSet(i_seq_AspirationPositions, str_TempChPattern, seq_Temp);
// }} ""
// {{ 22 1 0 "2ef80e77_6cca_4e19_ad283b573636fcad" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 23 1 0 "44b9bcd0_eb86_49bc_854a912819a73c91" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ProbabilityPassed = _ProbabilityCheckMPH96(ML_STAR, seq_Temp, str_TempChPattern);
// }} ""
// {{ 24 1 0 "90c78c8d_33ef_4919_a95889d87e8bdc37" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ProbabilityPassed == BOOLEON::FALSE)
{
// }} ""
// {{ 25 1 0 "d485bb9d_fce5_42d2_8d1e3400c9bea070" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("SEQUENCE IS NOT SORTED CORRECTLY FOR THE USE OF THIS FUNCITON!"));
// }} ""
// {{ 26 1 0 "2a5226e9_bc05_4cd5_97d030e4828a03c2" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 27 1 0 "ff8ce99b_744c_48b8_9e932fdd40ca8dc2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 28 1 0 "2a5226e9_bc05_4cd5_97d030e4828a03c2" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 29 1 0 "23293255_623c_4e0d_971b201787675aa9" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 30 1 0 "90c78c8d_33ef_4919_a95889d87e8bdc37" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 31 1 0 "11b35afd_25a9_41a5_afbad4d4d8132027" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 32 1 0 "10f4020d_48ad_4aac_a19a8804e0667783" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::MPH96GetTipPresence(ML_STAR, bln_TipsLoaded);
// }} ""
// {{ 33 1 0 "e46df121_8add_428f_977efff4766aa576" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_SimulationMode == BOOLEON::TRUE)
{
// }} ""
// {{ 34 1 0 "12764170_242d_4a97_b65a8fd10160d526" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_TipsLoaded = BOOLEON::TRUE;
// }} ""
// {{ 35 1 0 "e46df121_8add_428f_977efff4766aa576" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 36 1 0 "7e5b2881_b318_4f85_be60b21e4543ee7d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_TipsLoaded == BOOLEON::FALSE)
{
// }} ""
// {{ 37 1 0 "7cc0835f_c370_454a_aa843dd39914b260" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("TIPS NOT PICKED UP!"));
// }} ""
// {{ 38 1 0 "e334fa22_38b4_40a8_8d68032be0019aa8" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 39 1 0 "9d426a5b_d4f1_43bf_a030e4d58feffd11" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 40 1 0 "e334fa22_38b4_40a8_8d68032be0019aa8" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 41 1 0 "d9b2efa7_7b65_43ac_bbd20b15eb509172" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 42 1 0 "7e5b2881_b318_4f85_be60b21e4543ee7d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 43 1 0 "de3e578c_9592_4459_ad6356ded0b26fdc" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 44 1 0 "0eb786a2_9083_4b3e_be385ca81640ac8e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLabwareCoordinatesMPH96(ML_STAR, seq_Temp, flt_XCoord, flt_YCoord, flt_ZBottom, flt_ZMinimumHeight, flt_ZMaximumHeight, flt_ZClearanceHeight);
// }} ""
// {{ 45 1 0 "5b4d8ede_641b_4daf_b03b0b80b0e6818e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 46 1 0 "643dca63_ee0d_46a2_9a786cadf0dd629d" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_MPH96AtCoordinates = _DetermineStartZHeightMPH96(ML_STAR, flt_XCoord, flt_YCoord, flt_ZMinimumHeight, flt_ZStartHeight);
// }} ""
// {{ 47 1 0 "2d3e0f06_68f3_4f65_bc4ad94b5b913f24" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 48 1 0 "9e02d6e0_8c07_44a6_9a158c3c4faef66f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidClassParams(i_str_LiquidClass, BOOLEON::TRUE, T_PIP_TOOLS_ASP_FLOW_RATE, T_PIP_TOOLS_ASP_MIX_FLOW_RATE, T_PIP_TOOLS_ASP_AIR_TRANSPORT, T_PIP_TOOLS_ASP_BLOWOUT, T_PIP_TOOLS_ASP_SWAP, T_PIP_TOOLS_ASP_SETTLING, T_PIP_TOOLS_ASP_OVERASPIRATE, T_PIP_TOOLS_ASP_CLOT_RETRACT, flt_NotUsed, flt_NotUsed, T_PIP_TOOLS_MAX_VOLUME, T_PIP_TOOLS_DISPENSE_MODE, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y);
// }} ""
// {{{ 49 1 0 "477d0997_65bd_4c0b_b815171a10fac58a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidClassParams(i_str_LiquidClass, BOOLEON::FALSE, T_PIP_TOOLS_DISP_FLOW_RATE, T_PIP_TOOLS_DISP_MIX_FLOW_RATE, T_PIP_TOOLS_DISP_AIR_TRANSPORT, T_PIP_TOOLS_DISP_BLOWOUT, T_PIP_TOOLS_DISP_SWAP, T_PIP_TOOLS_DISP_SETTLING, flt_NotUsed, flt_NotUsed, T_PIP_TOOLS_DISP_STOP_FLOW, T_PIP_TOOLS_DISP_STOP_BACK, T_PIP_TOOLS_MAX_VOLUME, T_PIP_TOOLS_DISPENSE_MODE, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y);
// }} ""
// {{ 50 1 0 "ca401083_d116_4609_a5461563a049112f" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 51 1 0 "75c5797e_e5df_44fd_b5d14c32a8faab83" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetCorrectedValueForVolume(i_flt_AspirationVolume, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y, flt_AspirationVolume);
// }} ""
// {{{ 52 1 0 "00af58ea_b18a_4110_904d65006c71cec6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("Aspiration Volume:  "), i_flt_AspirationVolume, Translate("  Corrected Volume for Liquid Class:  "), flt_AspirationVolume);
// }} ""
// {{{ 53 1 0 "be718aad_3a9f_4a4f_800bdd9b15090d0e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("Aspiration Height:  "), i_flt_AspHeight, Translate(""), Translate(""));
// }} ""
// {{ 54 1 0 "47399927_3969_4275_8ecc56cf898149d0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_flt_AspirationVolume > T_PIP_TOOLS_MAX_VOLUME)
{
// }} ""
// {{{ 55 1 0 "4de5c2c7_e0e0_46bf_98f4b463775f3513" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Max Volume:  "), T_PIP_TOOLS_MAX_VOLUME, Translate(" uL"));
// }} ""
// {{ 56 1 0 "d7d113b0_76c4_4c90_bc7ecab41fbf5f8d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("REQUESTED VOLUME IS HIGHER THAN THE LIQUID CLASS MAX VOLUME"));
// }} ""
// {{ 57 1 0 "36acb374_d893_4ae1_bd5f35fef39c16c4" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 58 1 0 "fb916584_b8fd_4754_8daa4c1324461df2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 59 1 0 "36acb374_d893_4ae1_bd5f35fef39c16c4" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 60 1 0 "4ad98862_d803_431c_99e8dc9badad0430" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 61 1 0 "47399927_3969_4275_8ecc56cf898149d0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 62 1 0 "09658291_015b_4cc6_950a7ecd99752b22" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 63 1 0 "12028594_4a24_4b8e_b1a3138b904ff040" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidFollowingForMPH96(ML_STAR, i_flt_AspHeight, seq_Temp, i_bln_UseLiquidFollowing, BOOLEON::TRUE, i_flt_AspirationVolume, flt_LiquidFollowingDistance);
// }} ""
// {{{ 64 1 0 "cf520160_947c_4809_9af027c77061d1d7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_Temp, 0, Translate("Processing"));
// }} ""
// {{ 65 1 0 "45321a2e_e7bd_43aa_b68552fa04c0b410" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementStartHeight = flt_ZStartHeight;
// }} ""
// {{ 66 1 0 "3ccffeba_0c00_44a5_a1e8827408772466" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = 245.0;
// }} ""
// {{ 67 1 0 "b9339b5a_c094_4c7e_a48934aa2cc37d91" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_End_Position == 1)
{
// }} ""
// {{ 68 1 0 "6ae332df_196a_49e5_bf7c189fe28351f3" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_ZClearanceHeight;
// }} ""
// {{ 69 1 0 "b9339b5a_c094_4c7e_a48934aa2cc37d91" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 70 1 0 "b854f68a_566d_474f_9e32c62df46b242d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_End_Position == 2)
{
// }} ""
// {{ 71 1 0 "c799c776_a644_4234_928747ab062ca892" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_ZMaximumHeight;
// }} ""
// {{ 72 1 0 "b854f68a_566d_474f_9e32c62df46b242d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 73 1 0 "1f6a0285_47b1_4627_a589b6cc0b8da45e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_End_Position == 3)
{
// }} ""
// {{ 74 1 0 "a5d7549b_d770_4043_95300f94014b7904" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_EndHeight = i_flt_AspHeight - flt_LiquidFollowingDistance;
// }} ""
// {{ 75 1 0 "2958bc51_faab_46b6_b1e654a0e6f0bff7" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_EndHeight = flt_EndHeight + flt_ZBottom;
// }} ""
// {{ 76 1 0 "a20a80ce_d6c3_47c1_bd85a590a1273213" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_EndHeight;
// }} ""
// {{ 77 1 0 "eb810ae2_8a9b_416a_b73098f6cd79b29c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_MovementEndHeight < flt_ZMinimumHeight)
{
// }} ""
// {{ 78 1 0 "ebe906ae_e4d7_49e6_8c8cf2b1a5d9eb1b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_ZMinimumHeight;
// }} ""
// {{ 79 1 0 "eb810ae2_8a9b_416a_b73098f6cd79b29c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 80 1 0 "1f6a0285_47b1_4627_a589b6cc0b8da45e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 81 1 0 "a818354a_0e5a_4637_b58c4f1ddb247b3f" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 82 1 0 "c0261f31_66b5_4b73_9a64778bfa6d1e90" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::MPH96AspirateFromFixedHeight(ML_STAR, flt_XCoord, flt_YCoord, i_flt_AspHeight, flt_LiquidFollowingDistance, flt_MovementStartHeight, flt_MovementEndHeight, flt_ZMinimumHeight, flt_ZBottom, 0.0, flt_AspirationVolume, T_PIP_TOOLS_ASP_FLOW_RATE, T_PIP_TOOLS_ASP_AIR_TRANSPORT, T_PIP_TOOLS_ASP_BLOWOUT, T_PIP_TOOLS_ASP_SETTLING, T_PIP_TOOLS_ASP_SWAP, i_flt_PullOutDistance);
// }} ""
// {{{ 83 1 0 "acc41bcf_4b9d_439b_b0dec58d5a270e84" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_Temp, 4, Translate("Processed"));
// }} ""
// {{ 84 1 0 "a2459763_2be0_48a5_a0adfa7f70a64356" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 85 1 0 "2512cef6_216a_454d_a5d71332c85d14e5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::TRUE);
// }} ""
// {{ 86 1 0 "a2459763_2be0_48a5_a0adfa7f70a64356" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "MPH_AspirateFromFixedHeight" "End"
}
// }} ""
// {{{ 5 "_ProbabilityCheckMPH96" "Begin"
private function _ProbabilityCheckMPH96( device & ML_STAR, sequence i_seq_PositionsToCheck, variable i_str_ChannelPatternToCheck ) variable {
// }} ""
private variable bln_ProbabilityPass;
private variable int_TotalTipsToUse;
private variable int_TotalChannels;
private variable int_TotalPositions;
private variable int_RemainingPositionsForLabware;
private sequence seq_TempCompare;
private variable str_PosIDSort;
private variable str_PosIDOriginal;
// {{ 5 "_ProbabilityCheckMPH96" "InitLocals"
// }} ""
// {{ 2648 1 0 "05448be4_faeb_496c_ba61214a8b96a48d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_ProbabilityPass = BOOLEON::TRUE;
// }} ""
// {{{ 2649 1 0 "724b2c06_16a2_49a6_b9f9cd0d02bdf2a1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalChannels = StrGetLength(i_str_ChannelPatternToCheck);
// }} ""
// {{{ 2650 1 0 "3ecddf2d_4e6c_4d3f_90e72bb635b92ed7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalTipsToUse = StrReplace(i_str_ChannelPatternToCheck, Translate("1"), Translate("1"));
// }} ""
// {{{ 2651 1 0 "57348320_78a8_4057_81a021d8e551e3b5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalPositions = SeqGetTotal(i_seq_PositionsToCheck);
// }} ""
// {{ 2652 1 0 "a371cb50_1f5b_4e81_9dfe458feeb80d51" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_TotalPositions != int_TotalTipsToUse)
{
// }} ""
// {{ 2653 1 0 "816a6c82_f0bd_4066_ae0531da9f2f8ae5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_ProbabilityPass = BOOLEON::FALSE;
// }} ""
// {{ 2654 1 0 "b1a8136a_9d6b_44e0_a5074fb22056d898" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("SEQUENCE POSITIONS DO NOT MATCH TIP CHANNEL PATTERN"));
// }} ""
// {{{ 2655 1 0 "8c04cb15_b4c1_4e25_812f93087f4bbc6f" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (bln_ProbabilityPass);
// }} ""
// {{ 2656 1 0 "a371cb50_1f5b_4e81_9dfe458feeb80d51" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2657 1 0 "ca8414b3_e030_4b03_b443f8bfdc5897bf" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_RemainingPositionsForLabware = SeqGetPositionCountForCurrLabware(i_seq_PositionsToCheck);
// }} ""
// {{ 2658 1 0 "cde18d85_3282_4351_a83ebc2398b7bfa3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_RemainingPositionsForLabware != int_TotalTipsToUse)
{
// }} ""
// {{ 2659 1 0 "e6c9f9ea_70be_4875_a0ba4401492fb953" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_ProbabilityPass = BOOLEON::FALSE;
// }} ""
// {{ 2660 1 0 "f10462b5_0632_47ac_9f3c103b1d8e9b96" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("SEQUENCE POSITIONS ARE NOT FOR THE SAME LABWARE!  MPH96 CANNOT SPLIT THE SEQUENCE OVER MULTIPLE LABWARE!"));
// }} ""
// {{{ 2661 1 0 "d252d3f6_f472_4a53_98f241a7c3d01146" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (bln_ProbabilityPass);
// }} ""
// {{ 2662 1 0 "cde18d85_3282_4351_a83ebc2398b7bfa3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2663 1 0 "a437cc26_57b0_4fac_bf47a6d6acba2acb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqCopySequence(seq_TempCompare, i_seq_PositionsToCheck);
// }} ""
// {{{ 2664 1 0 "3c727d75_42d2_4a1a_bbfe61b51a733bde" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::SortSequence(ML_STAR, seq_TempCompare, BOOLEON::FALSE);
// }} ""
// {{ 2665 1 0 "1e2a087a_914a_4fee_a2c344d2f8bfb6cc" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_TempCompare.SetCurrentPosition(1);
// }} ""
// {{ 2666 1 0 "8c3372d9_3d9c_45e9_a36a899d46ff0923" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
i_seq_PositionsToCheck.SetCurrentPosition(1);
// }} ""
// {{{ 2667 1 0 "282669d6_5720_4a25_a38374afd8fa089e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosIDOriginal = SeqGetPositionId(i_seq_PositionsToCheck);
// }} ""
// {{{ 2668 1 0 "37fb21c6_1a88_4a5f_a39906d5dcedbcac" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosIDSort = SeqGetPositionId(seq_TempCompare);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 2669 1 0 "f4787cf6_6680_4907_bd346c749d696d92" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     Original:  "), str_PosIDOriginal, Translate("     Sorted:  "), str_PosIDSort);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 2670 1 0 "20cb8cda_711c_401d_8cde7e6b2e46a1d2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (str_PosIDOriginal != str_PosIDSort)
{
// }} ""
// {{ 2671 1 0 "26cbece7_d200_47da_866f6e39d348d287" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_ProbabilityPass = BOOLEON::FALSE;
// }} ""
// {{ 2672 1 0 "46ea6364_7dd9_408d_9af56b5862684243" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("SEQUENCE IS NOT SORTED FOR THE MPH96"));
// }} ""
// {{ 2673 1 0 "20cb8cda_711c_401d_8cde7e6b2e46a1d2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2674 1 0 "35d4e988_a27b_450d_a33c1ed2a89167a4" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (bln_ProbabilityPass);
// }} ""
// {{{ 5 "_ProbabilityCheckMPH96" "End"
}
// }} ""
// {{{ 5 "_GetLabwareCoordinatesMPH96" "Begin"
private function _GetLabwareCoordinatesMPH96( device & ML_STAR, sequence i_seq_Positions, variable & o_flt_XCoord, variable & o_flt_YCoord, variable & o_flt_ZBottom, variable & o_flt_ZMinimumHeight, variable & o_flt_ZMaximumHeight, variable & o_flt_ZClearanceHeight ) void {
// }} ""
private variable flt_NotUsed;
private variable flt_ZCoord;
private variable flt_YCoord;
private variable flt_MinimumPipHeight;
private variable flt_XCoord;
private variable str_ContainerConfig;
private variable str_LabID;
private variable bln_ValueExists;
private variable str_PosID;
private variable int_TotalPositions;
private variable str_Value;
// {{ 5 "_GetLabwareCoordinatesMPH96" "InitLocals"
o_flt_XCoord = 0;
o_flt_YCoord = 0;
o_flt_ZBottom = 0;
o_flt_ZMinimumHeight = 0;
o_flt_ZMaximumHeight = 0;
o_flt_ZClearanceHeight = 0;
// }} ""
// {{ 2199 1 0 "7240ddd1_320c_44bf_b80c1e02bfd0a888" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_ZClearanceHeight = 0.0;
// }} ""
// {{ 2200 1 0 "3757d776_218c_43a1_bf23343f3e155327" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_ZMaximumHeight = 0.0;
// }} ""
// {{ 2201 1 0 "0a7345f4_9019_41fc_af65761d4806e7ef" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_ZMinimumHeight = 0.0;
// }} ""
// {{{ 2202 1 0 "44d9d924_b098_414c_b45070ffe08f1ce7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalPositions = SeqGetTotal(i_seq_Positions);
// }} ""
// {{ 2203 1 0 "6688cddd_dcb9_44ea_8a4acc2dc8ac5d2c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_TotalPositions == 0)
{
// }} ""
// {{{ 2204 1 0 "b666e4c9_e6fa_433b_8bc41f737fd2f6a2" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 2205 1 0 "6688cddd_dcb9_44ea_8a4acc2dc8ac5d2c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2206 1 0 "fd3b01a6_f2d5_42e8_b2c49a029a6e91cc" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(i_seq_Positions);
// }} ""
// {{{ 2207 1 0 "173046d3_5b91_48ca_8330af778dc0c13d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(i_seq_Positions);
// }} ""
// {{{ 2208 1 0 "e1f13360_03c4_4002_9829f8dc2f8db451" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, str_LabID, str_PosID, flt_NotUsed, flt_NotUsed, flt_ZCoord, flt_NotUsed);
// }} ""
// {{{ 2209 1 0 "0cbe82fb_5a3f_4e4b_8c8f2646fb6da171" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetRackHeight(ML_STAR, str_LabID, o_flt_ZMaximumHeight, o_flt_ZClearanceHeight);
// }} ""
// {{{ 2210 1 0 "dbc46421_9a15_43ea_ad5e84175ac5a5d5" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetContainerConfigurationFile(ML_STAR, str_LabID, str_PosID, str_ContainerConfig);
// }} ""
// {{{ 2211 1 0 "be8c9adb_dfee_4056_a3857d2cae0189e4" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ValueExists = HELPERLIBRARY::GetDefinitionFileValue(str_ContainerConfig, Translate("MaxDepth"), str_Value);
// }} ""
// {{ 2212 1 0 "f016248e_7ccd_4e5e_81b63e043a84e0b5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MinimumPipHeight = 0.0;
// }} ""
// {{ 2213 1 0 "aafddfde_b0ec_4d06_9a1d03769241cf5c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ValueExists == BOOLEON::TRUE)
{
// }} ""
// {{{ 2214 1 0 "2732bc68_2804_41e3_aa419ef87e254435" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_MinimumPipHeight = StrFVal(str_Value);
// }} ""
// {{ 2215 1 0 "aafddfde_b0ec_4d06_9a1d03769241cf5c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2216 1 0 "aec10be2_f620_4a90_9956a46244951e57" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_ZMinimumHeight = flt_ZCoord + flt_MinimumPipHeight;
// }} ""
// {{ 2217 1 0 "2c0f30e0_b90c_4963_bac1c56a2b54a884" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_ZBottom = flt_ZCoord;
// }} ""
// {{{ 2218 1 0 "899b763f_6a49_4fff_9b1d025987317aa8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(i_seq_Positions);
// }} ""
// {{{ 2219 1 0 "a3fdf2f1_afe7_46f0_ad79649cc354f01c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, str_LabID, str_PosID, flt_XCoord, flt_YCoord, flt_NotUsed, flt_NotUsed);
// }} ""
// {{{ 2220 1 0 "2ed48b9c_6778_4c20_95fb7b3e5728874d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_XCoord = MthRound(flt_XCoord, 1);
// }} ""
// {{{ 2221 1 0 "96f83595_d343_43f5_bc36cd2119387c18" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_YCoord = MthRound(flt_YCoord, 1);
// }} ""
// {{{ 2222 1 0 "59295438_3f53_4a8f_b4a6c9c616e04838" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Clearance Height:  "), o_flt_ZClearanceHeight);
// }} ""
// {{{ 2223 1 0 "71677673_b1cc_4ca6_9780a72c1df1f8fa" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Top Of Plate Height:  "), o_flt_ZMaximumHeight);
// }} ""
// {{{ 2224 1 0 "7f00b6e9_e8e4_4011_ba624e1693a29fe9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Minimum Height:  "), o_flt_ZMinimumHeight);
// }} ""
// {{{ 2225 1 0 "7461d35d_1e61_4664_b887263a30473097" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("X Coordinate:  "), o_flt_XCoord);
// }} ""
// {{{ 2226 1 0 "2b047e6a_8c4c_4c06_82b0ca015a186c90" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Y Coordinate:  "), o_flt_YCoord);
// }} ""
// {{{ 2227 1 0 "bc59a3f7_3966_44ad_8e9903801885191b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Z Bottom:  "), o_flt_ZBottom);
// }} ""
// {{{ 5 "_GetLabwareCoordinatesMPH96" "End"
}
// }} ""
// {{{ 5 "_DetermineStartZHeightMPH96" "Begin"
private function _DetermineStartZHeightMPH96( device & ML_STAR, variable i_flt_XCoord, variable i_flt_YCoord, variable i_flt_ZMinimumCoord, variable & o_flt_StartZHeight ) variable {
// }} ""
private variable bln_SimulationMode;
private variable flt_CurrentXCoord;
private variable flt_CurrentZCoord;
private variable flt_CurrentYCoord;
private variable bln_MPHAtCoordinate;
private variable flt_XDifference;
private variable flt_YDifference;
// {{ 5 "_DetermineStartZHeightMPH96" "InitLocals"
o_flt_StartZHeight = 0;
// }} ""
// {{{ 1879 1 0 "c83fd845_6417_4ade_b371cad14178563f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bln_SimulationMode = Util::GetSimulationMode();
// }} ""
// {{ 1880 1 0 "45318ae4_6505_4682_a1aa80f7c4ba5f66" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_StartZHeight = 0.0;
// }} ""
// {{ 1881 1 0 "8229a3fb_6390_44ea_ad4fe7cd3ba3005d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_MPHAtCoordinate = BOOLEON::TRUE;
// }} ""
// {{{ 1882 1 0 "ff95b86c_772e_4309_80d9d84ea8c2cc9a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::MPH96GetCoordinates(ML_STAR, flt_CurrentXCoord, flt_CurrentYCoord, flt_CurrentZCoord);
// }} ""
// {{ 1883 1 0 "2716a643_1a7b_4838_90b4bbfaed291659" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
i_flt_XCoord = i_flt_XCoord * 10;
// }} ""
// {{ 1884 1 0 "b6c7e838_dcfb_4c99_a0385a4e313ce3ed" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
i_flt_YCoord = i_flt_YCoord * 10;
// }} ""
// {{{ 1885 1 0 "045f79b1_abe4_4b78_b490f286f9880626" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_flt_XCoord = MthFloor(i_flt_XCoord);
// }} ""
// {{{ 1886 1 0 "dadc0e98_c422_490f_ad6a336b91af667c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_flt_YCoord = MthFloor(i_flt_YCoord);
// }} ""
// {{ 1887 1 0 "7d0c85f4_3ccc_48ef_b3519e3093005bf1" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentXCoord = flt_CurrentXCoord * 10;
// }} ""
// {{ 1888 1 0 "3fa4fb43_9c68_481b_9a64c518424280a5" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentYCoord = flt_CurrentYCoord * 10;
// }} ""
// {{{ 1889 1 0 "a6a9762d_b135_45d6_9ec55064b1502475" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_CurrentXCoord = MthFloor(flt_CurrentXCoord);
// }} ""
// {{{ 1890 1 0 "9842fb98_94f7_43ae_97e5d13563421deb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_CurrentYCoord = MthFloor(flt_CurrentYCoord);
// }} ""
// {{ 1891 1 0 "fe983557_afe6_4b5e_8025e291100e62ff" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_XDifference = flt_CurrentXCoord - i_flt_XCoord;
// }} ""
// {{ 1892 1 0 "345d2fac_86eb_429c_ae3c48ce488bd4c9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_XDifference < 0.0)
{
// }} ""
// {{ 1893 1 0 "93abaf37_2884_48de_a3d1cb7205da2da4" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_XDifference = flt_XDifference * -1;
// }} ""
// {{ 1894 1 0 "345d2fac_86eb_429c_ae3c48ce488bd4c9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1895 1 0 "5bf88e6c_afab_46cf_8a1b72e629697abb" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_YDifference = flt_CurrentYCoord - i_flt_YCoord;
// }} ""
// {{ 1896 1 0 "9f784417_0c1c_4249_bd88126173e18d3e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_YDifference < 0.0)
{
// }} ""
// {{ 1897 1 0 "058d0e01_712d_4877_9f6c9177a31071ef" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_YDifference = flt_YDifference * -1;
// }} ""
// {{ 1898 1 0 "9f784417_0c1c_4249_bd88126173e18d3e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1899 1 0 "023f9a30_8665_4a8a_aea977d9dde200ec" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_XDifference > 1)
{
// }} ""
// {{ 1900 1 0 "623e1fd9_1f0c_4f75_98cf62dccb68a711" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_MPHAtCoordinate = BOOLEON::FALSE;
// }} ""
// {{{ 1901 1 0 "f2128c84_505c_40e3_a582f582f563653a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(i_flt_XCoord, Translate(" IS NOT EQUAL TO "), flt_CurrentXCoord, Translate(""));
// }} ""
// {{ 1902 1 0 "023f9a30_8665_4a8a_aea977d9dde200ec" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1903 1 0 "92cfaaa0_2ce9_441e_829f5cd5fd3d52ce" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_YDifference > 1)
{
// }} ""
// {{ 1904 1 0 "4e84b0e4_8c54_4c61_89c3bd41686272ed" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_MPHAtCoordinate = BOOLEON::FALSE;
// }} ""
// {{{ 1905 1 0 "a173c094_7c38_4cf5_96c3d0b2aef5d14e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(i_flt_YCoord, Translate(" IS NOT EQUAL TO "), flt_CurrentYCoord, Translate(""));
// }} ""
// {{ 1906 1 0 "92cfaaa0_2ce9_441e_829f5cd5fd3d52ce" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1907 1 0 "7848a39a_9aaa_4f27_a03457a33bace1b0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_SimulationMode == BOOLEON::TRUE)
{
// }} ""
// {{ 1908 1 0 "c50b3acc_965f_4b2f_bc895317b803b26b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_MPHAtCoordinate = BOOLEON::TRUE;
// }} ""
// {{ 1909 1 0 "7848a39a_9aaa_4f27_a03457a33bace1b0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1910 1 0 "d05b1618_5de7_4b6a_b101358d92d71204" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_MPHAtCoordinate == BOOLEON::TRUE)
{
// }} ""
// {{ 1911 1 0 "c4fa00c6_8813_47d0_90a01df4d6ce0770" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_StartZHeight = i_flt_ZMinimumCoord;
// }} ""
// {{ 1912 1 0 "d05b1618_5de7_4b6a_b101358d92d71204" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1913 1 0 "977bbd22_7a69_4ce0_8a36d82805b03268" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_StartZHeight = 245.0;
// }} ""
// {{ 1914 1 0 "282ef985_04b4_4bec_83d9c4ef62271653" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("NOT AT CORRECT COORDINATES!"));
// }} ""
// {{ 1915 1 0 "d05b1618_5de7_4b6a_b101358d92d71204" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1916 1 0 "13fc6406_2ebc_4bde_ab963a4939a59ad9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Z Start height:  "), o_flt_StartZHeight, Translate(""));
// }} ""
// {{{ 1917 1 0 "8eb75d78_ef93_47f4_8427428fe4ab8ddf" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (bln_MPHAtCoordinate);
// }} ""
// {{{ 5 "_DetermineStartZHeightMPH96" "End"
}
// }} ""
// {{{ 5 "_GetLiquidFollowingForMPH96" "Begin"
private function _GetLiquidFollowingForMPH96( device & ML_STAR, variable i_flt_FixedHeights, sequence i_seq_PositionsToCalculate, variable i_bln_LiquidFollowingEnabled, variable i_bln_Aspirate, variable i_flt_VolumeToUse, variable & o_flt_LiquidFollowingDistance ) void {
// }} ""
private variable flt_LiquidFollow;
private variable str_LabID;
private variable str_PosID;
// {{ 5 "_GetLiquidFollowingForMPH96" "InitLocals"
o_flt_LiquidFollowingDistance = 0;
// }} ""
// {{ 2337 1 0 "00d33a8a_7b08_4ead_8c6557357d7e26bf" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_bln_Aspirate == BOOLEON::TRUE)
{
// }} ""
// {{ 2338 1 0 "7f53500a_ab3b_4bf8_82501c9874b482a9" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
i_flt_VolumeToUse = i_flt_VolumeToUse * -1;
// }} ""
// {{ 2339 1 0 "00d33a8a_7b08_4ead_8c6557357d7e26bf" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2340 1 0 "8cbebec6_d753_43a0_9cdf3a359151f040" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_LiquidFollowingDistance = 0.0;
// }} ""
// {{{ 2341 1 0 "6f1158eb_0514_4ecb_81d0f78f9c166e7c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(i_seq_PositionsToCalculate);
// }} ""
// {{{ 2342 1 0 "0667da06_459c_4064_bce119d316c48a0f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(i_seq_PositionsToCalculate);
// }} ""
// {{ 2343 1 0 "fae18252_f907_4120_8a9d5f1b972bdb56" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_bln_LiquidFollowingEnabled == BOOLEON::TRUE)
{
// }} ""
// {{{ 2344 1 0 "2d85b46b_7657_4a03_a3a34065a8dbfc5b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_CalculateLiquidFollowDistance(ML_STAR, str_LabID, str_PosID, i_flt_FixedHeights, i_flt_VolumeToUse, i_bln_Aspirate, flt_LiquidFollow);
// }} ""
// {{ 2345 1 0 "fae18252_f907_4120_8a9d5f1b972bdb56" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 2346 1 0 "ac7b0295_4043_450a_a5fc9b924e6432ff" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_LiquidFollow = 0.0;
// }} ""
// {{ 2347 1 0 "fae18252_f907_4120_8a9d5f1b972bdb56" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2348 1 0 "87553761_891a_4f21_a8b2b93051b36f24" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_flt_LiquidFollowingDistance = MthRound(flt_LiquidFollow, 1);
// }} ""
// {{{ 5 "_GetLiquidFollowingForMPH96" "End"
}
// }} ""
// {{{ 5 "MPH_DispenseToFixedHeight" "Begin"
function MPH_DispenseToFixedHeight( device & ML_STAR, sequence i_seq_DispensePositions, variable i_flt_DispenseHeight, variable i_int_End_Position, variable i_bln_UseLiquidFollowing, variable i_flt_DispenseVolume, variable i_flt_PullOutDistance ) void {
// }} ""
private variable bln_SimulationMode;
private variable _strFunctionName;
private variable bln_ProbabilityPassed;
private variable bln_TipsLoaded;
private variable flt_DispenseVolume;
private variable flt_ZBottom;
private variable flt_YCoord;
private variable flt_ZMaximumHeight;
private variable flt_XCoord;
private variable flt_ZStartHeight;
private variable flt_ZClearanceHeight;
private variable str_TempChPattern;
private variable flt_ZMinimumHeight;
private variable bln_MPH96AtCoordinates;
private variable int_MPHExists;
private sequence seq_Temp;
private variable flt_LiquidFollowingDistance;
private variable flt_MovementStartHeight;
private variable flt_MovementEndHeight;
private variable flt_EndHeight;
// {{ 5 "MPH_DispenseToFixedHeight" "InitLocals"
// }} ""
// {{ 88 1 0 "856fd6f2_44ae_40b7_a4bc0bc9d604e472" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 89 1 0 "7f92fab9_72f0_4909_8a54a747f92dfd7f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
_strFunctionName = Translate("");
// }} ""
_strFunctionName = GetFunctionName();
// {{{ 91 1 0 "327b4abe_dc39_427f_b9841d57b06575af" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::TRUE, BOOLEON::TRUE);
// }} ""
// {{ 92 1 0 "856fd6f2_44ae_40b7_a4bc0bc9d604e472" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 93 1 0 "0aaa2022_7130_41da_bb51628719313db8" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 94 1 0 "1ad59e94_9641_4608_87503bb1c6cb6ec6" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_InitLiquidClassStorage();
// }} ""
// {{{ 95 1 0 "5227a1d3_d2e1_4ccb_8b43c64e76e61336" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bln_SimulationMode = Util::GetSimulationMode();
// }} ""
// {{ 96 1 0 "c340e8f5_ae08_44b3_a57d96b96c1771ac" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 97 1 0 "ca7f6989_3a3f_4842_b88c01ce2bf0290a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::GetMPHExist(ML_STAR, int_MPHExists);
// }} ""
// {{ 98 1 0 "1e8574ca_af5d_418c_98e87b94bed30250" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_MPHExists == 0)
{
// }} ""
// {{ 99 1 0 "62b07a33_fbeb_4039_b181692514cbdea2" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("MPH96 IS NOT LOADED IN THE CONFIGURATION OF THIS INSTRUMENT!"));
// }} ""
// {{ 100 1 0 "75053de7_d610_42fd_85c784b494f2fac4" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 101 1 0 "4f98007a_5575_4371_b674ac741adb14a7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 102 1 0 "75053de7_d610_42fd_85c784b494f2fac4" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 103 1 0 "076b5c62_cf24_4541_b6d52093843e3ef5" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 104 1 0 "1e8574ca_af5d_418c_98e87b94bed30250" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 105 1 0 "09243164_fc51_4cf9_a312ea805644a68a" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 106 1 0 "9c75b280_c768_4b20_add335bb966324fa" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_TempChPattern = Translate("");
// }} ""
// {{{ 107 1 0 "b2577ab6_a6e5_4e8e_80f075034f33f55f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_TempChPattern = StrFillRight(str_TempChPattern, Translate("1"), 96);
// }} ""
// {{{ 108 1 0 "eae91407_ab97_4b1c_801dbed2e6510a43" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetNextSequenceSet(i_seq_DispensePositions, str_TempChPattern, seq_Temp);
// }} ""
// {{ 109 1 0 "084dbaec_7634_40a4_bb3fae2b8f3dcbbe" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 110 1 0 "4c0a01ec_a227_472b_b3b5ab563a63242f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ProbabilityPassed = _ProbabilityCheckMPH96(ML_STAR, seq_Temp, str_TempChPattern);
// }} ""
// {{ 111 1 0 "4af4361a_45b3_4869_adff7a848fb57c6a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ProbabilityPassed == BOOLEON::FALSE)
{
// }} ""
// {{ 112 1 0 "05588c22_2000_49dc_b413c247bbd26370" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("SEQUENCE IS NOT SORTED CORRECTLY FOR THE USE OF THIS FUNCITON!"));
// }} ""
// {{ 113 1 0 "0bab1631_9dee_4903_aac98cfffec44b9b" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 114 1 0 "954ac070_4da4_41fe_a2f54ef17b0afc78" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 115 1 0 "0bab1631_9dee_4903_aac98cfffec44b9b" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 116 1 0 "654c4858_8df9_424a_a521cb0b290fca12" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 117 1 0 "4af4361a_45b3_4869_adff7a848fb57c6a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 118 1 0 "30444594_4634_47d7_b5b1711aa79600f2" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 119 1 0 "d91614bd_22e6_4c46_80a4f11024f80a54" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::MPH96GetTipPresence(ML_STAR, bln_TipsLoaded);
// }} ""
// {{ 120 1 0 "39a1a712_406c_4b45_b0f12c7cfbf45ce8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_SimulationMode == BOOLEON::TRUE)
{
// }} ""
// {{ 121 1 0 "aac4f907_68cc_4822_99a95b2b742e98b3" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_TipsLoaded = BOOLEON::TRUE;
// }} ""
// {{ 122 1 0 "39a1a712_406c_4b45_b0f12c7cfbf45ce8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 123 1 0 "ac94b279_67c2_4f0a_b8040e4aedec38a3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_TipsLoaded == BOOLEON::FALSE)
{
// }} ""
// {{ 124 1 0 "e545c868_bcf9_42f7_8785a943dfda096e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("TIPS NOT PICKED UP!"));
// }} ""
// {{ 125 1 0 "7f09c032_5f92_4c73_bf16b41ff4118cd1" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 126 1 0 "7da5d47e_3314_419c_a14b5e4b05d7019d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 127 1 0 "7f09c032_5f92_4c73_bf16b41ff4118cd1" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 128 1 0 "72d97802_d110_4c86_9d10331ac0d27d78" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 129 1 0 "ac94b279_67c2_4f0a_b8040e4aedec38a3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 130 1 0 "9d27fb64_d783_40cc_a5a78769047bffb9" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 131 1 0 "b30a7f48_08a0_41c6_8332f4f92ce07e4a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLabwareCoordinatesMPH96(ML_STAR, seq_Temp, flt_XCoord, flt_YCoord, flt_ZBottom, flt_ZMinimumHeight, flt_ZMaximumHeight, flt_ZClearanceHeight);
// }} ""
// {{ 132 1 0 "63a2f5dd_8c7f_493c_a6df17eab64ce8e8" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 133 1 0 "2539e7a4_9609_44bf_b5484ed65e2f1945" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_MPH96AtCoordinates = _DetermineStartZHeightMPH96(ML_STAR, flt_XCoord, flt_YCoord, flt_ZMinimumHeight, flt_ZStartHeight);
// }} ""
// {{ 134 1 0 "dc222e01_56ab_45bc_84301fbc4b33abdb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (T_PIP_TOOLS_LIQUID_CLASS == "")
{
// }} ""
// {{ 135 1 0 "0c29cce1_eb4c_49b4_a3868fcc37703770" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("LIQUID CLASS IS NOT SET! ASPIRATE COMMAND MUST BE SET PRIOR TO DISPENSE!"));
// }} ""
// {{ 136 1 0 "ee43b63a_1982_4f0a_9d2fb6d02dec4b5b" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 137 1 0 "583ba071_fe9e_4708_946fa8ad4d5a88b1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 138 1 0 "ee43b63a_1982_4f0a_9d2fb6d02dec4b5b" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 139 1 0 "6ee74921_9832_48bd_b4caad6c8f589c67" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 140 1 0 "dc222e01_56ab_45bc_84301fbc4b33abdb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 141 1 0 "de4c25d2_80bd_4cf3_bd9630f44647e4a6" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 142 1 0 "f64af878_2b91_4536_8226831e46a65a30" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetCorrectedValueForVolume(i_flt_DispenseVolume, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y, flt_DispenseVolume);
// }} ""
// {{{ 143 1 0 "3f7cd488_050f_4c04_a145dd63de2c2018" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("Dispense Volume:  "), i_flt_DispenseVolume, Translate("  Corrected Volume for Liquid Class:  "), flt_DispenseVolume);
// }} ""
// {{{ 144 1 0 "26ebfd5b_3144_460d_8bc5f894f9ca7286" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("Dispense Height:  "), i_flt_DispenseHeight, Translate(""), Translate(""));
// }} ""
// {{ 145 1 0 "757d2bd5_38c0_4ee1_aaf7d05124c6c93c" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 146 1 0 "ea2fda89_0933_4fe5_bc595af76d2319c7" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidFollowingForMPH96(ML_STAR, i_flt_DispenseHeight, seq_Temp, i_bln_UseLiquidFollowing, BOOLEON::FALSE, i_flt_DispenseVolume, flt_LiquidFollowingDistance);
// }} ""
// {{{ 147 1 0 "05fad318_a702_41ea_bdbee0e773972592" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_Temp, 0, Translate("Processing"));
// }} ""
// {{ 148 1 0 "e48fb309_9484_46fa_a654d7108c230c8a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementStartHeight = flt_ZStartHeight;
// }} ""
// {{ 149 1 0 "64755a16_fa32_4f62_aa1d5b037a770de0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = 245.0;
// }} ""
// {{ 150 1 0 "108e224f_b6ce_438d_86348f1050c29c2e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_End_Position == 1)
{
// }} ""
// {{ 151 1 0 "3413e386_f4dd_4e0e_ab07d169f177c472" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_ZClearanceHeight;
// }} ""
// {{ 152 1 0 "108e224f_b6ce_438d_86348f1050c29c2e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 153 1 0 "15ef3377_8ea5_464b_900f535302eb8624" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_End_Position == 2)
{
// }} ""
// {{ 154 1 0 "ae1cc3cb_9989_494c_814aeaf905a02ebd" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_ZMaximumHeight;
// }} ""
// {{ 155 1 0 "15ef3377_8ea5_464b_900f535302eb8624" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 156 1 0 "60e38117_a8ef_463a_af1e107cfc57d781" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_End_Position == 3)
{
// }} ""
// {{ 157 1 0 "8bd4ae9e_d56e_4222_8b599fabe008b34b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_EndHeight = i_flt_DispenseHeight + flt_LiquidFollowingDistance;
// }} ""
// {{ 158 1 0 "97586f4c_62c5_4b24_bcfec86ce61356e9" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_EndHeight = flt_EndHeight + flt_ZBottom;
// }} ""
// {{ 159 1 0 "7494472a_ab66_4024_b36505aeb7c0a64a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_EndHeight;
// }} ""
// {{ 160 1 0 "b48a9c79_08df_4fe3_b86be87bee71ea98" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_MovementEndHeight < flt_ZMinimumHeight)
{
// }} ""
// {{ 161 1 0 "f75790a3_4fcd_4668_a714099b4ebb98b0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_ZMinimumHeight;
// }} ""
// {{ 162 1 0 "b48a9c79_08df_4fe3_b86be87bee71ea98" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 163 1 0 "60e38117_a8ef_463a_af1e107cfc57d781" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 164 1 0 "c3cdbbf8_75db_4424_898f543662f54aac" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 165 1 0 "fa48b9ab_11a1_4c73_8a6e6afc9d20e5ca" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::MPH96DispenseFromFixedHeight(ML_STAR, T_PIP_TOOLS_DISPENSE_MODE, flt_XCoord, flt_YCoord, i_flt_DispenseHeight, flt_LiquidFollowingDistance, flt_MovementStartHeight, flt_MovementEndHeight, flt_ZMinimumHeight, flt_ZBottom, 0.0, flt_DispenseVolume, T_PIP_TOOLS_DISP_FLOW_RATE, T_PIP_TOOLS_DISP_STOP_FLOW, T_PIP_TOOLS_DISP_STOP_BACK, T_PIP_TOOLS_DISP_AIR_TRANSPORT, T_PIP_TOOLS_DISP_BLOWOUT, T_PIP_TOOLS_DISP_SETTLING, T_PIP_TOOLS_DISP_SWAP, i_flt_PullOutDistance);
// }} ""
// {{{ 166 1 0 "356227c4_11f3_449c_b0857c909b70c4e0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_Temp, 4, Translate("Processed"));
// }} ""
// {{ 167 1 0 "6128552c_bc78_4a8f_b1f6ec4b01cee6f6" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 168 1 0 "9b1c9615_5def_4bc0_ad082442d555270d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::TRUE);
// }} ""
// {{ 169 1 0 "6128552c_bc78_4a8f_b1f6ec4b01cee6f6" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "MPH_DispenseToFixedHeight" "End"
}
// }} ""
// {{{ 5 "_CheckForPressureErrors" "Begin"
private function _CheckForPressureErrors( device & ML_STAR, variable i_str_AspirationReturnValue, variable i_str_LiquidReturnValue, variable i_flt_DispenseBackVolume, variable i_str_LiquidClassDispenseBack, variable & o_str_NoErrorChPattern ) void {
// }} ""
private variable int_TotalReturnValues;
private variable int_Pos;
private variable flt_NotUsed;
private variable flt_ZBottom;
private variable i;
private variable int_Recovery;
private variable flt_LiquidLevelHeight;
private variable int_ChannelUsed;
private variable str_ReturnValueLiquidLevel;
private variable str_LabID;
private variable int_DispenseCount;
private variable int_TotalErrorChannels;
private variable int_TotalChannels;
private variable int_ChannelIndex;
private variable str_PosID;
private variable flt_DispenseHeight;
private variable str_ChPattern;
private sequence seq_Dispense;
private variable arr_DispenseHeights[];
private variable arr_ChannelPattern[];
private variable arr_ChannelPatternNoError[];
// {{ 5 "_CheckForPressureErrors" "InitLocals"
o_str_NoErrorChPattern = 0;
// }} ""
// {{ 1703 1 0 "e782db96_81f7_4a41_998e536994c93c66" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_str_AspirationReturnValue == "")
{
// }} ""
// {{{ 1704 1 0 "2b082cda_bd4c_481b_bd5fa8d885bbc148" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 1705 1 0 "e782db96_81f7_4a41_998e536994c93c66" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1706 1 0 "87237b65_843e_4e32_8b2677c0518917d6" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("-----------------------------------------CheckForTADMErrors - START"));
// }} ""
// {{{ 1707 1 0 "42979d42_5730_4e78_bfd29bbbc4eb09ad" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalChannels = DevGetCfgValueWithKey(ML_STAR, 1);
// }} ""
// {{ 1708 1 0 "c17dfb6c_1ab5_4c9e_bf3d6540b85cb56b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1709 1 0 "28a4c387_25cf_4877_824095348abc6032" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_ChannelPattern.SetSize(0);
// }} ""
// {{ 1710 1 0 "be386bdb_21ba_40f9_bbf17d735d54e8db" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_ChannelPatternNoError.SetSize(0);
// }} ""
// {{ 1711 1 0 "ce8204e2_313e_4827_bf069f3b4f8e5dd5" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_DispenseHeights.SetSize(0);
// }} ""
// {{ 1712 1 0 "6029a1b4_7c12_4745_9550f1cb4e5aa71b" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChannelIndex = 0; int_ChannelIndex < int_TotalChannels;)
{
int_ChannelIndex = int_ChannelIndex + 1;
// }} ""
// {{ 1713 1 0 "50e3f34a_6bb7_4007_a1885db451912819" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_DispenseHeights.AddAsLast(0.0);
// }} ""
// {{ 1714 1 0 "5dda57c5_3750_41a4_82190a0a2e5edb13" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ChannelPattern.AddAsLast(0);
// }} ""
// {{ 1715 1 0 "2d312cc1_858a_4851_ab62614f33bc0965" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ChannelPatternNoError.AddAsLast(0);
// }} ""
// {{ 1716 1 0 "6029a1b4_7c12_4745_9550f1cb4e5aa71b" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 1717 1 0 "18a1a33a_30ab_47ae_8e9d23357a270628" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(seq_Dispense);
// }} ""
// {{ 1718 1 0 "99e5ebc0_6221_45c2_92ceba4a7c88c07a" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1719 1 0 "bf06b94e_9dde_486d_ba9fc3a37c15404d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_ReturnValueLiquidLevel = i_str_LiquidReturnValue;
// }} ""
// {{{ 1720 1 0 "48c547a1_b691_4aeb_b0728806f6fd2e6f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalReturnValues = StepReturn::GetNumberOfPositions(i_str_AspirationReturnValue);
// }} ""
Trace(i_str_AspirationReturnValue);
// {{ 1722 1 0 "e36fe486_c4e0_4f40_89216fb90ee25a9c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_DispenseCount = 1;
// }} ""
// {{ 1723 1 0 "2277d6cf_6250_4cd8_ab2f6dc5f37e88ba" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(i = 0; i < int_TotalReturnValues;)
{
i = i + 1;
// }} ""
// {{ 1724 1 0 "a83829bc_1051_4ab1_931b1a8cb5f721e6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_ZBottom = 0.0;
// }} ""
// {{{ 1725 1 0 "f48e8257_26ac_4282_acd801d594bfd846" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Pos = StepReturn::GetPositionFromNum(i, i_str_AspirationReturnValue);
// }} ""
// {{ 1726 1 0 "aabba532_1801_49a1_96b59ca897230a7c" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1727 1 0 "10fb9c2a_bffd_4d25_81104d361f2dade6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = StepReturn::GetLabwareId(int_Pos, i_str_AspirationReturnValue);
// }} ""
// {{{ 1728 1 0 "945e6487_fe29_4293_b9de0ed36c7245a8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = StepReturn::GetPositionId(int_Pos, i_str_AspirationReturnValue);
// }} ""
// {{ 1729 1 0 "3c7ba13f_1dd5_486e_a737d58184e4a5ca" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1730 1 0 "ab71d958_b7e6_46eb_b478c3f1ba22fb7b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Recovery = StepReturn::GetRecoveryButton(int_Pos, i_str_AspirationReturnValue);
// }} ""
// {{ 1731 1 0 "2c3f4ded_cb33_425f_9c8a480884e12628" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1732 1 0 "65fc3c3d_718c_461a_8b137db6217f9c11" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_ChannelUsed = StepReturn::GetPosition(int_Pos, i_str_AspirationReturnValue);
// }} ""
// {{ 1733 1 0 "94829a4e_edda_4956_aa796a45f63cc941" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1734 1 0 "d82bb162_dc10_427f_97f8aac8805f0080" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_LiquidLevelHeight = StepReturn::GetLastLiquidLevel(int_ChannelUsed, str_ReturnValueLiquidLevel);
// }} ""
// {{ 1735 1 0 "33ee4633_0d2e_4f0f_a77d0f6acb96b4ce" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1736 1 0 "ed3c35d3_bd92_4620_93581bfb87fba700" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Recovery == 9)
{
// }} ""
// {{ 1737 1 0 "5482308a_bb0e_4896_90a395391479d5d5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (str_LabID != "")
{
// }} ""
// {{ 1738 1 0 "8f13d2f1_bd5f_4527_97cce3ce0aa29892" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (str_PosID != "")
{
// }} ""
// {{{ 1739 1 0 "97a85001_f674_4df5_99cce7b89db3914a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, str_LabID, str_PosID, flt_NotUsed, flt_NotUsed, flt_ZBottom, flt_NotUsed);
// }} ""
// {{ 1740 1 0 "8f13d2f1_bd5f_4527_97cce3ce0aa29892" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1741 1 0 "5482308a_bb0e_4896_90a395391479d5d5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1742 1 0 "76e33a7d_eac3_4d3b_8a8b34c82ec10cf0" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1743 1 0 "bdd84df7_3539_47e8_ab625034100123ec" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_DispenseHeight = flt_LiquidLevelHeight - flt_ZBottom;
// }} ""
// {{ 1744 1 0 "7da92bc5_0044_4f54_ae1265f142cffd21" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_DispenseHeight < 5.0)
{
// }} ""
// {{ 1745 1 0 "85b46f89_a1f7_42e4_a3e74e348a152dba" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_DispenseHeight = 5.0;
// }} ""
// {{ 1746 1 0 "7da92bc5_0044_4f54_ae1265f142cffd21" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1747 1 0 "d699688a_28fb_44b0_8e94c9207f4766d2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(seq_Dispense, str_LabID, str_PosID);
// }} ""
// {{ 1748 1 0 "ea978b45_90e9_436e_9f07b94df9f7282d" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ChannelPattern.SetAt(int_ChannelUsed-1, 1);
// }} ""
// {{ 1749 1 0 "b1a3caa4_b2ff_4b71_850040f0adc6204e" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_DispenseHeights.SetAt(int_ChannelUsed-1, flt_DispenseHeight);
// }} ""
// {{ 1750 1 0 "ed3c35d3_bd92_4620_93581bfb87fba700" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1751 1 0 "b65821a7_c371_4d7b_b129c12c33e523e7" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ChannelPatternNoError.SetAt(int_ChannelUsed-1, 1);
// }} ""
// {{ 1752 1 0 "ed3c35d3_bd92_4620_93581bfb87fba700" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1753 1 0 "2277d6cf_6250_4cd8_ab2f6dc5f37e88ba" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1754 1 0 "fd376040_f5f3_4d81_9d45158199a2b185" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_Dispense.SetCurrentPosition(1);
// }} ""
// {{ 1755 1 0 "cacaaa67_4a2e_47b3_bcf13c700d7b3c46" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1756 1 0 "305ca67a_4f53_4e52_896911b8c736e929" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_ChPattern = Translate("");
// }} ""
// {{ 1757 1 0 "3d7bf2af_373e_4d75_88ac59a583e05b63" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_str_NoErrorChPattern = Translate("");
// }} ""
// {{ 1758 1 0 "08fbf65e_d74b_4255_a2b2a70ea809ae36" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChannelIndex = 0; int_ChannelIndex < int_TotalChannels;)
{
int_ChannelIndex = int_ChannelIndex + 1;
// }} ""
// {{{ 1759 1 0 "eeef0bb4_1a93_4eb9_b6ad457fb8d1d137" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_ChPattern = StrConcat2(str_ChPattern, arr_ChannelPattern.ElementAt( int_ChannelIndex -1));
// }} ""
// {{{ 1760 1 0 "9405d05d_3319_4184_841e26b9d0448d88" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_str_NoErrorChPattern = StrConcat2(o_str_NoErrorChPattern, arr_ChannelPatternNoError.ElementAt( int_ChannelIndex -1));
// }} ""
// {{ 1761 1 0 "08fbf65e_d74b_4255_a2b2a70ea809ae36" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
Trace("Channel Pattern no error:  ",o_str_NoErrorChPattern);
// {{{ 1763 1 0 "2cb74f4c_d9f3_4d77_8e850aab761b91a8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalErrorChannels = StrReplace(str_ChPattern, Translate("1"), Translate("1"));
// }} ""
// {{ 1764 1 0 "715e73b5_fad5_4c43_aa3a9469ba2c16e0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_TotalErrorChannels == 0)
{
// }} ""
// {{ 1765 1 0 "06c1f7cb_1c41_459c_9700d5c5a4bafec4" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("======================================================================\nNO PRESSURE ERRORS\n======================================================================"));
// }} ""
// {{ 1766 1 0 "715e73b5_fad5_4c43_aa3a9469ba2c16e0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1767 1 0 "5b062f27_a24e_4bdc_a2c3d7f5972b6e89" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_str_LiquidClassDispenseBack != "")
{
// }} ""
// {{ 1768 1 0 "eb2ad94c_dd6e_4dd6_84b061ae405750b6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_flt_DispenseBackVolume > 0.0)
{
// }} ""
// {{ 1769 1 0 "ef3fdedf_fab7_46c4_8b88cb79c20e85cb" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("================================================================\nSAMPLE DISPENSE BACK TO SOURCE REQUIRED!\n"));
// }} ""
Trace("Channel Pattern of channels that need to dispense back to source:  ",str_ChPattern);
// {{{ 1771 1 0 "7dea5406_3e49_47e5_a1282f64ca374d18" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceSequence(seq_Dispense);
// }} ""
// {{{ 1772 1 0 "162b5432_4079_4f3d_8cebda63c50ae959" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("Dispense Heights"), arr_DispenseHeights);
// }} ""
// {{ 1773 1 0 "9e42f1da_34fb_438e_b04e3e97fbf7deb5" "ML_STAR:{541143F8-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143F8_7FA2_11D3_AD85_0004ACB1DCB2("9e42f1da_34fb_438e_b04e3e97fbf7deb5"); // Dispense
}
// }} ""
// {{ 1774 1 0 "08796230_6ad4_42fa_90396f5f4545ae63" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("\n================================================================"));
// }} ""
// {{ 1775 1 0 "eb2ad94c_dd6e_4dd6_84b061ae405750b6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1776 1 0 "5b062f27_a24e_4bdc_a2c3d7f5972b6e89" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1777 1 0 "715e73b5_fad5_4c43_aa3a9469ba2c16e0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1778 1 0 "acb00700_80cf_44a2_8bf7827873855c58" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("-----------------------------------------CheckForTADMErrors - END"));
// }} ""
// {{{ 5 "_CheckForPressureErrors" "End"
}
// }} ""
// {{{ 5 "TOOL_CalculateVolumeForHeight" "Begin"
function TOOL_CalculateVolumeForHeight( device & ML_STAR, sequence i_seq_LabwareForCalculation, variable i_flt_HeightOfVolume, variable & o_flt_Volume ) void {
// }} ""
private variable _strFunctionName;
private variable str_LabID;
private variable str_ConfigFile;
private variable str_PosID;
// {{ 5 "TOOL_CalculateVolumeForHeight" "InitLocals"
o_flt_Volume = 0;
// }} ""
// {{ 1644 1 0 "5d320976_b6b6_4a36_aff000b78d2d0d37" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1645 1 0 "c86b2074_1484_4b4a_aec9b964ec7088e8" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
_strFunctionName = Translate("");
// }} ""
_strFunctionName = GetFunctionName();
// {{{ 1647 1 0 "a867c267_264e_44a9_abaacde24b31de64" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::TRUE, BOOLEON::TRUE);
// }} ""
// {{ 1648 1 0 "5d320976_b6b6_4a36_aff000b78d2d0d37" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1649 1 0 "4dae6cce_9144_4eb8_90318ab5fb77ae38" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(i_seq_LabwareForCalculation);
// }} ""
// {{{ 1650 1 0 "7b3fba34_520b_4276_85fb9eb7545de8b6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(i_seq_LabwareForCalculation);
// }} ""
// {{{ 1651 1 0 "79d77517_f4e2_4299_af1afba4ff5c97eb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     LabID:  "), str_LabID, Translate("   Position ID:  "), str_PosID);
// }} ""
// {{{ 1652 1 0 "2afad708_5009_4b67_b43ced40eda97746" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetContainerConfigurationFile(ML_STAR, str_LabID, str_PosID, str_ConfigFile);
// }} ""
// {{{ 1653 1 0 "593d0247_b82c_4542_8f86ae8f574ca7b0" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetVolumeBasedOnHeight(str_ConfigFile, i_flt_HeightOfVolume, o_flt_Volume);
// }} ""
// {{{ 1654 1 0 "5b9ae5ee_83ad_460c_940b4f406d6a8cde" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     Height:  "), i_flt_HeightOfVolume, Translate("   Volume:  "), o_flt_Volume);
// }} ""
// {{ 1655 1 0 "60b42f20_dcfd_4e75_bd00573c4c078357" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1656 1 0 "4e2e0e7c_a054_4c52_a4d4730623c6e3e0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::TRUE);
// }} ""
// {{ 1657 1 0 "60b42f20_dcfd_4e75_bd00573c4c078357" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "TOOL_CalculateVolumeForHeight" "End"
}
// }} ""
// {{{ 5 "_GetLabwareLimits" "Begin"
private function _GetLabwareLimits( device & ML_STAR, variable i_str_LabID, variable & o_flt_XMin, variable & o_flt_XMax, variable & o_flt_YMin, variable & o_flt_YMax ) void {
// }} ""
private variable flt_Angle;
private variable flt_NotUsed;
private variable flt_LabwareYDim;
private variable flt_LabwareXDim;
private variable flt_OriginX;
private variable flt_OriginY;
private variable flt_OriginZ;
private variable i;
// {{ 5 "_GetLabwareLimits" "InitLocals"
o_flt_XMin = 0;
o_flt_XMax = 0;
o_flt_YMin = 0;
o_flt_YMax = 0;
// }} ""
// {{{ 2229 1 0 "59a9d321_c287_4537_9578b9a0d093710e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePosition(ML_STAR, i_str_LabID, flt_NotUsed, flt_NotUsed, flt_NotUsed, flt_Angle);
// }} ""
// {{{ 2230 1 0 "ae2b547f_77b8_4d39_9905409e5eacac44" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetLabwareOrigin(ML_STAR, i_str_LabID, flt_OriginX, flt_OriginY, flt_OriginZ);
// }} ""
// {{{ 2231 1 0 "3c7cec60_7b08_4a88_896edb5c147f9cb4" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetLabwareLW(ML_STAR, i_str_LabID, flt_LabwareYDim, flt_LabwareXDim);
// }} ""
// {{ 2232 1 0 "f95f4bb9_015b_4242_a299167abbecea97" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(i = 0; i < 1;)
{
i = i + 1;
// }} ""
// {{ 2233 1 0 "a70b0249_a7b8_4c22_91362a019a902887" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_XMin = flt_OriginX;
// }} ""
// {{ 2234 1 0 "96053a6e_ff26_44a1_8275a580079b6f13" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_YMin = flt_OriginY;
// }} ""
// {{ 2235 1 0 "02a4417a_d0a3_4dab_8bf0a7a74fff89c8" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_XMax = flt_OriginX + flt_LabwareXDim;
// }} ""
// {{ 2236 1 0 "fe097457_a60d_4a87_82abcf27fc9b8e45" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_YMax = flt_OriginY + flt_LabwareYDim;
// }} ""
// {{ 2237 1 0 "e6991c87_b4e1_44a0_b8e82e9b0f98bbfc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_Angle == 90)
{
// }} ""
// {{ 2238 1 0 "a3b19ae7_82f8_451c_a2060a6b93d175db" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_XMin = flt_OriginX;
// }} ""
// {{ 2239 1 0 "9e7e40cc_06d6_48d8_8441c4c1cc2becb5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_YMax = flt_OriginY;
// }} ""
// {{ 2240 1 0 "d7d0016c_019a_4eb1_8ef7e07ed9da25d5" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_XMax = flt_OriginX + flt_LabwareYDim;
// }} ""
// {{ 2241 1 0 "baf7a761_2fc1_4012_ab7cb6d0db8931fb" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_YMin = flt_OriginY - flt_LabwareXDim;
// }} ""
// {{ 2242 1 0 "611d5b7c_d2e6_48f3_977429a86acd80eb" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 2243 1 0 "e6991c87_b4e1_44a0_b8e82e9b0f98bbfc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2244 1 0 "5a9093c8_9f4e_4a01_958ece676a05d173" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_Angle == 180)
{
// }} ""
// {{ 2245 1 0 "ca07bc3a_6d65_4cea_8e0a133c109fdf59" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_XMax = flt_OriginX;
// }} ""
// {{ 2246 1 0 "3533b504_78f5_4cad_a0a09e2b04d68846" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_YMax = flt_OriginY;
// }} ""
// {{ 2247 1 0 "58544be5_7bd1_4174_9d46ccfe656a9ec4" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_XMin = flt_OriginX - flt_LabwareXDim;
// }} ""
// {{ 2248 1 0 "1e420591_f535_4238_8a31dbadf45ba94c" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_YMin = flt_OriginY - flt_LabwareYDim;
// }} ""
// {{ 2249 1 0 "3700c789_0c48_46bf_ab4aad158204ccaa" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 2250 1 0 "5a9093c8_9f4e_4a01_958ece676a05d173" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2251 1 0 "69943145_ff55_40d3_9d92bfa15462dfdd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_Angle == 270)
{
// }} ""
// {{ 2252 1 0 "46dd0980_ba3e_4d66_be4900440f227e6b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_XMax = flt_OriginX;
// }} ""
// {{ 2253 1 0 "009579ae_ffaf_4bad_ae7928fcfeaf5fd7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_flt_YMin = flt_OriginY;
// }} ""
// {{ 2254 1 0 "b4fd3c78_b31f_498c_b4de0d90365d3b99" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_XMin = flt_OriginX - flt_LabwareYDim;
// }} ""
// {{ 2255 1 0 "6f023a87_16c3_4a33_bd0b7a1635ff3e31" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_flt_YMax = flt_OriginY + flt_LabwareXDim;
// }} ""
// {{ 2256 1 0 "1d3dab8a_e7e3_4aeb_a0646a1b137fc48b" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 2257 1 0 "69943145_ff55_40d3_9d92bfa15462dfdd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2258 1 0 "f95f4bb9_015b_4242_a299167abbecea97" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 2259 1 0 "2daf8299_0a3b_44de_86d144abce8c5054" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE08(Translate("     "), Translate("X Min:  "), o_flt_XMin, Translate("     X Max:  "), o_flt_XMax, Translate(""), Translate(""), Translate(""));
// }} ""
// {{{ 2260 1 0 "d666895a_b3a5_4a87_bb57178a3826acbc" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE08(Translate("     "), Translate("Y Min:  "), o_flt_YMin, Translate("     Y Max:  "), o_flt_YMax, Translate(""), Translate(""), Translate(""));
// }} ""
// {{{ 5 "_GetLabwareLimits" "End"
}
// }} ""
// {{{ 5 "PIP_MixFromFixedHeight" "Begin"
function PIP_MixFromFixedHeight( device & ML_STAR, variable i_str_ChPattern, sequence i_seq_MixPositions, variable & i_arr_FixedHeights[], variable i_int_End_Position, variable i_bln_UseLiquidFollowing, variable i_str_LiquidClass, variable i_flt_MixVolume, variable i_int_MixCycles ) void {
// }} ""
private variable bln_SimulationMode;
private variable bln_ProbabilityPassed;
private variable bln_TipsLoaded;
private variable flt_NotUsed;
private variable flt_ContainerDepth;
private variable flt_MovementStartHeight;
private variable flt_ZBottom;
private variable flt_ZMaximumHeight;
private variable bln_ChannelsAtCoordinates;
private variable _strFunctionName;
private variable str_LabID;
private variable flt_ZStartHeight;
private variable flt_ZClearanceHeight;
private variable flt_AspirationVolume;
private variable int_TotalChannels;
private variable flt_ZMinimumHeight;
private variable flt_DispenseHeight;
private variable flt_MovementEndHeight;
private sequence seq_Temp;
private variable arr_LiquidFollowingDistance[];
private variable arr_YCoord[];
private variable arr_XCoord[];
private variable arr_AspirationHeights[];
private variable flt_MixVolume;
// {{ 5 "PIP_MixFromFixedHeight" "InitLocals"
// }} ""
// {{ 435 1 0 "709f2224_f785_4533_b8e6fff0956538d1" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 436 1 0 "15850733_0dfb_49b4_b9f417303886bd19" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
_strFunctionName = Translate("");
// }} ""
_strFunctionName = GetFunctionName();
// {{{ 438 1 0 "d73c76eb_d51a_478d_8ecf347029585755" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::TRUE, BOOLEON::TRUE);
// }} ""
// {{ 439 1 0 "709f2224_f785_4533_b8e6fff0956538d1" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 440 1 0 "b02fdb69_4dab_4c7c_91c03eb43edc0f95" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 441 1 0 "7fe739eb_29cc_4904_a2d912ebb41e4a9a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_InitLiquidClassStorage();
// }} ""
// {{{ 442 1 0 "8741ceb1_0342_41f6_b335c2d3f9b3790f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bln_SimulationMode = Util::GetSimulationMode();
// }} ""
// {{ 443 1 0 "ef73a351_f4a6_46a8_b832d5b10a349978" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 444 1 0 "4fc65373_0651_47f0_b18f856060f5331e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::GetChannelNumber1mL(ML_STAR, int_TotalChannels);
// }} ""
// {{ 445 1 0 "e2ee4f12_6130_4632_911a5784eff12472" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 446 1 0 "354b23d4_5cf2_4eb5_aad92ad9375dd89b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_str_ChPattern = StrConcat2(i_str_ChPattern, Translate(""));
// }} ""
// {{{ 447 1 0 "3d7c76f6_1a69_4a14_b56608cfc52cc60d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_str_ChPattern = StrFillRight(i_str_ChPattern, Translate("0"), int_TotalChannels);
// }} ""
// {{ 448 1 0 "07c539ed_1c1c_4f5e_8e1a618084436d52" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 449 1 0 "f5af5bce_2b44_449e_b2a8c60820a7ba31" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetNextSequenceSet(i_seq_MixPositions, i_str_ChPattern, seq_Temp);
// }} ""
// {{ 450 1 0 "26f9028b_16f0_4b9b_824c30b48bb40c52" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 451 1 0 "f2512d83_4b70_4aed_a06bdbcda4031905" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ProbabilityPassed = _ProbabilityCheck(ML_STAR, seq_Temp, i_str_ChPattern);
// }} ""
// {{ 452 1 0 "01f97a90_0caa_4d85_bffc452c7d486036" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ProbabilityPassed == BOOLEON::FALSE)
{
// }} ""
// {{ 453 1 0 "8b6f2811_69f4_4fcb_ac16ee9fb69e3494" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("SEQUENCE IS NOT SORTED CORRECTLY FOR THE USE OF THIS FUNCITON!\nSEQUENCE MUST BE SUCH THAT THE CHANNEL PATTERN USED CAN BE DONE AT ONE TIME WITHOUT NEEDING TO MOVE CHANNELS OUT OF THE WAY!"));
// }} ""
// {{ 454 1 0 "1ee5ba5b_f8ac_4b75_a899dfbefc4fc471" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 455 1 0 "f4eed0d6_ede8_4031_b0ad4fe9f263e3e1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 456 1 0 "1ee5ba5b_f8ac_4b75_a899dfbefc4fc471" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 457 1 0 "edd9e761_085d_4f4f_90746336c5527523" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 458 1 0 "01f97a90_0caa_4d85_bffc452c7d486036" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 459 1 0 "d43695b4_7f8b_400b_9e62c17a15dadfab" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 460 1 0 "86bad04b_8b94_4879_ad43a83045e32a5c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_TipsLoaded = _EnsureTipsAreLoaded(ML_STAR, i_str_ChPattern);
// }} ""
// {{ 461 1 0 "c2a3c880_e468_4581_b6418fa1b608fc6f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_TipsLoaded == BOOLEON::FALSE)
{
// }} ""
// {{ 462 1 0 "49839430_3708_4dea_8dfcde3a0fee9d01" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("TIPS PICKED UP DO NOT MATCH THE CHANNEL PATTERN!"));
// }} ""
// {{ 463 1 0 "4f55bd18_62fa_46d1_a6299632d3acc117" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 464 1 0 "e8329f6d_73f5_47a3_9e14daa797e7c486" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 465 1 0 "4f55bd18_62fa_46d1_a6299632d3acc117" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 466 1 0 "584e67d8_7194_47a4_aac91697d126322e" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 467 1 0 "c2a3c880_e468_4581_b6418fa1b608fc6f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 468 1 0 "a712be01_221a_49c1_b648724e456097c1" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 469 1 0 "8567fe7d_6af9_4b17_9861ff65d16ff712" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLabwareCoordinates(ML_STAR, seq_Temp, i_str_ChPattern, arr_XCoord, arr_YCoord, flt_ZBottom, flt_ZMinimumHeight, flt_ZMaximumHeight, flt_ZClearanceHeight);
// }} ""
// {{ 470 1 0 "a759d21a_be3d_43ff_b790dd3c1dd78d8c" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_ContainerDepth = flt_ZMaximumHeight - flt_ZMinimumHeight;
// }} ""
// {{ 471 1 0 "7c05bfe4_7d97_485c_92c6fb2434e288b3" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 472 1 0 "4e17ac2a_855d_4d89_ab267438969a6275" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(seq_Temp);
// }} ""
// {{{ 473 1 0 "42fa07a7_71b5_47b8_a17367022f393d60" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ChannelsAtCoordinates = _DetermineStartZHeight(ML_STAR, i_str_ChPattern, str_LabID, arr_XCoord, arr_YCoord, flt_ZMinimumHeight, flt_ZClearanceHeight, flt_ZStartHeight);
// }} ""
// {{ 474 1 0 "c8e027b1_ba13_407c_afe6fb2c57b6fe8c" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 475 1 0 "ed8d2b66_6750_4770_a53aeff5a5b4f3ae" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_ApplyOffsetToArrayofValues(i_arr_FixedHeights, flt_ZBottom, arr_AspirationHeights);
// }} ""
// {{ 476 1 0 "65546bc4_ba3d_4892_9d3df54d132f2f23" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 477 1 0 "867ed115_f540_489b_b57ef27f3dae8900" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidClassParams(i_str_LiquidClass, BOOLEON::TRUE, T_PIP_TOOLS_ASP_FLOW_RATE, T_PIP_TOOLS_ASP_MIX_FLOW_RATE, T_PIP_TOOLS_ASP_AIR_TRANSPORT, T_PIP_TOOLS_ASP_BLOWOUT, T_PIP_TOOLS_ASP_SWAP, T_PIP_TOOLS_ASP_SETTLING, T_PIP_TOOLS_ASP_OVERASPIRATE, T_PIP_TOOLS_ASP_CLOT_RETRACT, flt_NotUsed, flt_NotUsed, T_PIP_TOOLS_MAX_VOLUME, T_PIP_TOOLS_DISPENSE_MODE, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y);
// }} ""
// {{{ 478 1 0 "57749e8a_30e7_41bc_a2e0d1f12a7cf1fc" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidClassParams(i_str_LiquidClass, BOOLEON::FALSE, T_PIP_TOOLS_DISP_FLOW_RATE, T_PIP_TOOLS_DISP_MIX_FLOW_RATE, T_PIP_TOOLS_DISP_AIR_TRANSPORT, T_PIP_TOOLS_DISP_BLOWOUT, T_PIP_TOOLS_DISP_SWAP, T_PIP_TOOLS_DISP_SETTLING, flt_NotUsed, flt_NotUsed, T_PIP_TOOLS_DISP_STOP_FLOW, T_PIP_TOOLS_DISP_STOP_BACK, T_PIP_TOOLS_MAX_VOLUME, T_PIP_TOOLS_DISPENSE_MODE, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y);
// }} ""
// {{ 479 1 0 "56d60f98_2e08_43d6_886ae38ccbded5bb" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 480 1 0 "5b53a3a8_53e3_410d_990a4bdeb4b397af" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetCorrectedValueForVolume(i_flt_MixVolume, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y, flt_MixVolume);
// }} ""
// {{{ 481 1 0 "c49834cd_6f9a_41d0_9a5243c205145826" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("Mix Volume:  "), i_flt_MixVolume, Translate("  Corrected Volume for Liquid Class:  "), flt_MixVolume);
// }} ""
// {{ 482 1 0 "cda3cb5c_e361_48da_940f7bb80e7ce1b2" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 483 1 0 "50cd3239_9108_46e8_995be7cb777e3b49" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidFollowingForAllChannels(ML_STAR, i_arr_FixedHeights, seq_Temp, i_bln_UseLiquidFollowing, BOOLEON::TRUE, flt_AspirationVolume, i_str_ChPattern, arr_LiquidFollowingDistance);
// }} ""
// {{{ 484 1 0 "610cd7f6_8101_4774_b0b19b47acc89b13" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_Temp, 0, Translate("Processing"));
// }} ""
// {{ 485 1 0 "2c40f5f0_fdb7_4183_bde357cc6f5d4a15" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementStartHeight = flt_ZStartHeight;
// }} ""
// {{ 486 1 0 "80af149d_caf0_4583_be7299b557ac8147" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = 245.0;
// }} ""
// {{ 487 1 0 "1c1951ce_5a24_43d0_be7d52a95380d1d1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_End_Position == 1)
{
// }} ""
// {{ 488 1 0 "5e773e48_842b_4d60_8b24fd613626f940" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_ZClearanceHeight;
// }} ""
// {{ 489 1 0 "1c1951ce_5a24_43d0_be7d52a95380d1d1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 490 1 0 "5f0ec7f8_6692_4e2b_930ce8ec668ba806" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_End_Position == 2)
{
// }} ""
// {{ 491 1 0 "73abcc32_8911_48e8_95f318801fe87b2a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_ZMaximumHeight;
// }} ""
// {{ 492 1 0 "5f0ec7f8_6692_4e2b_930ce8ec668ba806" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 493 1 0 "4e472715_daff_496f_95795d401ec9fe2f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_End_Position == 3)
{
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{ 494 1 0 "adbd6f8f_0e9b_4d8a_a23d5286ddb48a02" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_ZMinimumHeight;
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 495 1 0 "a6f6b40d_dd56_4897_8614cada0b241ba9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_DispenseHeight = HSLStatisitics::Stat_Max(i_arr_FixedHeights);
// }} ""
// {{ 496 1 0 "388be725_e048_4d8b_ae887a710d99297f" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_DispenseHeight + flt_ZBottom;
// }} ""
// {{ 497 1 0 "48ff1540_09f2_4ad8_a4f6af9e46564aea" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_MovementEndHeight < flt_ZMinimumHeight)
{
// }} ""
// {{ 498 1 0 "41a350a0_639a_4632_85ad62efed67d0a6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MovementEndHeight = flt_ZMinimumHeight;
// }} ""
// {{ 499 1 0 "48ff1540_09f2_4ad8_a4f6af9e46564aea" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 500 1 0 "4e472715_daff_496f_95795d401ec9fe2f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 501 1 0 "d48aac06_9147_47bb_9df66596f51cab74" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 502 1 0 "415f4b01_92ac_4bfd_a75db86ba42025c5" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::PIPMixFromFixedHeight(ML_STAR, i_str_ChPattern, arr_XCoord, arr_YCoord, arr_AspirationHeights, arr_LiquidFollowingDistance, flt_MovementStartHeight, flt_MovementEndHeight, flt_ZMinimumHeight, flt_ZBottom, i_int_MixCycles, flt_MixVolume, T_PIP_TOOLS_ASP_MIX_FLOW_RATE);
// }} ""
// {{{ 503 1 0 "e4100e74_741a_492b_b8e2ec9a6219df29" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_Temp, 4, Translate("Processed"));
// }} ""
// {{ 504 1 0 "f2f34f43_1f39_489f_b8a4a2ae6a574452" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 505 1 0 "798c2f0e_0607_41f3_88f679c813ff5929" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::TRUE);
// }} ""
// {{ 506 1 0 "f2f34f43_1f39_489f_b8a4a2ae6a574452" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "PIP_MixFromFixedHeight" "End"
}
// }} ""
// {{{ 5 "PIP_PhaseAspirationWasteRemainder" "Begin"
function PIP_PhaseAspirationWasteRemainder( device & ML_STAR, variable i_str_ChPattern, variable i_str_LiquidClass, sequence i_seq_AspirationPosition, sequence i_seq_DispensePosition, variable i_bln_UseCLLD, variable i_flt_SafeHeightAbovePhase, variable i_flt_AdditionalAspirationVolume, variable i_flt_DispenseHeight ) void {
// }} ""
private variable bln_SimulationMode;
private variable _strFunctionName;
private variable int_TotalChannels;
private variable int_PLLD;
private variable flt_ZBottomDispesne;
private variable bln_TipsLoaded;
private variable bln_ProbabilityPassed;
private variable flt_NotUsed;
private variable flt_ZBottom;
private variable flt_ZClearanceHeightDispense;
private variable flt_ZMaximumHeight;
private variable flt_ZMinimumHeightDispense;
private variable flt_ZClearanceHeight;
private variable flt_ZMaximumHeightDispense;
private variable flt_ZMinimumHeight;
private variable int_CLLD;
private variable int_Value;
private variable str_ReturnChPattern;
private variable flt_MaxTipVolume;
private variable int_ChIndex;
private sequence seq_Temp;
private sequence seq_TempDispense;
private variable arr_MaxVolumes[];
private variable arr_XCoordDispense[];
private variable arr_YCoordDispense[];
private variable arr_YCoord[];
private variable arr_XCoord[];
private variable arr_LiquidLevelHeights[];
private variable flt_VolumeToAspirate;
private variable flt_ContainerDepth;
private variable str_ContainerConfig;
private variable flt_TopHeight;
private variable flt_BottomHeight;
private variable str_LabID;
private variable flt_BottomVolume;
private variable flt_TopVolume;
private variable flt_LiquidFollowingDistance;
private variable str_PosID;
private variable arr_LiquidFollowingDistances[];
private variable arr_AspirationVolumes[];
private variable arr_AspirationHeights[];
private variable str_PosIDDisp;
private variable str_LabIDDisp;
private variable str_ContainerConfigDisp;
private variable arr_DispenseHeights[];
private variable arr_LiquidFollowingDistancesDisp[];
private variable flt_TopHeightContainer;
private variable flt_BottomHeightContainer;
private variable flt_AspirationHeight;
private variable flt_DispenseHeight;
private variable int_TotalActiveChannels;
private variable arr_TopPhaseHeight[];
private variable arr_SecondPhaseHeights[];
// {{ 5 "PIP_PhaseAspirationWasteRemainder" "InitLocals"
// }} ""
// {{ 1445 1 0 "0c4ea4a7_4915_4687_853b574330f48333" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1446 1 0 "0f9bd729_6a1a_4975_a6c49440df868930" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
_strFunctionName = Translate("");
// }} ""
_strFunctionName = GetFunctionName();
// {{{ 1448 1 0 "455fbeac_7af5_44a7_8c4fce4ff8cbc2f6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::TRUE, BOOLEON::TRUE);
// }} ""
// {{ 1449 1 0 "0c4ea4a7_4915_4687_853b574330f48333" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1450 1 0 "fd499c3a_6207_4001_b1fbb90762df5fd2" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1451 1 0 "fefe8d48_c412_488d_a0085aefe7939f68" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_InitLiquidClassStorage();
// }} ""
// {{{ 1452 1 0 "85ba0389_b651_435b_aacebfac034b11d5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bln_SimulationMode = Util::GetSimulationMode();
// }} ""
// {{ 1453 1 0 "67329df4_0ab9_4451_99589e7ce533c04a" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1454 1 0 "11beae7e_66c9_46f0_abc5ec400290e6aa" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::GetChannelNumber1mL(ML_STAR, int_TotalChannels);
// }} ""
// {{ 1455 1 0 "cb983161_1c71_4790_a65ff4dcfba21f34" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_TopPhaseHeight.SetSize(0);
// }} ""
// {{ 1456 1 0 "bc145ce5_ec9a_4239_b75f365769c322fd" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_ReturnChPattern = Translate("");
// }} ""
// {{{ 1457 1 0 "05613ce4_b9b7_4968_a021df8289063b70" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_ReturnChPattern = StrFillRight(str_ReturnChPattern, Translate("0"), int_TotalChannels);
// }} ""
// {{ 1458 1 0 "db92caf3_9ed9_4c92_af8f26c8281f545c" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1459 1 0 "0cd28ebf_2181_4263_a47b402820ffb2c1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_str_ChPattern = StrConcat2(i_str_ChPattern, Translate(""));
// }} ""
// {{{ 1460 1 0 "c200803d_2481_457e_8cf8708453009505" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_str_ChPattern = StrFillRight(i_str_ChPattern, Translate("0"), int_TotalChannels);
// }} ""
// {{{ 1461 1 0 "6d81aa6a_db3f_47b8_b1a0f44ffc9d05e0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalActiveChannels = StrReplace(i_str_ChPattern, Translate("1"), Translate("1"));
// }} ""
// {{ 1462 1 0 "df0c77c4_04d2_4d6f_9fcb7dc9c2ac9205" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_TotalActiveChannels == 0)
{
// }} ""
// {{ 1463 1 0 "d99f86b4_e6db_4d12_a225e6e3268ac530" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("CHANNEL PATTERN CONTAINS NO ACTIVE CHANNELS!"));
// }} ""
// {{ 1464 1 0 "eb0bc9bc_efcc_47cf_bb1a4327a959bd85" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1465 1 0 "f78795a4_1cbe_4b7e_a66d2f66e3f8bc41" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 1466 1 0 "eb0bc9bc_efcc_47cf_bb1a4327a959bd85" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1467 1 0 "94ec42dc_69ea_43bb_b319f76e0331a373" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 1468 1 0 "df0c77c4_04d2_4d6f_9fcb7dc9c2ac9205" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1469 1 0 "470270b9_e44a_44ae_9a41b882bdf58938" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1470 1 0 "d1268d78_f1c5_4c0a_89de01ad6ac070c3" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetNextSequenceSet(i_seq_AspirationPosition, i_str_ChPattern, seq_Temp);
// }} ""
// {{ 1471 1 0 "ef82fa0d_5f76_4817_a4a04c2be1d0379e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1472 1 0 "a8778bc9_4492_45c9_b384d6b48b793e6a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ProbabilityPassed = _ProbabilityCheck(ML_STAR, seq_Temp, i_str_ChPattern);
// }} ""
// {{ 1473 1 0 "cc11c555_576e_4b3d_b638dea3f81f58bb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ProbabilityPassed == BOOLEON::FALSE)
{
// }} ""
// {{ 1474 1 0 "a73addf5_659d_419e_8a38308a0a5b7c23" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("ASPIRATE SEQUENCE IS NOT SORTED CORRECTLY FOR THE USE OF THIS FUNCITON!\nSEQUENCE MUST BE SUCH THAT THE CHANNEL PATTERN USED CAN BE DONE AT ONE TIME WITHOUT NEEDING TO MOVE CHANNELS OUT OF THE WAY!"));
// }} ""
// {{ 1475 1 0 "0021afc5_911e_48f6_8731565183a6aefc" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1476 1 0 "16009541_ba77_4d82_bdee2238a6152121" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 1477 1 0 "0021afc5_911e_48f6_8731565183a6aefc" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1478 1 0 "93c20786_4090_4e7e_aa992d4f4dbf8cdc" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 1479 1 0 "cc11c555_576e_4b3d_b638dea3f81f58bb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1480 1 0 "31fd4c44_ad17_4575_b181ba5d0bf0d2b3" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1481 1 0 "c4d46276_0391_431e_91da24aaf5e4f6c3" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetNextSequenceSet(i_seq_DispensePosition, i_str_ChPattern, seq_TempDispense);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{ 1482 1 0 "b98475c5_d177_4f01_ab439bcc6e71c4f7" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1483 1 0 "682625fc_cbd0_491c_b57519da79f3bec9" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ProbabilityPassed = _ProbabilityCheck(ML_STAR, seq_TempDispense, i_str_ChPattern);
// }} ""
// {{ 1484 1 0 "522c8f59_3d82_47d8_aadd4e01bff35523" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ProbabilityPassed == BOOLEON::FALSE)
{
// }} ""
// {{ 1485 1 0 "23e0bd2c_288d_4c4f_a93797caf4d8c9d6" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("DISPENSE SEQUENCE IS NOT SORTED CORRECTLY FOR THE USE OF THIS FUNCITON!\nSEQUENCE MUST BE SUCH THAT THE CHANNEL PATTERN USED CAN BE DONE AT ONE TIME WITHOUT NEEDING TO MOVE CHANNELS OUT OF THE WAY!"));
// }} ""
// {{ 1486 1 0 "5bebc339_1aa6_4297_9589f75b82b8fb00" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1487 1 0 "bdedebe2_6508_4655_b8283ca3eaeaece9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 1488 1 0 "5bebc339_1aa6_4297_9589f75b82b8fb00" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1489 1 0 "0408357d_0749_4d8f_bf6a612a84a8a6cc" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 1490 1 0 "522c8f59_3d82_47d8_aadd4e01bff35523" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 1491 1 0 "1bf54e5c_5c2c_4c1b_bbae2e1a45698dcd" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1492 1 0 "45309945_631f_4584_b04b053d40f18669" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_TipsLoaded = _EnsureTipsAreLoaded(ML_STAR, i_str_ChPattern);
// }} ""
// {{ 1493 1 0 "bde0fa04_e46e_4632_8c16985881591b96" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_TipsLoaded == BOOLEON::FALSE)
{
// }} ""
// {{ 1494 1 0 "138fc1f0_2270_4e58_a1abbb95fbf56fca" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("TIPS PICKED UP DO NOT MATCH THE CHANNEL PATTERN!"));
// }} ""
// {{ 1495 1 0 "af1e747c_09da_48cb_838c33407dbc205c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1496 1 0 "9f555ef9_0eb3_49c8_b6a66029b2d842ae" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 1497 1 0 "af1e747c_09da_48cb_838c33407dbc205c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1498 1 0 "4115fdcb_852e_47f8_af8e5997dca21dc1" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 1499 1 0 "bde0fa04_e46e_4632_8c16985881591b96" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1500 1 0 "f82425d4_14a8_43ac_822e3a13a557ea85" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetHeightInfoFromLabware(ML_STAR, BOOLEON::FALSE, seq_Temp, arr_SecondPhaseHeights);
// }} ""
// {{{ 1501 1 0 "f89c0ec6_168e_4875_a5ebc1accfcd8251" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetHeightInfoFromLabware(ML_STAR, BOOLEON::TRUE, seq_Temp, arr_TopPhaseHeight);
// }} ""
// {{ 1502 1 0 "3c6ed590_2c5e_4105_8d320988d9b28320" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1503 1 0 "796b2fd2_751f_4df9_9255314593821483" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLabwareCoordinates(ML_STAR, seq_Temp, i_str_ChPattern, arr_XCoord, arr_YCoord, flt_ZBottom, flt_ZMinimumHeight, flt_ZMaximumHeight, flt_ZClearanceHeight);
// }} ""
// {{{ 1504 1 0 "66950d31_4ff7_4f44_889b34bc0c93a491" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLabwareCoordinates(ML_STAR, seq_TempDispense, i_str_ChPattern, arr_XCoordDispense, arr_YCoordDispense, flt_ZBottomDispesne, flt_ZMinimumHeightDispense, flt_ZMaximumHeightDispense, flt_ZClearanceHeightDispense);
// }} ""
// {{ 1505 1 0 "c53ec153_20c5_4eb8_8c55f8dc09b46628" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_ContainerDepth = flt_ZMaximumHeight - flt_ZMinimumHeight;
// }} ""
// {{ 1506 1 0 "bca66b0e_9df2_400b_a2f77af5a6140b5a" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1507 1 0 "54b3e6f4_c053_4990_bcf12c805d6f534a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_bln_UseCLLD == BOOLEON::TRUE)
{
// }} ""
// {{ 1508 1 0 "86cd45fd_502f_4a49_8672369009cfa27a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_CLLD = 1;
// }} ""
// {{ 1509 1 0 "f79a4c66_7c90_4a57_8087a2d1b9ed65bc" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_PLLD = 0;
// }} ""
// {{ 1510 1 0 "54b3e6f4_c053_4990_bcf12c805d6f534a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1511 1 0 "2c1fff0d_fe33_483a_a58f5bac0fc1ddc0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_CLLD = 0;
// }} ""
// {{ 1512 1 0 "9d880e85_0184_4148_9a0f1f4923995dcc" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_PLLD = 1;
// }} ""
// {{ 1513 1 0 "54b3e6f4_c053_4990_bcf12c805d6f534a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1514 1 0 "a47e7a2f_dd31_40ac_9ee509eb92fec68b" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_MaxVolumes.SetSize(0);
// }} ""
// {{ 1515 1 0 "c4514c71_0fea_4c46_806820716af488c5" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < int_TotalChannels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 1516 1 0 "e6f6b21a_9003_486e_956859c39184178e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(i_str_ChPattern, int_ChIndex, int_Value);
// }} ""
// {{ 1517 1 0 "91c8b8ec_95bc_47d0_8cf2b0675d6ea279" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{{ 1518 1 0 "6678511f_ed7f_41e9_a2db557d8fb5caed" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::Get_Tip_Volume_1mL(ML_STAR, int_ChIndex, flt_MaxTipVolume, flt_NotUsed);
// }} ""
// {{ 1519 1 0 "41a5dcdc_84e7_44a3_9c7e2a6ed220f109" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_MaxVolumes.AddAsLast(flt_MaxTipVolume);
// }} ""
// {{ 1520 1 0 "91c8b8ec_95bc_47d0_8cf2b0675d6ea279" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1521 1 0 "a9e189f3_fa17_4867_a083355668ba7600" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_MaxVolumes.AddAsLast(0.0);
// }} ""
// {{ 1522 1 0 "91c8b8ec_95bc_47d0_8cf2b0675d6ea279" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1523 1 0 "c4514c71_0fea_4c46_806820716af488c5" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1524 1 0 "44767dc5_eda8_42c1_b360a62f7c8455bd" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1525 1 0 "8d311609_4eb0_4053_88755feb25c13e5e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::PIPFindLiquidLevel(ML_STAR, i_str_ChPattern, arr_XCoord, arr_YCoord, 245.0, flt_ZMaximumHeight, flt_ZClearanceHeight, flt_ZMinimumHeight, i_bln_UseCLLD, arr_LiquidLevelHeights);
// }} ""
// {{ 1526 1 0 "edb6af0d_7cc7_4013_8d3be01a4208c15a" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1527 1 0 "1887e881_e656_4cdc_88f77d4494c2f516" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidClassParams(i_str_LiquidClass, BOOLEON::TRUE, T_PIP_TOOLS_ASP_FLOW_RATE, T_PIP_TOOLS_ASP_MIX_FLOW_RATE, T_PIP_TOOLS_ASP_AIR_TRANSPORT, T_PIP_TOOLS_ASP_BLOWOUT, T_PIP_TOOLS_ASP_SWAP, T_PIP_TOOLS_ASP_SETTLING, T_PIP_TOOLS_ASP_OVERASPIRATE, T_PIP_TOOLS_ASP_CLOT_RETRACT, flt_NotUsed, flt_NotUsed, T_PIP_TOOLS_MAX_VOLUME, T_PIP_TOOLS_DISPENSE_MODE, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y);
// }} ""
// {{{ 1528 1 0 "32d4eadd_35e2_45f3_a79eeec665377a18" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidClassParams(i_str_LiquidClass, BOOLEON::FALSE, T_PIP_TOOLS_DISP_FLOW_RATE, T_PIP_TOOLS_DISP_MIX_FLOW_RATE, T_PIP_TOOLS_DISP_AIR_TRANSPORT, T_PIP_TOOLS_DISP_BLOWOUT, T_PIP_TOOLS_DISP_SWAP, T_PIP_TOOLS_DISP_SETTLING, flt_NotUsed, flt_NotUsed, T_PIP_TOOLS_DISP_STOP_FLOW, T_PIP_TOOLS_DISP_STOP_BACK, T_PIP_TOOLS_MAX_VOLUME, T_PIP_TOOLS_DISPENSE_MODE, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y);
// }} ""
// {{ 1529 1 0 "52153e0b_6907_4733_8b90a20ef1edc904" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1530 1 0 "c75297b4_d1a1_4f53_a5218eb5ee2c6682" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_AspirationVolumes.SetSize(0);
// }} ""
// {{ 1531 1 0 "27785211_d457_4da8_be3bc81035b516ad" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_LiquidFollowingDistances.SetSize(0);
// }} ""
// {{ 1532 1 0 "a7ee51bc_50ef_4241_b3fd59d2f3f3784b" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_DispenseHeights.SetSize(0);
// }} ""
// {{ 1533 1 0 "40ba0cd2_45dd_481d_aa56da82db04586e" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_LiquidFollowingDistancesDisp.SetSize(0);
// }} ""
// {{ 1534 1 0 "91203a2d_59e9_4708_bb6255a2adda8b67" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_AspirationHeights.SetSize(0);
// }} ""
// {{ 1535 1 0 "7a6c7913_eb6c_4f07_9690f049367bb2a3" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < int_TotalChannels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 1536 1 0 "a3d298fd_2167_40b5_bab3e46a96703d9a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(i_str_ChPattern, int_ChIndex, int_Value);
// }} ""
// {{ 1537 1 0 "fbff2220_bfa6_4456_8ee6c3b9a5a0db2a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{ 1538 1 0 "dbce7db9_2541_46bf_969d51660a127e3d" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_Temp.SetCurrentPosition(int_ChIndex);
// }} ""
// {{ 1539 1 0 "d9f2274d_3aba_497c_bdcb828ea8f23b22" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_TempDispense.SetCurrentPosition(int_ChIndex);
// }} ""
// {{{ 1540 1 0 "7390cfa4_129f_47e0_9661f301b585e946" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(seq_Temp);
// }} ""
// {{{ 1541 1 0 "2e471e44_9575_492f_8f556c1df8b1e0c2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(seq_Temp);
// }} ""
// {{{ 1542 1 0 "2313952a_9f5e_4207_8afa52b3f1bc8718" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabIDDisp = SeqGetLabwareId(seq_TempDispense);
// }} ""
// {{{ 1543 1 0 "380bc8c9_906b_47b3_84f6969c4264116d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosIDDisp = SeqGetPositionId(seq_TempDispense);
// }} ""
// {{{ 1544 1 0 "f34f6a36_fc80_409f_90923c92e3fdc533" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetContainerConfigurationFile(ML_STAR, str_LabID, str_PosID, str_ContainerConfig);
// }} ""
// {{{ 1545 1 0 "e5bf1ab7_c7ab_4ca3_923ead27a853e5c5" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetContainerConfigurationFile(ML_STAR, str_LabIDDisp, str_PosIDDisp, str_ContainerConfigDisp);
// }} ""
// {{ 1546 1 0 "073d76ee_3e69_4aa3_af09c416ee9a5858" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_TopHeight=arr_LiquidLevelHeights.GetAt(int_ChIndex-1);
// }} ""
// {{ 1547 1 0 "43d2a8f6_5f67_4887_bc956ffb87d45478" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_BottomHeightContainer=arr_SecondPhaseHeights.GetAt(int_ChIndex-1);
// }} ""
// {{ 1548 1 0 "209f4f46_bb03_452d_b05bf1964ff7b61e" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_BottomHeightContainer = flt_BottomHeightContainer + i_flt_SafeHeightAbovePhase;
// }} ""
// {{ 1549 1 0 "91db4090_a62c_487f_a367d61b8ab4b333" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_AspirationHeight = flt_BottomHeightContainer;
// }} ""
// {{ 1550 1 0 "ab88242d_5b9c_4bc2_a7a16a81b6deb412" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_TopPhaseHeight.SetAt(int_ChIndex-1, flt_AspirationHeight);
// }} ""
// {{ 1551 1 0 "d2da1100_063d_4c8f_9641ca244b8487f3" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_BottomHeight = flt_BottomHeightContainer + flt_ZBottom;
// }} ""
// {{ 1552 1 0 "3498b23e_df4a_4b6b_ad823662758db067" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_TopHeightContainer = flt_TopHeight - flt_ZBottom;
// }} ""
// {{ 1553 1 0 "79a62c7d_c41d_4da6_88d1ee67b51fcd8d" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_LiquidFollowingDistance = flt_TopHeight - flt_BottomHeight;
// }} ""
// {{ 1554 1 0 "3c19618f_12c9_4cc3_b1d9d80d7f44059f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_LiquidFollowingDistance > 0.0)
{
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{ 1555 1 0 "b230daee_a80e_4ccf_9886fbf397752ee6" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_LiquidFollowingDistance = flt_LiquidFollowingDistance + 1.0;
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 1556 1 0 "80656410_4e31_4639_83d1616b59d75d88" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE12(Translate("    "), Translate("Top Height:  "), flt_TopHeightContainer, Translate("    Bottom Height:  "), flt_BottomHeightContainer, Translate("  Liquid Following Distance:  "), flt_LiquidFollowingDistance, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{{ 1557 1 0 "bec82822_da27_456e_ab008a739c2bca4a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetVolumeBasedOnHeight(str_ContainerConfig, flt_TopHeightContainer, flt_TopVolume);
// }} ""
// {{{ 1558 1 0 "c5f19935_fcad_4e6a_903e019d2ddb1980" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetVolumeBasedOnHeight(str_ContainerConfig, flt_BottomHeightContainer, flt_BottomVolume);
// }} ""
// {{ 1559 1 0 "4ae6bc11_b140_4a69_8476478d87b21e2f" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeToAspirate = flt_TopVolume - flt_BottomVolume;
// }} ""
// {{ 1560 1 0 "d5bfd237_0482_4d9c_996620069871ca46" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeToAspirate = flt_VolumeToAspirate + i_flt_AdditionalAspirationVolume;
// }} ""
// {{ 1561 1 0 "3c5f5412_676c_49dc_b8cacde33e4e6d0b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_VolumeToAspirate > T_PIP_TOOLS_MAX_VOLUME)
{
// }} ""
// {{ 1562 1 0 "6a51275a_7dd2_48ec_881438fdb515e3e4" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeToAspirate = T_PIP_TOOLS_MAX_VOLUME;
// }} ""
// {{ 1563 1 0 "3c5f5412_676c_49dc_b8cacde33e4e6d0b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1564 1 0 "53855068_ffa3_4f36_90b7f543065ba248" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_VolumeToAspirate < 0.0)
{
// }} ""
// {{ 1565 1 0 "7f747698_b68f_49aa_94088fac419c9f35" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeToAspirate = 0.0;
// }} ""
// {{ 1566 1 0 "53855068_ffa3_4f36_90b7f543065ba248" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1567 1 0 "e890e276_0c1c_4dee_8a7fccca7950ba55" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE12(Translate("    "), Translate("Top Volume:  "), flt_TopVolume, Translate("    Bottom Volume:  "), flt_BottomVolume, Translate("  Aspiration Volume:  "), flt_VolumeToAspirate, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 1568 1 0 "4e668072_2d51_474f_9d8ef61a2935b11e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetCorrectedValueForVolume(flt_VolumeToAspirate, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y, flt_VolumeToAspirate);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 1569 1 0 "24dc0fda_e7eb_4527_a34da5cce3ee2c27" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_VolumeToAspirate > T_PIP_TOOLS_MAX_VOLUME)
{
// }} ""
// {{ 1570 1 0 "70fac355_ad5c_477f_88bd479024849f78" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeToAspirate = T_PIP_TOOLS_MAX_VOLUME;
// }} ""
// {{ 1571 1 0 "24dc0fda_e7eb_4527_a34da5cce3ee2c27" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1572 1 0 "5cf230a8_7c61_4fc9_962516e43ce5e068" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_AspirationVolumes.AddAsLast(flt_VolumeToAspirate);
// }} ""
// {{ 1573 1 0 "3c19618f_12c9_4cc3_b1d9d80d7f44059f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1574 1 0 "7f6229f9_346f_4dd9_96115ff88e5d237b" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_AspirationVolumes.AddAsLast(0.0);
// }} ""
// {{ 1575 1 0 "3c19618f_12c9_4cc3_b1d9d80d7f44059f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1576 1 0 "d7936b2f_f1b1_40ff_85e98053678d8b4e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_BottomHeightContainer < 0.0)
{
// }} ""
// {{ 1577 1 0 "b1e61437_077d_446f_b18f85e8a75e7a9c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_BottomHeightContainer = 0.0;
// }} ""
// {{ 1578 1 0 "d7936b2f_f1b1_40ff_85e98053678d8b4e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1579 1 0 "2885a132_5301_47ff_b88d30e19fccf2ce" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_AspirationHeights.AddAsLast(flt_BottomHeightContainer);
// }} ""
// {{ 1580 1 0 "fbff2220_bfa6_4456_8ee6c3b9a5a0db2a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1581 1 0 "d79801f6_d045_4612_930877d81ced363f" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_AspirationVolumes.AddAsLast(0.0);
// }} ""
// {{ 1582 1 0 "0b08e5f1_0fcd_45c9_b08de95a5b6022e6" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_AspirationHeights.AddAsLast(0.0);
// }} ""
// {{ 1583 1 0 "fbff2220_bfa6_4456_8ee6c3b9a5a0db2a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1584 1 0 "e700d1ab_6b67_4402_9ca47a4614c86b1c" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_LiquidFollowingDistances.AddAsLast(0.0);
// }} ""
// {{ 1585 1 0 "c0997286_4db0_4a6f_8deeb5b8ab050bf7" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_DispenseHeight = i_flt_DispenseHeight + flt_ZBottomDispesne;
// }} ""
// {{ 1586 1 0 "d7b64b05_3af9_4cf5_85839638cabc1cd0" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_DispenseHeights.AddAsLast(flt_DispenseHeight);
// }} ""
// {{ 1587 1 0 "71dbaa11_6669_4fbf_aeeeb1df3299e9bc" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_LiquidFollowingDistancesDisp.AddAsLast(0.0);
// }} ""
// {{ 1588 1 0 "7a6c7913_eb6c_4f07_9690f049367bb2a3" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1589 1 0 "d206f41a_ce27_450f_9a44ebd22ac3df13" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_Temp.SetCurrentPosition(1);
// }} ""
// {{ 1590 1 0 "d691e43e_fae7_44b8_898635eb6da94e37" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_TempDispense.SetCurrentPosition(1);
// }} ""
// {{{ 1591 1 0 "0bc35184_ed14_4941_bd324b76396a98dd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("Aspiration Volumes"), arr_AspirationVolumes);
// }} ""
// {{{ 1592 1 0 "612e0c41_7493_4de3_a5b2c1b6fb080489" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("Aspiration Heights"), arr_AspirationHeights);
// }} ""
// {{{ 1593 1 0 "0d3e8388_2992_477a_93f579a4f6bc9e4a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_Temp, 1, Translate(""));
// }} ""
// {{ 1594 1 0 "1a09b42f_7e8a_4267_88184d8448e3a2b6" "ML_STAR:{541143F5-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143F5_7FA2_11D3_AD85_0004ACB1DCB2("1a09b42f_7e8a_4267_88184d8448e3a2b6"); // Aspirate
}
// }} ""
// {{{ 1595 1 0 "1312e976_249c_4b24_b5cc0779717e7ea7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_Temp, 4, Translate(""));
// }} ""
// {{{ 1596 1 0 "af2d8a0c_1895_4f90_a3563a221b295d1e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_TempDispense, 1, Translate(""));
// }} ""
// {{ 1597 1 0 "d5aca47d_02a0_4c8a_b47ba5ad8f6fc462" "ML_STAR:{541143F8-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143F8_7FA2_11D3_AD85_0004ACB1DCB2("d5aca47d_02a0_4c8a_b47ba5ad8f6fc462"); // Dispense
}
// }} ""
// {{{ 1598 1 0 "43922065_60db_4b70_857ca0af32225955" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_TempDispense, 4, Translate(""));
// }} ""
// {{{ 1599 1 0 "5dec4862_6501_4197_9f86ab54b3f9d86e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("Top Phase Liquid Levels"), arr_TopPhaseHeight);
// }} ""
// {{{ 1600 1 0 "65bf2c13_072e_40b2_ab2ad9846faae410" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_SetHeightInfoToLabware(ML_STAR, BOOLEON::TRUE, seq_Temp, arr_TopPhaseHeight);
// }} ""
// {{ 1601 1 0 "7a5b02b6_8b66_4178_84a18811923a8b99" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1602 1 0 "6be8e0f8_a808_4a94_afe2aaf4ab3c0092" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::TRUE);
// }} ""
// {{ 1603 1 0 "7a5b02b6_8b66_4178_84a18811923a8b99" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "PIP_PhaseAspirationWasteRemainder" "End"
}
// }} ""
// {{{ 5 "PIP_PhaseAspirationSmallLayer" "Begin"
function PIP_PhaseAspirationSmallLayer( device & ML_STAR, variable i_str_ChPattern, variable i_str_LiquidClass, sequence i_seq_AspirationPosition, sequence i_seq_DispensePosition, variable i_flt_AdditionalAspirationVolume, variable i_flt_OffsetBelowSecondPhase, variable i_int_TotalAspirationRounds, variable i_flt_DispenseHeight ) variable {
// }} ""
private variable bln_SimulationMode;
private variable flt_Angle;
private variable flt_ZBottomDispesne;
private variable bln_TipsLoaded;
private variable bln_ProbabilityPassed;
private variable flt_NotUsed;
private variable flt_ContainerDepth;
private variable flt_ZClearanceHeightDispense;
private variable flt_ZBottom;
private variable flt_ZMaximumHeight;
private variable str_LabIDAsp;
private variable flt_ZMinimumHeightDispense;
private variable flt_TopHeight;
private variable _strFunctionName;
private variable flt_LiquidFollowDistance;
private variable int_LoopIndex;
private variable flt_ZClearanceHeight;
private variable flt_ZMaximumHeightDispense;
private variable int_TotalChannels;
private variable flt_ContainerDiameter;
private variable flt_AngleProgression;
private variable flt_ZMinimumHeight;
private variable int_Value;
private variable str_ReturnChPattern;
private variable flt_OffsetDiameter;
private variable flt_MaxTipVolume;
private variable int_ChIndex;
private sequence seq_Temp;
private sequence seq_TempDispense;
private variable arr_DispenseHeights[];
private variable arr_OffsetCalculationAngle[];
private variable arr_LiquidFollowingDistancesDisp[];
private variable arr_MaxVolumes[];
private variable arr_XCoordDispense[];
private variable arr_LiquidFollowingDistances[];
private variable arr_AspirationVolumes[];
private variable arr_YCoordDispense[];
private variable arr_YCoord[];
private variable arr_XCoord[];
private variable arr_AspirationHeights[];
private variable flt_VolumeTop;
private variable str_PosIDAsp;
private variable flt_VolumeAspirate;
private variable str_ContainerFile;
private variable flt_VolumeBottom;
private variable flt_TopHeightContainer;
private variable flt_BottomHeightContainer;
private variable flt_CoordR;
private variable flt_CoordX;
private variable flt_CoordY;
private variable flt_CoordZ;
private variable str_ContainerFileDsp;
private variable str_PosIDDsp;
private variable str_LabIDDsp;
private variable flt_VolumeAspirateTotal;
private variable flt_DispenseHeight;
private variable flt_DeltaX;
private variable flt_DeltaY;
private variable flt_CurrentAngle;
private variable arr_DispenseVolumes[];
private variable flt_BlowoutVolume;
private variable flt_TransportAirGap;
private variable flt_MaxHeight;
private variable flt_MaxHeightEnd;
private variable int_TotalActiveChannels;
private variable ret_strAllPipettingReturn;
private variable str_AspReturn;
private variable str_DispReturn;
private variable arr_TopPhaseHeights[];
private variable arr_SecondPhaseHeights[];
private variable flt_CurrentVolume;
private variable i_flt_SubmergeHeight;
private variable flt_VolumeAspirated;
private variable str_LabID;
private variable str_CurrentDispChPattern;
private variable flt_NewVolume;
private variable int_DispenseCount;
private variable int_DispenseLoops;
private variable flt_CurrentHeight;
private variable str_PosID;
private sequence seq_VolumeUpdateSequence;
private variable arr_CurrentDestVolumes[];
private variable arr_DispenseChPatterns[];
private variable arr_TotalAspirationVolumes[];
// {{ 5 "PIP_PhaseAspirationSmallLayer" "InitLocals"
// }} ""
// {{ 1200 1 0 "249198e8_bc62_48e3_934403c2b14edc03" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1201 1 0 "eaeb3195_6d12_430b_9059b028607e3489" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
_strFunctionName = Translate("");
// }} ""
_strFunctionName = GetFunctionName();
// {{{ 1203 1 0 "6c4a8b94_d112_4905_a2c794036b3289a3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::TRUE, BOOLEON::TRUE);
// }} ""
// {{ 1204 1 0 "249198e8_bc62_48e3_934403c2b14edc03" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1205 1 0 "563291dd_adbf_4add_970c921a662357ed" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
ret_strAllPipettingReturn = Translate("");
// }} ""
// {{ 1206 1 0 "137f1e39_bad2_46e6_9cb641e3a2e0155d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1207 1 0 "6b133603_d951_4b13_8d356090a49d05aa" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_InitLiquidClassStorage();
// }} ""
// {{{ 1208 1 0 "41f1c0e8_058a_4dea_8d96638b2603d31f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bln_SimulationMode = Util::GetSimulationMode();
// }} ""
// {{ 1209 1 0 "148950f0_8662_4791_b3c7843f17f5e262" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1210 1 0 "70cf08ad_f4a3_4ad6_911bb6da178ec02b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::GetChannelNumber1mL(ML_STAR, int_TotalChannels);
// }} ""
// {{ 1211 1 0 "27419d51_2a49_44ad_a701d47081af791a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_ReturnChPattern = Translate("");
// }} ""
// {{{ 1212 1 0 "8f6cdb32_46f2_42ab_897e23b2fa5c00dd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_ReturnChPattern = StrFillRight(str_ReturnChPattern, Translate("0"), int_TotalChannels);
// }} ""
// {{ 1213 1 0 "daff0fc7_a632_4e13_834c367388fdae3a" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1214 1 0 "7cb2880f_db57_46e5_baccb98739f81d83" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_str_ChPattern = StrConcat2(i_str_ChPattern, Translate(""));
// }} ""
// {{{ 1215 1 0 "9692bdbb_d8b5_4cdc_9646d94a211dd8f2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_str_ChPattern = StrFillRight(i_str_ChPattern, Translate("0"), int_TotalChannels);
// }} ""
// {{{ 1216 1 0 "6f0ddee2_a4f0_4999_8c4ba6843be9f77a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalActiveChannels = StrReplace(i_str_ChPattern, Translate("1"), Translate("1"));
// }} ""
// {{ 1217 1 0 "1698f539_4cde_40c0_a2c17dcf3a8798a8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_TotalActiveChannels == 0)
{
// }} ""
// {{ 1218 1 0 "65f8ae0a_884c_4bf8_bdcf91c58588a8f0" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("CHANNEL PATTERN CONTAINS NO ACTIVE CHANNELS!"));
// }} ""
// {{ 1219 1 0 "89a202a6_ef40_46ef_ad2b1495f6bcb3a4" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1220 1 0 "a1c34773_91d2_49b3_88fd47d95053207c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 1221 1 0 "89a202a6_ef40_46ef_ad2b1495f6bcb3a4" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1222 1 0 "a33ecc9c_f318_4858_9bd3bb57e4cada16" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_strAllPipettingReturn);
// }} ""
// {{ 1223 1 0 "1698f539_4cde_40c0_a2c17dcf3a8798a8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1224 1 0 "d26d3cff_394c_4b9f_b0e5a7cdc391e7f7" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1225 1 0 "aebe0811_d75e_494e_82fe671d8ccdb36e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetNextSequenceSet(i_seq_AspirationPosition, i_str_ChPattern, seq_Temp);
// }} ""
// {{ 1226 1 0 "0283f706_8f0a_4e31_9774c1fb18495965" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1227 1 0 "e5f44ef3_8e6f_40b5_8ca64dce71b09ef0" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ProbabilityPassed = _ProbabilityCheck(ML_STAR, seq_Temp, i_str_ChPattern);
// }} ""
// {{ 1228 1 0 "d5b3f634_599a_4d4c_9d2bbb87cd0f2df6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ProbabilityPassed == BOOLEON::FALSE)
{
// }} ""
// {{ 1229 1 0 "d1b530ce_7de0_4a17_a6488100bcc6ae28" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("ASPIRATE SEQUENCE IS NOT SORTED CORRECTLY FOR THE USE OF THIS FUNCITON!\nSEQUENCE MUST BE SUCH THAT THE CHANNEL PATTERN USED CAN BE DONE AT ONE TIME WITHOUT NEEDING TO MOVE CHANNELS OUT OF THE WAY!"));
// }} ""
// {{ 1230 1 0 "5bb26c0a_048a_4475_8254c78ad9121bf1" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1231 1 0 "28f2a1ae_f93e_4316_bb7b06b362d0017d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 1232 1 0 "5bb26c0a_048a_4475_8254c78ad9121bf1" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1233 1 0 "411f3c06_d2ca_4e81_95672a9bdb8ef7a4" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_strAllPipettingReturn);
// }} ""
// {{ 1234 1 0 "d5b3f634_599a_4d4c_9d2bbb87cd0f2df6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1235 1 0 "2e8e4cfe_1f5a_4a1c_af5a9bd1e8afbbaf" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1236 1 0 "67ab20cc_d20b_419e_9dbbd396553c12dc" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetNextSequenceSet(i_seq_DispensePosition, i_str_ChPattern, seq_TempDispense);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{ 1237 1 0 "346cdb39_1226_40ad_bd921847ab1f3247" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1238 1 0 "7df49529_5616_495d_9aa80cb49f417d31" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ProbabilityPassed = _ProbabilityCheck(ML_STAR, seq_TempDispense, i_str_ChPattern);
// }} ""
// {{ 1239 1 0 "65de4f6c_2a07_4e07_84be8cde9e9051f3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ProbabilityPassed == BOOLEON::FALSE)
{
// }} ""
// {{ 1240 1 0 "96bc1a3d_52be_4f6e_951e94d473e0521e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("DISPENSE SEQUENCE IS NOT SORTED CORRECTLY FOR THE USE OF THIS FUNCITON!\nSEQUENCE MUST BE SUCH THAT THE CHANNEL PATTERN USED CAN BE DONE AT ONE TIME WITHOUT NEEDING TO MOVE CHANNELS OUT OF THE WAY!"));
// }} ""
// {{ 1241 1 0 "b3fd0c31_ff02_4c5c_bf5915aa8721f7a8" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1242 1 0 "0666f7a0_0b77_4bbd_a8b1907ffe32edee" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 1243 1 0 "b3fd0c31_ff02_4c5c_bf5915aa8721f7a8" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1244 1 0 "47c38c24_92c1_4895_a97e20aaeb04022b" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_strAllPipettingReturn);
// }} ""
// {{ 1245 1 0 "65de4f6c_2a07_4e07_84be8cde9e9051f3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 1246 1 0 "86e5aa63_7da5_4258_815127c699b21b26" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1247 1 0 "c5f616e4_ca4e_4528_86ccc16489c51aa4" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_TipsLoaded = _EnsureTipsAreLoaded(ML_STAR, i_str_ChPattern);
// }} ""
// {{ 1248 1 0 "fb5d8064_6511_4d04_97cbf65a9ddd3cdc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_TipsLoaded == BOOLEON::FALSE)
{
// }} ""
// {{ 1249 1 0 "191e9a18_215d_45af_8f82e5b15f6aaff2" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("TIPS PICKED UP DO NOT MATCH THE CHANNEL PATTERN!"));
// }} ""
// {{ 1250 1 0 "2cd27fd7_81a3_4581_9831c696811adfa7" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1251 1 0 "52531b66_1666_4728_9412cd02aceef413" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 1252 1 0 "2cd27fd7_81a3_4581_9831c696811adfa7" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1253 1 0 "1e513345_b8bf_42ce_ba52fca7a047d6ec" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_strAllPipettingReturn);
// }} ""
// {{ 1254 1 0 "fb5d8064_6511_4d04_97cbf65a9ddd3cdc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1255 1 0 "d663d840_460f_4ec3_91a795e759930a50" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetHeightInfoFromLabware(ML_STAR, BOOLEON::TRUE, seq_Temp, arr_TopPhaseHeights);
// }} ""
// {{{ 1256 1 0 "fdd98a87_3b2a_43fd_8bf98eb9c36ce782" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetHeightInfoFromLabware(ML_STAR, BOOLEON::FALSE, seq_Temp, arr_SecondPhaseHeights);
// }} ""
// {{ 1257 1 0 "9f0d002c_ba4a_4b81_bdedefe08edfdde7" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1258 1 0 "505e996c_aed9_4387_a91e296daf527930" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLabwareCoordinates(ML_STAR, seq_Temp, i_str_ChPattern, arr_XCoord, arr_YCoord, flt_ZBottom, flt_ZMinimumHeight, flt_ZMaximumHeight, flt_ZClearanceHeight);
// }} ""
// {{{ 1259 1 0 "248abcee_e5e6_4abe_b007b5ca843dfa9c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLabwareCoordinates(ML_STAR, seq_TempDispense, i_str_ChPattern, arr_XCoordDispense, arr_YCoordDispense, flt_ZBottomDispesne, flt_ZMinimumHeightDispense, flt_ZMaximumHeightDispense, flt_ZClearanceHeightDispense);
// }} ""
// {{ 1260 1 0 "53b8087a_49c5_44f2_ac7c88088c6bd987" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_ContainerDepth = flt_ZMaximumHeight - flt_ZMinimumHeight;
// }} ""
// {{ 1261 1 0 "143163d8_ee02_4180_80c7041914a7c2b2" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_MaxVolumes.SetSize(0);
// }} ""
// {{ 1262 1 0 "13e2190f_3539_4f6a_a840cd3d2aae7690" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < int_TotalChannels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 1263 1 0 "e8d338f7_ed73_4a23_8e6c70eee68d7a0e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(i_str_ChPattern, int_ChIndex, int_Value);
// }} ""
// {{ 1264 1 0 "44ef6943_ad1e_4c5a_add81d0a75fac56c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{{ 1265 1 0 "05c1e336_bfd5_433c_bcc7241593720143" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::Get_Tip_Volume_1mL(ML_STAR, int_ChIndex, flt_MaxTipVolume, flt_NotUsed);
// }} ""
// {{ 1266 1 0 "e2ce6a81_240f_4728_8f32bfafd8c8a55c" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_MaxVolumes.AddAsLast(flt_MaxTipVolume);
// }} ""
// {{ 1267 1 0 "44ef6943_ad1e_4c5a_add81d0a75fac56c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1268 1 0 "d5857905_0e91_45be_933936437f4332f9" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_MaxVolumes.AddAsLast(0.0);
// }} ""
// {{ 1269 1 0 "44ef6943_ad1e_4c5a_add81d0a75fac56c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1270 1 0 "13e2190f_3539_4f6a_a840cd3d2aae7690" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1271 1 0 "cf7493d6_091e_4551_a6827bf7b309e225" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1272 1 0 "cdbde850_115e_417e_9d236e34e9d26806" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidClassParams(i_str_LiquidClass, BOOLEON::TRUE, T_PIP_TOOLS_ASP_FLOW_RATE, T_PIP_TOOLS_ASP_MIX_FLOW_RATE, T_PIP_TOOLS_ASP_AIR_TRANSPORT, T_PIP_TOOLS_ASP_BLOWOUT, T_PIP_TOOLS_ASP_SWAP, T_PIP_TOOLS_ASP_SETTLING, T_PIP_TOOLS_ASP_OVERASPIRATE, T_PIP_TOOLS_ASP_CLOT_RETRACT, flt_NotUsed, flt_NotUsed, T_PIP_TOOLS_MAX_VOLUME, T_PIP_TOOLS_DISPENSE_MODE, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y);
// }} ""
// {{{ 1273 1 0 "f61f221f_f5eb_4f15_a5b5b81bd245e097" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidClassParams(i_str_LiquidClass, BOOLEON::FALSE, T_PIP_TOOLS_DISP_FLOW_RATE, T_PIP_TOOLS_DISP_MIX_FLOW_RATE, T_PIP_TOOLS_DISP_AIR_TRANSPORT, T_PIP_TOOLS_DISP_BLOWOUT, T_PIP_TOOLS_DISP_SWAP, T_PIP_TOOLS_DISP_SETTLING, flt_NotUsed, flt_NotUsed, T_PIP_TOOLS_DISP_STOP_FLOW, T_PIP_TOOLS_DISP_STOP_BACK, T_PIP_TOOLS_MAX_VOLUME, T_PIP_TOOLS_DISPENSE_MODE, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y);
// }} ""
// {{ 1274 1 0 "dd8a1dbe_f87e_440f_87987bf979062f8b" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_OffsetCalculationAngle.SetSize(0);
// }} ""
// {{ 1275 1 0 "1b6bf6ce_d407_4afc_99caa82408bf5630" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_AngleProgression = 360.0 / (i_int_TotalAspirationRounds * 1.0);
// }} ""
// {{ 1276 1 0 "f93ea379_99fa_404a_abe82b27b13aae27" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_LoopIndex = 0; int_LoopIndex < i_int_TotalAspirationRounds;)
{
int_LoopIndex = int_LoopIndex + 1;
// }} ""
// {{ 1277 1 0 "59d4aa4e_78be_4c28_a4625fe04837a75a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_LoopIndex == 1)
{
// }} ""
// {{ 1278 1 0 "c33fc878_b634_4f88_889cbfe58911dbb7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_Angle = 0.0;
// }} ""
// {{ 1279 1 0 "59d4aa4e_78be_4c28_a4625fe04837a75a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1280 1 0 "18d7e4ff_e389_43cf_912ca3c883767998" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_Angle = flt_Angle + flt_AngleProgression;
// }} ""
// {{ 1281 1 0 "59d4aa4e_78be_4c28_a4625fe04837a75a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1282 1 0 "412d66aa_53f0_4568_821dbe2ccdd71a96" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_OffsetCalculationAngle.AddAsLast(flt_Angle);
// }} ""
// {{ 1283 1 0 "f93ea379_99fa_404a_abe82b27b13aae27" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1284 1 0 "233ca47e_95f4_4dd6_864f5224a64a0f3b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1285 1 0 "bb7fee67_e14d_46e4_96947669c7e2e4a8" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_AspirationVolumes.SetSize(0);
// }} ""
// {{ 1286 1 0 "c62a5795_5b26_4a2e_865b2fdda1685073" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_DispenseVolumes.SetSize(0);
// }} ""
// {{ 1287 1 0 "8aa03792_d18b_49c4_805a0922e1c8a44f" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_LiquidFollowingDistances.SetSize(0);
// }} ""
// {{ 1288 1 0 "e595127d_1a0b_4d62_973c3473731b7f9b" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_DispenseHeights.SetSize(0);
// }} ""
// {{ 1289 1 0 "fa1a3b23_7358_45ab_a5d4a5eabe074df3" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_LiquidFollowingDistancesDisp.SetSize(0);
// }} ""
// {{ 1290 1 0 "4cfce63f_25be_490d_817d12121fff5a76" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_AspirationHeights.SetSize(0);
// }} ""
// {{ 1291 1 0 "8b831000_f5ba_494f_84534bb668cdb2bd" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_TotalAspirationVolumes.SetSize(0);
// }} ""
// {{ 1292 1 0 "97c8a94a_01dc_4b68_adc9eb0a2aeb68d3" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < int_TotalChannels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 1293 1 0 "361b50bb_4374_4819_bef6666ef664640f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(i_str_ChPattern, int_ChIndex, int_Value);
// }} ""
// {{ 1294 1 0 "db68e922_e83b_4ddb_a3d6d087defd00c7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{ 1295 1 0 "fd830ac1_a5d9_41d6_adb6e16e0f6b7eae" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1296 1 0 "249219b9_8b9d_4357_927833b616fb3f54" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_Temp.SetCurrentPosition(int_ChIndex);
// }} ""
// {{{ 1297 1 0 "2c24ebab_5fd5_4a96_992d03545ec64d5b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabIDAsp = SeqGetLabwareId(seq_Temp);
// }} ""
// {{{ 1298 1 0 "4af16fb4_6b4c_4528_bc3fe7477e4aadd2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosIDAsp = SeqGetPositionId(seq_Temp);
// }} ""
// {{{ 1299 1 0 "a92ceacd_a3a1_44a1_965b5c2d9a9c3cb4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, str_LabIDAsp, str_PosIDAsp, flt_CoordX, flt_CoordY, flt_CoordZ, flt_CoordR);
// }} ""
// {{{ 1300 1 0 "97a29a5d_f43e_4eb2_91fa8e1e1a545a2b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetContainerConfigurationFile(ML_STAR, str_LabIDAsp, str_PosIDAsp, str_ContainerFile);
// }} ""
// {{ 1301 1 0 "182cd3b9_0acc_491e_aefeabc49cdb8b9a" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_TempDispense.SetCurrentPosition(int_ChIndex);
// }} ""
// {{{ 1302 1 0 "003775be_cdbb_428f_8a6c852b999deba5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabIDDsp = SeqGetLabwareId(seq_TempDispense);
// }} ""
// {{{ 1303 1 0 "87db7024_e2fd_40b2_83d22cc0b167fec9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosIDDsp = SeqGetPositionId(seq_TempDispense);
// }} ""
// {{{ 1304 1 0 "cd286c6e_6894_4fdb_8e893bf250412db0" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetContainerConfigurationFile(ML_STAR, str_LabIDDsp, str_PosIDDsp, str_ContainerFileDsp);
// }} ""
// {{ 1305 1 0 "a24699ec_8990_4f0a_84d9842c32f6179c" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1306 1 0 "4db78183_c215_48d0_8f7aec3b6913476a" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_TopHeightContainer=arr_TopPhaseHeights.GetAt(int_ChIndex-1);
// }} ""
// {{ 1307 1 0 "944f478f_0ab4_4b47_8a53a36065d95d98" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_BottomHeightContainer=arr_SecondPhaseHeights.GetAt(int_ChIndex-1);
// }} ""
// {{ 1308 1 0 "81d036e5_78f5_49cb_a7e5199553c23849" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_BottomHeightContainer = flt_BottomHeightContainer - i_flt_OffsetBelowSecondPhase;
// }} ""
// {{ 1309 1 0 "8f74aabf_8ef5_42d0_8f8a454ec36db767" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_LiquidFollowDistance = flt_TopHeightContainer - flt_BottomHeightContainer;
// }} ""
// {{{ 1310 1 0 "54a9292d_2c35_4dbf_828ea2b3a14d273b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE12(Translate("    "), Translate("Top Height:  "), flt_TopHeightContainer, Translate("    Bottom Height:  "), flt_BottomHeightContainer, Translate("  Liquid Following Distance:  "), flt_LiquidFollowDistance, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 1311 1 0 "02d0ac1e_6236_4b97_972b0e6ecd40c0c8" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1312 1 0 "16b2a762_6cb0_4c14_9f71a41aee37c858" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetVolumeBasedOnHeight(str_ContainerFile, flt_TopHeightContainer, flt_VolumeTop);
// }} ""
// {{{ 1313 1 0 "975b8f1a_561e_4556_97e43028b5b8c18e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetVolumeBasedOnHeight(str_ContainerFile, flt_BottomHeightContainer, flt_VolumeBottom);
// }} ""
// {{ 1314 1 0 "b65b5940_d6f7_4084_99f78ac2b2886c3b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirateTotal = flt_VolumeTop - flt_VolumeBottom;
// }} ""
// {{ 1315 1 0 "69d74e36_e397_44f5_91ad93c744196ab0" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_TotalAspirationVolumes.AddAsLast(flt_VolumeAspirateTotal);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{ 1316 1 0 "aa3064f6_74e7_4db8_aa495e887da282a3" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirateTotal = flt_VolumeAspirate + i_flt_AdditionalAspirationVolume;
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 1317 1 0 "5cbab378_0a19_4607_a76a1c66581d3527" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirate = flt_VolumeAspirateTotal / (i_int_TotalAspirationRounds * 1.0);
// }} ""
// {{ 1318 1 0 "b17b66b9_803f_4415_8424a46fa04e55fd" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirate = flt_VolumeAspirate + i_flt_AdditionalAspirationVolume;
// }} ""
// {{{ 1319 1 0 "53290389_0735_41a4_a509e0d13a0eeb3f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetHeightBasedOnVolume(str_ContainerFileDsp, flt_VolumeAspirateTotal, flt_DispenseHeight);
// }} ""
// {{ 1320 1 0 "62f3cd1f_8bc1_4d9b_987f85f188834890" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_DispenseHeight = flt_DispenseHeight - 2.0;
// }} ""
// {{ 1321 1 0 "1fc2057b_3deb_4690_a0780020edfb9542" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_DispenseHeight < 0.0)
{
// }} ""
// {{ 1322 1 0 "b1515bfd_5b44_498f_a28e09be18e738ae" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_DispenseHeight = flt_DispenseHeight + 2.0;
// }} ""
// {{ 1323 1 0 "1fc2057b_3deb_4690_a0780020edfb9542" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1324 1 0 "9852af3a_8884_411d_82027048c1568139" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_LiquidFollowDistance < 0.0)
{
// }} ""
// {{ 1325 1 0 "bd106e66_225e_4dfd_b6de6a2042fbd5d8" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirate = 0.0;
// }} ""
// {{ 1326 1 0 "9852af3a_8884_411d_82027048c1568139" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1327 1 0 "ee5834df_2b84_4f66_b1d7c9987a4e7eab" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE12(Translate("    "), Translate("Top Volume:  "), flt_VolumeTop, Translate("    Bottom Volume:  "), flt_VolumeBottom, Translate("  Aspiration Volume:  "), flt_VolumeAspirate, Translate(" X "), i_int_TotalAspirationRounds, Translate("  Dispense Height: "), flt_DispenseHeight, Translate(""));
// }} ""
// {{ 1328 1 0 "fd830ac1_a5d9_41d6_adb6e16e0f6b7eae" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1329 1 0 "536454f3_3cac_4d48_af0541deb7ba81c9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_VolumeAspirate > 0.0)
{
// }} ""
// {{ 1330 1 0 "b8e808b4_d53e_4584_89b3b2b5bb513c58" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_TopHeight = flt_TopHeightContainer + flt_ZBottom;
// }} ""
// {{ 1331 1 0 "ce92b6ef_3bb3_4b3e_b4c681b20cccdfe1" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_AspirationVolumes.AddAsLast(flt_VolumeAspirate);
// }} ""
// {{ 1332 1 0 "2d37c18e_e894_4943_a9a8383dfd45b1f3" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_AspirationHeights.AddAsLast(flt_TopHeight);
// }} ""
// {{ 1333 1 0 "fe879d77_e1a8_45fd_947d423f1fcb16de" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_LiquidFollowingDistances.AddAsLast(flt_LiquidFollowDistance);
// }} ""
// {{ 1334 1 0 "bb67e62f_5313_4864_ae4f04b22e759ce4" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_DispenseVolumes.AddAsLast(flt_VolumeAspirateTotal);
// }} ""
// {{ 1335 1 0 "536454f3_3cac_4d48_af0541deb7ba81c9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1336 1 0 "f5ec3468_696c_4e46_804ba420619513fb" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_AspirationVolumes.AddAsLast(0.0);
// }} ""
// {{ 1337 1 0 "e0e989cf_c74f_40ec_85e670445eac6489" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_AspirationHeights.AddAsLast(0.0);
// }} ""
// {{ 1338 1 0 "aa5facb9_5395_4ee5_a16cc228c15000ff" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_LiquidFollowingDistances.AddAsLast(0.0);
// }} ""
// {{ 1339 1 0 "b16356da_c879_428a_9b6fbd4f131e8528" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_DispenseVolumes.AddAsLast(0.0);
// }} ""
// {{ 1340 1 0 "536454f3_3cac_4d48_af0541deb7ba81c9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1341 1 0 "db68e922_e83b_4ddb_a3d6d087defd00c7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1342 1 0 "2c6be867_6f32_4128_9c2a8a49e1fc70a4" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_AspirationVolumes.AddAsLast(0.0);
// }} ""
// {{ 1343 1 0 "7b2efecd_8e02_46df_947f715a4b557eba" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_AspirationHeights.AddAsLast(0.0);
// }} ""
// {{ 1344 1 0 "5c7c9417_0aad_449c_94ff5b800e145513" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_LiquidFollowingDistances.AddAsLast(0.0);
// }} ""
// {{ 1345 1 0 "5f3cb94d_77a1_436b_be091e7afc31305a" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_DispenseVolumes.AddAsLast(0.0);
// }} ""
// {{ 1346 1 0 "db68e922_e83b_4ddb_a3d6d087defd00c7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{ 1347 1 0 "1bec273b_33f4_43bd_a339c1f0749ab301" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_DispenseHeight = i_flt_DispenseHeight + flt_ZBottomDispesne;
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 1348 1 0 "4425a413_02ea_48fc_adf78c71a8fae6fc" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_DispenseHeights.AddAsLast(flt_DispenseHeight);
// }} ""
// {{ 1349 1 0 "6202c800_5131_4769_a6a3435c8ffa25da" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_LiquidFollowingDistancesDisp.AddAsLast(0.0);
// }} ""
// {{ 1350 1 0 "9714c6a4_a052_458c_90aeb883637e81c1" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_TotalAspirationVolumes.AddAsLast(0.0);
// }} ""
// {{ 1351 1 0 "97c8a94a_01dc_4b68_adc9eb0a2aeb68d3" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1352 1 0 "77fc0393_a52b_4a99_bfb53e8184ea4e0d" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_Temp.SetCurrentPosition(1);
// }} ""
// {{ 1353 1 0 "eebf4329_fe1c_48b8_96db9b1e2ba70d46" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_TempDispense.SetCurrentPosition(1);
// }} ""
// {{ 1354 1 0 "ffbfab8b_381e_49eb_b2aa341d9a1cf964" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < int_TotalChannels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 1355 1 0 "6c574977_9841_424b_96174bf338cb4825" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(i_str_ChPattern, int_ChIndex, int_Value);
// }} ""
// {{ 1356 1 0 "df9ede81_4c05_4e8e_95b0212038af263e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{ 1357 1 0 "dd5639a4_59b0_4e45_8e44c7efd20f5b86" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_Temp.SetCurrentPosition(int_ChIndex);
// }} ""
// {{{ 1358 1 0 "41ed752a_96e4_45b9_a641a25d1054c5d3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabIDAsp = SeqGetLabwareId(seq_Temp);
// }} ""
// {{ 1359 1 0 "534d9990_8053_495d_ad469dd974f6f533" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 1360 1 0 "df9ede81_4c05_4e8e_95b0212038af263e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1361 1 0 "ffbfab8b_381e_49eb_b2aa341d9a1cf964" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1362 1 0 "2c1615a3_a347_497c_87b0680720ed9359" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_Temp.SetCurrentPosition(1);
// }} ""
// {{{ 1363 1 0 "380899d9_2751_406c_abe31e0ab2961543" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetContainerWidth(ML_STAR, str_LabIDAsp, flt_ContainerDiameter);
// }} ""
// {{ 1364 1 0 "e50c46e7_44e4_4930_ac7c16f688c80b12" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_OffsetDiameter = flt_ContainerDiameter / (4.0 * 1.0);
// }} ""
// {{ 1365 1 0 "95f8bf0d_0dd4_4933_832e54a77e63c786" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_TotalAspirationRounds == 1)
{
// }} ""
// {{ 1366 1 0 "046ba197_6bb4_4007_9cd776b1f72d5031" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_OffsetDiameter = 0.0;
// }} ""
// {{ 1367 1 0 "95f8bf0d_0dd4_4933_832e54a77e63c786" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1368 1 0 "a2af51a9_8633_4c97_b61d6241554733cc" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_LoopIndex = 0; int_LoopIndex < i_int_TotalAspirationRounds;)
{
int_LoopIndex = int_LoopIndex + 1;
// }} ""
// {{ 1369 1 0 "be7dd6f2_248d_4a5f_a4198a6c05d77abb" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_CurrentAngle=arr_OffsetCalculationAngle.GetAt(int_LoopIndex-1);
// }} ""
// {{{ 1370 1 0 "5dc5cfd0_0ed7_4895_a513535b51fc6d60" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::CalculateXYFromDiameterAndAngle(flt_OffsetDiameter, flt_CurrentAngle, flt_DeltaX, flt_DeltaY);
// }} ""
// {{{ 1371 1 0 "fd6baa79_42bc_4c30_ac446b990b2c4a16" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::Set_Relative_Position_for_LabwareID(ML_STAR, str_LabIDAsp, flt_DeltaX, flt_DeltaY, 0.0, 0.0);
// }} ""
// {{ 1372 1 0 "0ad2c2c8_1972_422f_8a768eacc68b4304" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1373 1 0 "dd4edb68_e744_4cb1_a2390bce2e0bb867" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLabwareCoordinates(ML_STAR, seq_Temp, i_str_ChPattern, arr_XCoord, arr_YCoord, flt_ZBottom, flt_ZMinimumHeight, flt_ZMaximumHeight, flt_ZClearanceHeight);
// }} ""
// {{{ 1374 1 0 "ca5c76b5_ff73_47ad_9b8563ff8ccc2fab" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLabwareCoordinates(ML_STAR, seq_TempDispense, i_str_ChPattern, arr_XCoordDispense, arr_YCoordDispense, flt_ZBottomDispesne, flt_ZMinimumHeightDispense, flt_ZMaximumHeightDispense, flt_ZClearanceHeightDispense);
// }} ""
// {{{ 1375 1 0 "92aaf2dd_7a9d_46e2_a4b4a74be80cde70" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("Aspiration Volumes"), arr_AspirationVolumes);
// }} ""
// {{{ 1376 1 0 "21ca695e_41c7_4df5_83361ba8ed030582" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("Aspiration Heights"), arr_AspirationHeights);
// }} ""
// {{ 1377 1 0 "6a03df4c_9b27_4aa6_82845ef7d8b3aed0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_LoopIndex == i_int_TotalAspirationRounds)
{
// }} ""
// {{ 1378 1 0 "043dfeb8_dbe7_4c0e_b9232b35e6f39cea" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_TransportAirGap = T_PIP_TOOLS_ASP_AIR_TRANSPORT;
// }} ""
// {{ 1379 1 0 "ad115879_a63e_4b1d_900f83913c6c1462" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MaxHeightEnd = 245.0;
// }} ""
// {{ 1380 1 0 "6a03df4c_9b27_4aa6_82845ef7d8b3aed0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1381 1 0 "74ffd281_3fed_430e_9498d890c2c6cfbe" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_TransportAirGap = 0.0;
// }} ""
// {{ 1382 1 0 "4098f2e3_a0e9_481d_b442efe176b7f853" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MaxHeightEnd = flt_ZMaximumHeight;
// }} ""
// {{ 1383 1 0 "6a03df4c_9b27_4aa6_82845ef7d8b3aed0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1384 1 0 "62b63f99_506b_4a3b_89406325e09d8eea" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_LoopIndex == 1)
{
// }} ""
// {{ 1385 1 0 "bbddd7f1_72c7_4b15_a1a29bd64838c7d6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_BlowoutVolume = T_PIP_TOOLS_ASP_BLOWOUT;
// }} ""
// {{ 1386 1 0 "7293e771_0a6d_4f1e_b879c7ba0298038b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MaxHeight = 245.0;
// }} ""
// {{ 1387 1 0 "62b63f99_506b_4a3b_89406325e09d8eea" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1388 1 0 "41f7350f_5050_453c_bc3abaac67dfd15e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_BlowoutVolume = 0.0;
// }} ""
// {{ 1389 1 0 "ea9964bc_1abb_44ca_9b648c8b5a61478c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_MaxHeight = flt_ZMaximumHeight;
// }} ""
// {{ 1390 1 0 "62b63f99_506b_4a3b_89406325e09d8eea" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1391 1 0 "9a61fd8d_5f77_45cb_9058d68af81cb4ac" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_Temp, 1, Translate(""));
// }} ""
// {{{ 1392 1 0 "8169ef12_44eb_4f3e_b1525f7ed9ba3f9b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::PIPAspirateFromFixedHeight_ArrayVolumes(ML_STAR, i_str_ChPattern, arr_XCoord, arr_YCoord, arr_AspirationHeights, arr_LiquidFollowingDistances, flt_MaxHeight, flt_MaxHeightEnd, flt_ZMinimumHeight, flt_ZBottom, flt_ContainerDepth, arr_AspirationVolumes, T_PIP_TOOLS_ASP_FLOW_RATE, flt_TransportAirGap, flt_BlowoutVolume, T_PIP_TOOLS_ASP_SETTLING, T_PIP_TOOLS_ASP_SWAP, 5.0);
// }} ""
// {{{ 1393 1 0 "b9b7167a_ceda_46a8_a230b7a0c022a95f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_Temp, 4, Translate(""));
// }} ""
// {{ 1394 1 0 "b78de438_d834_4ca7_b52857e92161aed7" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_DeltaX = flt_DeltaX * -1;
// }} ""
// {{ 1395 1 0 "9537a912_5ee3_4814_9fe74286b0ba2560" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_DeltaY = flt_DeltaY * -1;
// }} ""
// {{{ 1396 1 0 "ea9c2b42_58db_48b5_9e37c2d166904723" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::Set_Relative_Position_for_LabwareID(ML_STAR, str_LabIDAsp, flt_DeltaX, flt_DeltaY, 0.0, 0.0);
// }} ""
// {{ 1397 1 0 "a2af51a9_8633_4c97_b61d6241554733cc" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1398 1 0 "d398436d_b3a4_40b1_8cd713ffa971f000" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_AspReturn = Translate("");
// }} ""
// {{{ 1399 1 0 "760b03fd_df99_44d2_b2e33b840f51b093" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_TempDispense, 1, Translate(""));
// }} ""
// {{{ 1400 1 0 "e7aa1a69_7b3d_483a_9e580915a5557b74" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetPartialChannelPatternForRepeatingPositions(ML_STAR, i_str_ChPattern, seq_TempDispense, int_DispenseLoops, arr_DispenseChPatterns);
// }} ""
// {{ 1401 1 0 "2261c355_f81a_4fe3_acfc84b1955f8650" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_DispenseCount = 0; int_DispenseCount < int_DispenseLoops;)
{
int_DispenseCount = int_DispenseCount + 1;
// }} ""
// {{{ 1402 1 0 "3303490e_cc1b_41ab_8189e63b491e87f3" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetVolumesInPositions(ML_STAR, seq_TempDispense, arr_CurrentDestVolumes);
// }} ""
// {{ 1403 1 0 "09a173e9_5a55_4724_b58d69bade27801a" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_DispenseHeights.SetSize(0);
// }} ""
// {{ 1404 1 0 "eca0f408_0acb_4d02_a6ec031e3c89dfa7" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
str_CurrentDispChPattern=arr_DispenseChPatterns.GetAt(int_DispenseCount-1);
// }} ""
// {{{ 1405 1 0 "23ce18ab_6904_4320_95d3417006eae6ab" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(str_CurrentDispChPattern, Translate(""));
// }} ""
// {{ 1406 1 0 "5136e817_1c06_4ec8_80df0371a3dc3e52" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < G_FW_PIP_COM_TotalChannels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 1407 1 0 "edbcda5d_5b29_4947_a5d2b35307b02751" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(str_CurrentDispChPattern, int_ChIndex, int_Value);
// }} ""
// {{ 1408 1 0 "c2a44c5c_0a5a_4e36_a925a44c06211362" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{ 1409 1 0 "c32cc5c3_f689_4db7_ae4ad6aad908e85c" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_TempDispense.SetCurrentPosition(int_ChIndex);
// }} ""
// {{ 1410 1 0 "bfb9d934_4f29_4da9_8cc639d96dc1390f" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_CurrentVolume=arr_CurrentDestVolumes.GetAt(int_ChIndex-1);
// }} ""
// {{ 1411 1 0 "9a77b5c9_cf87_449e_85a6cdec821e11ea" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_VolumeAspirated=arr_TotalAspirationVolumes.GetAt(int_ChIndex-1);
// }} ""
// {{ 1412 1 0 "26dcf1c9_42e1_4c35_843a5d961438a4d7" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_NewVolume = flt_CurrentVolume + flt_VolumeAspirated;
// }} ""
// {{ 1413 1 0 "ff5d209f_ee04_47f9_9105502e68a15b99" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_NewVolume < 0.0)
{
// }} ""
// {{ 1414 1 0 "9ab8d158_6414_45df_8353c30a4c24bbc6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_NewVolume = 0.0;
// }} ""
// {{ 1415 1 0 "ff5d209f_ee04_47f9_9105502e68a15b99" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1416 1 0 "32db8f9c_574f_41b0_b409c6fe84ada26d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE08(Translate("    "), Translate("Current Volume in well:  "), flt_CurrentVolume, Translate("     Volume aspirated:  "), flt_VolumeAspirated, Translate("    Added Volume:  "), flt_NewVolume, Translate(""));
// }} ""
// {{{ 1417 1 0 "75007903_1a9d_4df1_b43a81096c9bf2da" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(seq_TempDispense);
// }} ""
// {{{ 1418 1 0 "8c8ad044_7de5_45b7_b653cb1b0f6de701" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(seq_TempDispense);
// }} ""
// {{{ 1419 1 0 "3b329b75_6a3d_4722_8acd7a889f6ddf0b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorDb_Labware::LoadLabware(ML_STAR, str_LabID, str_PosID);
// }} ""
// {{{ 1420 1 0 "9fe65c52_2ab1_4bed_993e7825db814fa7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(seq_VolumeUpdateSequence);
// }} ""
// {{{ 1421 1 0 "74a0f137_398a_45ef_a2f4e6d0cff58a2c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(seq_VolumeUpdateSequence, str_LabID, str_PosID);
// }} ""
// {{ 1422 1 0 "1ad4722f_0741_4937_bf2569844224689f" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_VolumeUpdateSequence.SetCurrentPosition(1);
// }} ""
// {{{ 1423 1 0 "48f6862f_8e57_412a_a738b1f6ed624f00" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLLabwState::SetLabwareVolume(ML_STAR, seq_VolumeUpdateSequence, flt_NewVolume);
// }} ""
// {{{ 1424 1 0 "69d92345_85f2_4b49_877aee615a4b614a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetHeightBasedOnVolume(str_ContainerFileDsp, flt_CurrentVolume, flt_CurrentHeight);
// }} ""
// {{ 1425 1 0 "258d85e6_bebe_4e95_98de03fdc56d333f" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_DispenseHeight = flt_CurrentHeight - i_flt_SubmergeHeight;
// }} ""
// {{ 1426 1 0 "1f8e549b_58b5_4a1b_90dc0c212b73fc15" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_DispenseHeight <= 0.0)
{
// }} ""
// {{ 1427 1 0 "62ab4fcf_2b53_40f6_8df0820c4b713a7a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_DispenseHeight = 2.0;
// }} ""
// {{ 1428 1 0 "1f8e549b_58b5_4a1b_90dc0c212b73fc15" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1429 1 0 "0eed2a3c_fb03_455d_9ae30b5bb63d5b7f" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_DispenseHeights.AddAsLast(flt_DispenseHeight);
// }} ""
// {{ 1430 1 0 "c2a44c5c_0a5a_4e36_a925a44c06211362" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1431 1 0 "3e8885ff_61a7_4930_8c843efd2aa9f6de" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_DispenseHeights.AddAsLast(0.0);
// }} ""
// {{ 1432 1 0 "c2a44c5c_0a5a_4e36_a925a44c06211362" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1433 1 0 "5136e817_1c06_4ec8_80df0371a3dc3e52" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1434 1 0 "fd064b9c_4896_4c44_81f1f584b99c8b84" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_TempDispense.SetCurrentPosition(1);
// }} ""
// {{{ 1435 1 0 "00d2fedc_453a_4eb7_a2b0ebc58bb728e2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("Dispense Heights"), arr_DispenseHeights);
// }} ""
// {{ 1436 1 0 "750f3759_2819_4c85_92ff353579410442" "ML_STAR:{541143F8-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143F8_7FA2_11D3_AD85_0004ACB1DCB2("750f3759_2819_4c85_92ff353579410442"); // Dispense
}
// }} ""
// {{ 1437 1 0 "2261c355_f81a_4fe3_acfc84b1955f8650" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 1438 1 0 "68ec062d_2b27_4afc_b1fe95ddd378c22a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_TempDispense, 4, Translate(""));
// }} ""
// {{{ 1439 1 0 "42e6fa49_d733_4f1f_b8c56ac69df74b45" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ret_strAllPipettingReturn = StrConcat4(ret_strAllPipettingReturn, str_AspReturn, Translate("&"), str_DispReturn);
// }} ""
// {{ 1440 1 0 "9f9c94e3_b5c4_4b6a_b8c60545f1f384f6" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1441 1 0 "ed6f0925_2e89_48bd_860d03a14fb038a0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::TRUE);
// }} ""
// {{ 1442 1 0 "9f9c94e3_b5c4_4b6a_b8c60545f1f384f6" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1443 1 0 "899db1ae_d189_43b1_a936b6d84bf9ce99" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_strAllPipettingReturn);
// }} ""
// {{{ 5 "PIP_PhaseAspirationSmallLayer" "End"
}
// }} ""
// {{{ 5 "PIP_PhaseAspirationParseReturnValue" "Begin"
function PIP_PhaseAspirationParseReturnValue( variable i_strReturnFromPhaseAspiration, variable & o_arrAspirationReturns[], variable & o_arrDispenseReturns[] ) void {
// }} ""
private variable _strFunctionName;
private variable l_intTotalRounds;
private variable l_intRoundIndex;
private variable l_arrAspDispReturns[];
private variable l_arrRoundReturns[];
// {{ 5 "PIP_PhaseAspirationParseReturnValue" "InitLocals"
o_arrAspirationReturns.SetSize( 0);
o_arrDispenseReturns.SetSize( 0);
// }} ""
// {{ 977 1 0 "dd3ca57e_4fe7_4d36_b44e79d291d8da96" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 978 1 0 "b86926d4_4190_45d2_b9792377c964b310" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
_strFunctionName = Translate("");
// }} ""
_strFunctionName = GetFunctionName();
// {{{ 980 1 0 "81802ebf_d563_4c43_93088e59b28ad157" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::TRUE, BOOLEON::TRUE);
// }} ""
// {{ 981 1 0 "dd3ca57e_4fe7_4d36_b44e79d291d8da96" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 982 1 0 "f662f989_5852_4c9d_bfa7c0f4002fa30f" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arrAspirationReturns.SetSize(0);
// }} ""
// {{ 983 1 0 "47ef9dcb_2ad3_4471_8101972f53807b9e" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arrDispenseReturns.SetSize(0);
// }} ""
// {{ 984 1 0 "2c0837a3_3bad_490a_8d1011ec5bdc0b89" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
onerror goto errLabel_BD97F20DFCA74048B44FE4F1B0A9045B ;
err.Clear();
// }} ""
// {{{ 985 1 0 "64453b4f_f543_469f_b1690c9e61c06196" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_arrRoundReturns = HSLExtensions::String::Split(i_strReturnFromPhaseAspiration, Translate("*"), 1);
// }} ""
// {{ 986 1 0 "85c852eb_3af2_4ff0_9105f2fe750d27de" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_intTotalRounds=l_arrRoundReturns.GetSize();
// }} ""
// {{ 987 1 0 "801b77a1_ad5d_41c4_80f9df23fabbacc7" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(l_intRoundIndex = 0; l_intRoundIndex < l_intTotalRounds;)
{
l_intRoundIndex = l_intRoundIndex + 1;
// }} ""
// {{{ 988 1 0 "236f1ecf_7f15_4b3d_a0f29f2faf7052dc" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_arrAspDispReturns = HSLExtensions::String::Split(l_arrRoundReturns.ElementAt( l_intRoundIndex -1), Translate("&"), 1);
// }} ""
// {{ 989 1 0 "48ed2152_be69_43e8_89fa3aae160d3c28" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arrAspirationReturns.AddAsLast(l_arrAspDispReturns.ElementAt( 1 -1));
// }} ""
// {{ 990 1 0 "0de1799e_3585_4318_a0546351f248f1d0" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arrDispenseReturns.AddAsLast(l_arrAspDispReturns.ElementAt( 2 -1));
// }} ""
// {{ 991 1 0 "801b77a1_ad5d_41c4_80f9df23fabbacc7" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 992 1 0 "2c0837a3_3bad_490a_8d1011ec5bdc0b89" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
errLabel_BD97F20DFCA74048B44FE4F1B0A9045B : {}
onerror goto 0;
if (err.GetId() != 0)   /* skip handler if no error */
{
// }} ""
// {{ 993 1 0 "2c0837a3_3bad_490a_8d1011ec5bdc0b89" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
}   /* end if from skip handler if no error */
// }} ""
// {{ 994 1 0 "e91d5ee1_5f05_4f73_aba8af49d6ac7b06" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 995 1 0 "386c09f0_1943_4399_8cf8896cde6bf46e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::TRUE);
// }} ""
// {{ 996 1 0 "e91d5ee1_5f05_4f73_aba8af49d6ac7b06" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "PIP_PhaseAspirationParseReturnValue" "End"
}
// }} ""
// {{{ 5 "PIP_PhaseAspiration" "Begin"
function PIP_PhaseAspiration( device & ML_STAR, variable & io_str_ChPattern, variable i_bln_ResetChPattern, variable i_str_LiquidClass, sequence i_seq_AspirationPosition, sequence i_seq_DispensePosition, variable i_bln_UseCLLD, variable i_flt_AspirationVolume, variable i_flt_DispenseBackVolume, variable i_flt_SubmergeDepth, variable i_flt_MaxVolumeToRemove, variable i_bln_DisableTADMFirst ) variable {
// }} ""
private variable bln_SimulationMode;
private variable flt_CurrentVolume;
private variable str_ErrorReturn;
private variable flt_ZBottomDispesne;
private variable bln_TipsLoaded;
private variable ret_strAllPipettingReturn;
private variable bln_ProbabilityPassed;
private variable str_LiquidReturn;
private variable int_PLLD;
private variable flt_CorrectedDispenseBack;
private variable flt_CorrectedBlowout;
private variable flt_NotUsed;
private variable flt_DispenseVolume;
private variable flt_ZClearanceHeightDispense;
private variable int_TotalActiveChannels;
private variable int_RemainingChannels;
private variable int_MaxLoop;
private variable flt_ZBottom;
private variable i;
private variable int_DispenseCheck;
private variable flt_ZMaximumHeight;
private variable flt_TotalAirGap;
private variable flt_VolumeAspirated;
private variable flt_ZMinimumHeightDispense;
private variable str_Volume;
private variable flt_Offset;
private variable str_DispenseLabID;
private variable flt_CorrectedAirGap;
private variable flt_MaxVolume;
private variable _strFunctionName;
private variable str_LabID;
private variable flt_LiquidFollowDistance;
private variable str_ContainerConfigFile;
private variable int_DispenseBackCheck;
private variable flt_ZClearanceHeight;
private variable int_Position;
private variable str_DispenseChPattern;
private variable flt_ZMaximumHeightDispense;
private variable str_StartingChannelPattern;
private variable str_DispenseLocation;
private variable flt_LiquidHeight;
private variable str_AspReturn;
private variable str_DispReturn;
private variable str_NewChPattern;
private variable int_TotalChannels;
private variable str_DispensePosID;
private variable flt_ZMinimumHeight;
private variable flt_CurrentHeight;
private variable str_PosID;
private variable bln_UseLLD;
private variable int_CLLD;
private variable str_ReturnChPattern;
private variable flt_DispenseHeight;
private variable int_Value;
private variable int_TotalPositions;
private variable int_ReturnErrorCode;
private variable int_ChIndex;
private sequence seq_Temp;
private sequence seq_TempDispense;
private variable arr_DispenseHeights[];
private variable arr_VolumesAspirated[];
private variable arr_LiquidFollowingDistance[];
private variable arr_XCoordDispense[];
private variable arr_YCoordDispense[];
private variable arr_LiquidHeights[];
private variable arr_DispenseVolumes[];
private variable arr_YCoord[];
private variable arr_LiquidFollowingDispense[];
private variable arr_XCoord[];
private variable int_AspirationMode;
private variable arr_SecondPhaseHeights[];
private variable arr_ZTravelHeight[];
private variable int_DispenseCount;
private variable int_DispenseLoops;
private variable arr_CurrentDestVolumes[];
private variable arr_DispenseChPatterns[];
private variable str_CurrentDispChPattern;
private variable flt_NewVolume;
private sequence seq_VolumeUpdateSequence;
// {{ 5 "PIP_PhaseAspiration" "InitLocals"
// }} ""
// {{ 508 1 0 "c98f0d29_586c_4cb4_8b0f7f3daab3fcc1" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 509 1 0 "2f2aa768_428a_4c9c_bf73c2d267787efe" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
_strFunctionName = Translate("");
// }} ""
_strFunctionName = GetFunctionName();
// {{{ 511 1 0 "4026017f_224f_482c_9ba0aac961156761" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::TRUE, BOOLEON::TRUE);
// }} ""
// {{ 512 1 0 "c98f0d29_586c_4cb4_8b0f7f3daab3fcc1" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 513 1 0 "f9ee75ac_acf1_4581_943d92c59b0d46f8" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
ret_strAllPipettingReturn = Translate("");
// }} ""
// {{ 514 1 0 "1b82cdd1_d197_4235_85a78f8890ba2436" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 515 1 0 "b5eb3e7a_02d9_4b1a_a53f37e5bfac0432" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_InitLiquidClassStorage();
// }} ""
// {{{ 516 1 0 "d45812bd_5ae5_4a33_b9b0d1c50ca77c2c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bln_SimulationMode = Util::GetSimulationMode();
// }} ""
// {{ 517 1 0 "f841bc87_a589_4987_9e8240f8ddbc4235" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 518 1 0 "c04e88d4_e066_4fac_88002893d721238e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::GetChannelNumber1mL(ML_STAR, int_TotalChannels);
// }} ""
// {{ 519 1 0 "591efe3e_7e79_463d_bd3e948dc3086a8c" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_SecondPhaseHeights.SetSize(0);
// }} ""
// {{ 520 1 0 "0b2d2428_98c3_4c6d_b53f1634627bae14" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_VolumesAspirated.SetSize(0);
// }} ""
// {{ 521 1 0 "cafe0bce_20df_4c7d_a18f09cefe5abc9f" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_ZTravelHeight.SetSize(0);
// }} ""
// {{ 522 1 0 "749742b8_d3fe_4f8e_933731f64c6f16a7" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < int_TotalChannels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{ 523 1 0 "296bb3c6_3806_439f_972878a8c3904f2e" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ZTravelHeight.AddAsLast(245.0);
// }} ""
// {{ 524 1 0 "749742b8_d3fe_4f8e_933731f64c6f16a7" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 525 1 0 "755828d4_289d_4d85_b86402fbc754df46" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_ReturnChPattern = Translate("");
// }} ""
// {{{ 526 1 0 "e8944a23_1251_4622_8a0f43e5e6139f31" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_ReturnChPattern = StrFillRight(str_ReturnChPattern, Translate("0"), int_TotalChannels);
// }} ""
// {{ 527 1 0 "dd5a9741_3bd1_4456_b5f1051b6203e810" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 528 1 0 "8dcde973_5e69_4971_ab1596fb4eae0f80" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
io_str_ChPattern = StrConcat2(io_str_ChPattern, Translate(""));
// }} ""
// {{{ 529 1 0 "5c40f682_dfca_4087_a40b4e79ab8c0139" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
io_str_ChPattern = StrFillRight(io_str_ChPattern, Translate("0"), int_TotalChannels);
// }} ""
// {{{ 530 1 0 "bc090a05_b912_4cc2_ac211f43ae210404" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalActiveChannels = StrReplace(io_str_ChPattern, Translate("1"), Translate("1"));
// }} ""
// {{ 531 1 0 "6f2d2c5c_3de4_4036_b44c2332cb4168c7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_TotalActiveChannels == 0)
{
// }} ""
// {{ 532 1 0 "19afc80e_46cd_4887_a2c15a97947dd5ee" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("CHANNEL PATTERN CONTAINS NO ACTIVE CHANNELS!"));
// }} ""
// {{ 533 1 0 "d9c5b013_caaa_4a7f_931b304cc0c2b5c7" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 534 1 0 "b9b4513f_526c_42f0_bdd0e6e28450db56" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 535 1 0 "d9c5b013_caaa_4a7f_931b304cc0c2b5c7" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 536 1 0 "cf5822fd_16f6_47c9_b74286a2dcd665e0" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_strAllPipettingReturn);
// }} ""
// {{ 537 1 0 "6f2d2c5c_3de4_4036_b44c2332cb4168c7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 538 1 0 "e56fa06e_d70a_48f9_8b8726c3fd58fd55" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 539 1 0 "705223e5_2ab2_4119_8f456818c3da5781" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetNextSequenceSet(i_seq_AspirationPosition, io_str_ChPattern, seq_Temp);
// }} ""
// {{ 540 1 0 "885723fc_eb98_4008_8f6296eef6fda427" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 541 1 0 "28309ba1_744c_4ebf_a2e931f0be01a54f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ProbabilityPassed = _ProbabilityCheck(ML_STAR, seq_Temp, io_str_ChPattern);
// }} ""
// {{ 542 1 0 "aac905ef_9fd3_4215_a8b0c60e0a824464" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ProbabilityPassed == BOOLEON::FALSE)
{
// }} ""
// {{ 543 1 0 "75c27f21_98a5_4e11_ad50cc932998761e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("ASPIRATE SEQUENCE IS NOT SORTED CORRECTLY FOR THE USE OF THIS FUNCITON!\nSEQUENCE MUST BE SUCH THAT THE CHANNEL PATTERN USED CAN BE DONE AT ONE TIME WITHOUT NEEDING TO MOVE CHANNELS OUT OF THE WAY!"));
// }} ""
// {{ 544 1 0 "09af1937_cd5d_4d2b_bdcf94a8077c1df4" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 545 1 0 "c5977f73_247c_43eb_b48b244e9e820755" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 546 1 0 "09af1937_cd5d_4d2b_bdcf94a8077c1df4" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 547 1 0 "3805520a_3f76_4dbc_af3818778bbbe318" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_strAllPipettingReturn);
// }} ""
// {{ 548 1 0 "aac905ef_9fd3_4215_a8b0c60e0a824464" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 549 1 0 "34445a00_dbc0_41f6_9314f262a61f736f" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 550 1 0 "ace11e4d_0e05_4ebd_b82244b0f7748396" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetNextSequenceSet(i_seq_DispensePosition, io_str_ChPattern, seq_TempDispense);
// }} ""
// {{ 551 1 0 "c7d5097b_4629_407f_9b68df09d4d1e694" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 552 1 0 "847c5018_2b5f_43f1_9a9976ef8e4b119d" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_TipsLoaded = _EnsureTipsAreLoaded(ML_STAR, io_str_ChPattern);
// }} ""
// {{ 553 1 0 "e038e4b9_e826_4d18_817fb22573bbdf77" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_TipsLoaded == BOOLEON::FALSE)
{
// }} ""
// {{ 554 1 0 "f0d30a4d_1beb_4ba5_8547a4ceb2432afe" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("TIPS PICKED UP DO NOT MATCH THE CHANNEL PATTERN!"));
// }} ""
// {{ 555 1 0 "f416065e_a281_488c_83f0b301d6fe28d0" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 556 1 0 "b9e2846f_98d9_4fac_aaef47b0f99c3c93" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 557 1 0 "f416065e_a281_488c_83f0b301d6fe28d0" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 558 1 0 "48a015c8_993c_4e54_b0299f3f65fe02f5" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_strAllPipettingReturn);
// }} ""
// {{ 559 1 0 "e038e4b9_e826_4d18_817fb22573bbdf77" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 560 1 0 "ab80790c_eede_4564_a14e463aba88db31" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 561 1 0 "8e08dfd9_6ac6_47fa_898661455ba9eedf" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetHeightInfoFromLabware(ML_STAR, BOOLEON::FALSE, seq_Temp, arr_SecondPhaseHeights);
// }} ""
// {{ 562 1 0 "93960aab_29dd_49c8_98c8238a8c19016e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 563 1 0 "89d8700c_45d5_4659_95282280ce1b79c7" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLabwareCoordinates(ML_STAR, seq_Temp, io_str_ChPattern, arr_XCoord, arr_YCoord, flt_ZBottom, flt_ZMinimumHeight, flt_ZMaximumHeight, flt_ZClearanceHeight);
// }} ""
// {{{ 564 1 0 "26b76595_aed5_4eff_9dac44058c1f3d84" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLabwareCoordinates(ML_STAR, seq_TempDispense, io_str_ChPattern, arr_XCoordDispense, arr_YCoordDispense, flt_ZBottomDispesne, flt_ZMinimumHeightDispense, flt_ZMaximumHeightDispense, flt_ZClearanceHeightDispense);
// }} ""
// {{ 565 1 0 "263f27c7_742e_46e8_a9b6daafb4e4b8fb" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 566 1 0 "648dbb7f_c726_40ee_b8448e91f567ac0e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidClassParams(i_str_LiquidClass, BOOLEON::TRUE, T_PIP_TOOLS_ASP_FLOW_RATE, T_PIP_TOOLS_ASP_MIX_FLOW_RATE, T_PIP_TOOLS_ASP_AIR_TRANSPORT, T_PIP_TOOLS_ASP_BLOWOUT, T_PIP_TOOLS_ASP_SWAP, T_PIP_TOOLS_ASP_SETTLING, T_PIP_TOOLS_ASP_OVERASPIRATE, T_PIP_TOOLS_ASP_CLOT_RETRACT, flt_NotUsed, flt_NotUsed, T_PIP_TOOLS_MAX_VOLUME, T_PIP_TOOLS_DISPENSE_MODE, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y);
// }} ""
// {{{ 567 1 0 "6cc6b55c_3904_41f4_814764e631a7dc25" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidClassParams(i_str_LiquidClass, BOOLEON::FALSE, T_PIP_TOOLS_DISP_FLOW_RATE, T_PIP_TOOLS_DISP_MIX_FLOW_RATE, T_PIP_TOOLS_DISP_AIR_TRANSPORT, T_PIP_TOOLS_DISP_BLOWOUT, T_PIP_TOOLS_DISP_SWAP, T_PIP_TOOLS_DISP_SETTLING, flt_NotUsed, flt_NotUsed, T_PIP_TOOLS_DISP_STOP_FLOW, T_PIP_TOOLS_DISP_STOP_BACK, T_PIP_TOOLS_MAX_VOLUME, T_PIP_TOOLS_DISPENSE_MODE, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y);
// }} ""
// {{ 568 1 0 "2072bab6_717f_4c2f_952a6c67e6c87ab5" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 569 1 0 "f5504680_3e56_4cd9_91ff9fa20802383d" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetCorrectedValueForVolume(i_flt_DispenseBackVolume, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y, flt_CorrectedDispenseBack);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 570 1 0 "9f6a6849_e705_443e_b97979b24f343f9a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalChannels = StrReplace(io_str_ChPattern, Translate("1"), Translate("1"));
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 571 1 0 "156dda4c_ca95_4877_8977b0a04daafce7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_bln_UseCLLD == BOOLEON::TRUE)
{
// }} ""
// {{ 572 1 0 "fac68826_fa96_46ee_82db34cea38c1adf" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_CLLD = 1;
// }} ""
// {{ 573 1 0 "c511f321_6f3d_49b1_b10bb43d9b615269" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_PLLD = 0;
// }} ""
// {{ 574 1 0 "156dda4c_ca95_4877_8977b0a04daafce7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 575 1 0 "b93174b7_bda9_44d2_b3fc00ffa0e44cf9" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_CLLD = 0;
// }} ""
// {{ 576 1 0 "15ee29fb_54b5_4061_83a1ddc556df55b1" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_PLLD = 1;
// }} ""
// {{ 577 1 0 "156dda4c_ca95_4877_8977b0a04daafce7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 578 1 0 "b7b79063_8cc2_4f44_8a80c3094d5c0bd3" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_LiquidHeights.SetSize(0);
// }} ""
// {{ 579 1 0 "5fd8bf9f_e5c5_405b_9f94ba189eeee127" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_VolumesAspirated.SetSize(0);
// }} ""
// {{ 580 1 0 "73515f7e_e524_478a_8a58cedd9637e749" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 581 1 0 "dc871879_de6e_4d08_a6fb44ec20440824" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_MaxLoop = i_flt_MaxVolumeToRemove / (i_flt_AspirationVolume * 1.0);
// }} ""
// {{{ 582 1 0 "41738e96_1a61_4aeb_97a6a516fe625c62" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_MaxLoop = MthCeiling(int_MaxLoop);
// }} ""
// {{ 583 1 0 "6e64a7c7_7522_462a_89bab0b7942ed897" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_Temp.SetCurrentPosition(1);
// }} ""
// {{ 584 1 0 "512016f4_6f42_4af5_ba789f60b3037414" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < int_TotalChannels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 585 1 0 "03afca63_9626_492c_b2e45c577f3116f6" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(io_str_ChPattern, int_ChIndex, int_Value);
// }} ""
// {{ 586 1 0 "7f031682_e097_4267_864c687e4896cb26" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{ 587 1 0 "3a51c773_6c69_4c3d_bbb1d76532b68065" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_TempDispense.SetCurrentPosition(int_ChIndex);
// }} ""
// {{{ 588 1 0 "64305a3b_a57f_4e8c_898623b523148ed3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_DispenseLabID = SeqGetLabwareId(seq_TempDispense);
// }} ""
// {{{ 589 1 0 "b844ab3a_76e4_4d3d_8511178dd6fa4daa" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_DispensePosID = SeqGetPositionId(seq_TempDispense);
// }} ""
// {{ 590 1 0 "2ef361fc_8675_4620_a791523e22137946" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 591 1 0 "7f031682_e097_4267_864c687e4896cb26" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 592 1 0 "512016f4_6f42_4af5_ba789f60b3037414" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 593 1 0 "8f39de55_f27d_49bb_8ced7a02b22cb896" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_TempDispense.SetCurrentPosition(1);
// }} ""
// {{{ 594 1 0 "d6d11811_d720_40f9_98751909c8196b10" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetContainerConfigurationFile(ML_STAR, str_DispenseLabID, str_DispensePosID, str_ContainerConfigFile);
// }} ""
// {{ 595 1 0 "e18cd14a_041a_4a51_b243b0921e456d34" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_UseLLD = BOOLEON::TRUE;
// }} ""
// {{ 596 1 0 "8143f465_06e7_4028_b1f2b2dbec291141" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_StartingChannelPattern = io_str_ChPattern;
// }} ""
// {{ 597 1 0 "abe9b0c1_bcc9_4451_955b6c603e199a55" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
i = 0;
while (int_TotalChannels > 0)
{
i = i + 1;
// }} ""
// {{{ 598 1 0 "f362d926_162e_459e_94b87ed76d433a13" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_RemainingChannels = StrReplace(io_str_ChPattern, Translate("1"), Translate("1"));
// }} ""
// {{ 599 1 0 "9c569061_d42b_4ecb_921746c3884b86c1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_RemainingChannels == 0)
{
// }} ""
// {{ 600 1 0 "4a3576cf_c8b6_41f6_b7d4ab25af413669" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 601 1 0 "9c569061_d42b_4ecb_921746c3884b86c1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 602 1 0 "0c22e9fd_c8d6_4e43_ad71b08955863362" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i > int_MaxLoop)
{
// }} ""
// {{ 603 1 0 "f0c1d88f_0507_47db_969e44a678228677" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("MAX VOLUME REMOVED!"));
// }} ""
// {{ 604 1 0 "02937868_2d61_4364_83dd0977971b5044" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 605 1 0 "0c22e9fd_c8d6_4e43_ad71b08955863362" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 606 1 0 "8ac170e0_4bdd_4eef_8f247643dc22ff79" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_SimulationMode == BOOLEON::TRUE)
{
// }} ""
// {{ 607 1 0 "6c5070df_fee5_42aa_8250b195f77d3a81" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i == 3)
{
// }} ""
// {{ 608 1 0 "275d092b_d3b2_4e68_9c9e4995f5f1244a" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 609 1 0 "6c5070df_fee5_42aa_8250b195f77d3a81" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 610 1 0 "8ac170e0_4bdd_4eef_8f247643dc22ff79" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 611 1 0 "3e5996c7_4a90_42ec_ade4b36d48855d1f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_bln_UseCLLD == BOOLEON::FALSE)
{
// }} ""
// {{ 612 1 0 "c214a8db_b8e0_4f70_a79a2486d4514d42" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i > 1)
{
// }} ""
// {{ 613 1 0 "45254042_0e64_4538_9cddf62d11bf61ec" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_UseLLD = BOOLEON::FALSE;
// }} ""
// {{ 614 1 0 "c214a8db_b8e0_4f70_a79a2486d4514d42" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 615 1 0 "3e5996c7_4a90_42ec_ade4b36d48855d1f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 616 1 0 "7923f47b_a57e_4640_9ed7ef8c8c2302fa" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_AspirationMode = 0;
// }} ""
// {{ 617 1 0 "9ff524f0_d459_4bdc_9616146536b8b5fa" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_bln_DisableTADMFirst == BOOLEON::TRUE)
{
// }} ""
// {{ 618 1 0 "dc88362c_195d_48c5_b2c8aec19ee65aaf" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i == 1)
{
// }} ""
// {{ 619 1 0 "416019da_930c_4d58_9e457f5137fae363" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_AspirationMode = 2;
// }} ""
// {{ 620 1 0 "dc88362c_195d_48c5_b2c8aec19ee65aaf" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 621 1 0 "9ff524f0_d459_4bdc_9616146536b8b5fa" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 622 1 0 "b86b9ded_a95f_46c5_a9a6abf8619982e0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i > 1)
{
// }} ""
// {{ 623 1 0 "41e148e3_44ef_4b87_81bc7230d336a1ff" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 624 1 0 "85706105_45bf_42dd_9fac6a8849630823" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (G_FW_PIP_COM_InstrumentType <= 2)
{
// }} ""
// {{{ 625 1 0 "6d6627e3_09d1_4aa4_b336ad619572c9ae" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
STAR_CHANNEL_MOVEMENT_TOOLS::Move_Channels_To_Absolute_Position_1mL(ML_STAR, str_StartingChannelPattern, 245.0, arr_XCoord, arr_YCoord, arr_ZTravelHeight);
// }} ""
// {{ 626 1 0 "85706105_45bf_42dd_9fac6a8849630823" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 627 1 0 "cb03ffb3_d1d6_4890_ac0c36441689a21d" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VANTAGE_CHANNEL_MOVEMENT_TOOLS::Move_Channels_To_Absolute_Position_1mL(ML_STAR, str_StartingChannelPattern, 245.0, arr_XCoord, arr_YCoord, arr_ZTravelHeight);
// }} ""
// {{ 628 1 0 "85706105_45bf_42dd_9fac6a8849630823" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 629 1 0 "b86b9ded_a95f_46c5_a9a6abf8619982e0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 630 1 0 "bf08fbb2_33c2_43a3_83808f176b9cd964" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_UseLLD == BOOLEON::TRUE)
{
// }} ""
// {{ 631 1 0 "c9ae6500_b5d1_4477_a223613843f63ca6" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
onerror goto errLabel_C5F95C8F9E654de5948C18A25DDCED25 ;
err.Clear();
// }} ""
// {{ 632 1 0 "01fe469b_4274_43ed_bf9242e8f026a02d" "ML_STAR:{541143F5-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143F5_7FA2_11D3_AD85_0004ACB1DCB2("01fe469b_4274_43ed_bf9242e8f026a02d"); // Aspirate
	str_AspReturn = arrRetValues[2];
}
// }} ""
// {{ 633 1 0 "701edfb3_990c_4c1b_bedc28252711ee79" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_ErrorReturn = Translate("");
// }} ""
// {{ 634 1 0 "c9ae6500_b5d1_4477_a223613843f63ca6" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
errLabel_C5F95C8F9E654de5948C18A25DDCED25 : {}
onerror goto 0;
if (err.GetId() != 0)   /* skip handler if no error */
{
// }} ""
// {{{ 635 1 0 "ff68417a_c631_4446_9806f35dcd906d1e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_ErrorReturn = ErrGetDataAt(3);
// }} ""
// {{ 636 1 0 "94c030fe_80a2_4f92_b3f6398bb4de0a8d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_AspReturn = str_ErrorReturn;
// }} ""
// {{ 637 1 0 "c9ae6500_b5d1_4477_a223613843f63ca6" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
}   /* end if from skip handler if no error */
// }} ""
// {{ 638 1 0 "d4cb59ab_f466_4c93_a6c14323be726409" "ML_STAR:{9FB6DFE0-4132-4d09-B502-98C722734D4C}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._9FB6DFE0_4132_4d09_B502_98C722734D4C("d4cb59ab_f466_4c93_a6c14323be726409"); // GetLastLiquidLevel
	str_LiquidReturn = arrRetValues[2];
}
// }} ""
// {{ 639 1 0 "6c454965_143f_4988_a52b397933b8424a" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 640 1 0 "c9bfcf14_aef2_461a_b58cd83257c695bd" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < int_TotalChannels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{ 641 1 0 "f742a43b_9530_4cfd_b258b03e6570a658" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentHeight = 0.0;
// }} ""
// {{ 642 1 0 "9139c912_bc68_4019_b300ce2a85b1662d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirated = 0.0;
// }} ""
// {{ 643 1 0 "64966e50_2fdd_45f0_8638ae33c2a8c100" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_Temp.SetCurrentPosition(int_ChIndex);
// }} ""
// {{{ 644 1 0 "99a05cc8_4c91_4e8f_8af0152b01f0ffce" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(io_str_ChPattern, int_ChIndex, int_Value);
// }} ""
// {{ 645 1 0 "622467f4_0897_4aa3_acb5f7fed1136df4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{ 646 1 0 "4b2e4a96_f178_4613_80bda8956dea72d2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (str_ErrorReturn != "")
{
// }} ""
// {{{ 647 1 0 "e25c0793_4732_4c19_886bbfc79105b958" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Position = StepReturn::GetPositionFromNum(int_ChIndex, str_ErrorReturn);
// }} ""
// {{{ 648 1 0 "fec343b1_ce8f_4724_80636c401244140c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_ReturnErrorCode = StepReturn::GetSlaveError(int_Position, str_ErrorReturn);
// }} ""
// {{ 649 1 0 "4b2e4a96_f178_4613_80bda8956dea72d2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 650 1 0 "8997fb37_48b6_4bc3_aedf483366696db6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_ReturnErrorCode = 0;
// }} ""
// {{ 651 1 0 "4b2e4a96_f178_4613_80bda8956dea72d2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 652 1 0 "aa294da8_31f5_4eec_84fc99f62f3c92c0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(seq_Temp);
// }} ""
// {{{ 653 1 0 "9b680ed5_17c9_443e_a5d17bcd20a3b6db" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(seq_Temp);
// }} ""
// {{{ 654 1 0 "87f89c1b_4427_4b93_8d0c2ec85f35ebb9" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
LIQUID_LEVEL_CHECK::FindLiquidHeight(ML_STAR, str_LiquidReturn, seq_Temp, int_ChIndex, flt_LiquidHeight);
// }} ""
// {{{ 655 1 0 "9069418d_e49c_4e26_85eeb26028dcadba" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::Get_Tip_Volume_1mL(ML_STAR, int_ChIndex, flt_MaxVolume, flt_CurrentVolume);
// }} ""
// {{ 656 1 0 "58be1779_4edd_49be_929085a29dab5980" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 657 1 0 "79c76753_3c6f_477b_830640987b27965e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_SimulationMode == BOOLEON::TRUE)
{
// }} ""
// {{ 658 1 0 "38020480_c48a_4136_bb0053ddef9b6f48" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentVolume = i_flt_AspirationVolume;
// }} ""
// {{ 659 1 0 "79c76753_3c6f_477b_830640987b27965e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 660 1 0 "58be1779_4edd_49be_929085a29dab5980" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 661 1 0 "11bb03f8_d0d2_4d83_bed8e59152c95375" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (T_PIP_TOOLS_ASP_BLOWOUT > 0.0)
{
// }} ""
// {{ 662 1 0 "913b2a59_c950_4e33_ac5bdd95fe418d2b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CorrectedBlowout = T_PIP_TOOLS_ASP_BLOWOUT;
// }} ""
// {{ 663 1 0 "11bb03f8_d0d2_4d83_bed8e59152c95375" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 664 1 0 "0cbf3be3_f584_4968_99f383674d07c271" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CorrectedBlowout = 0.0;
// }} ""
// {{ 665 1 0 "11bb03f8_d0d2_4d83_bed8e59152c95375" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 666 1 0 "321a835d_efe8_45a2_b6c6f8a991b52e58" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ReturnErrorCode == 0)
{
// }} ""
// {{ 667 1 0 "a8965122_47e4_4537_ac349fb3a18c78c7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (T_PIP_TOOLS_ASP_AIR_TRANSPORT > 0.0)
{
// }} ""
// {{ 668 1 0 "53c9f80c_5c98_418b_b35ebd3667c0d392" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CorrectedAirGap = T_PIP_TOOLS_ASP_AIR_TRANSPORT;
// }} ""
// {{ 669 1 0 "a8965122_47e4_4537_ac349fb3a18c78c7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 670 1 0 "bf071407_23c7_4307_89fc454fc5dd8894" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CorrectedAirGap = 0.0;
// }} ""
// {{ 671 1 0 "a8965122_47e4_4537_ac349fb3a18c78c7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 672 1 0 "321a835d_efe8_45a2_b6c6f8a991b52e58" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 673 1 0 "3362931e_6e54_4513_be361f43eca70d78" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("ASPIRATION STOPPED EARLY!"));
// }} ""
// {{ 674 1 0 "8cb6b4a7_eab5_43b3_9a6d3fc5724df40c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CorrectedAirGap = 0.0;
// }} ""
// {{ 675 1 0 "321a835d_efe8_45a2_b6c6f8a991b52e58" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 676 1 0 "5ec02639_96a9_4b89_ae14223988e270b5" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_TotalAirGap = flt_CorrectedBlowout + flt_CorrectedAirGap;
// }} ""
// {{ 677 1 0 "ae46bddb_93d9_4a3a_8ef97076889fd331" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirated = flt_CurrentVolume - flt_TotalAirGap;
// }} ""
// {{{ 678 1 0 "75fc396c_79de_4bec_b416d80210eb85c1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Total Air Gap:  "), flt_TotalAirGap, Translate(" uL"));
// }} ""
// {{{ 679 1 0 "7353601c_388d_4aad_a0bc76b2a7a2904f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Volume Aspirated Adjusted:  "), flt_VolumeAspirated, Translate(" uL"));
// }} ""
// {{ 680 1 0 "669b72a1_1f53_4657_ab99db3a297ff820" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_VolumeAspirated < 0.0)
{
// }} ""
// {{ 681 1 0 "b66f1b89_ee4f_437a_81a143c7e25a4555" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirated = 0.0;
// }} ""
// {{ 682 1 0 "669b72a1_1f53_4657_ab99db3a297ff820" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 683 1 0 "d62f6978_2c3a_4d13_98cc788a029dc361" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetCorrectedValueForVolume(flt_VolumeAspirated, T_PIP_TOOLS_ARR_CORRECTION_Y, T_PIP_TOOLS_ARR_CORRECTION_X, flt_VolumeAspirated);
// }} ""
// {{ 684 1 0 "669b72a1_1f53_4657_ab99db3a297ff820" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 685 1 0 "5eda7fc8_1880_4782_8d2f3e9d97d6f3aa" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Volume Aspirated:  "), flt_VolumeAspirated, Translate(" uL"));
// }} ""
// {{{ 686 1 0 "52ca64fa_e481_4b94_9c989cecff862e41" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Liquid Level Start :  "), flt_LiquidHeight, Translate(" mm"));
// }} ""
// {{ 687 1 0 "b591bace_e17e_482b_9f63a0831b507fe3" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirated = flt_VolumeAspirated * -1;
// }} ""
// {{{ 688 1 0 "6c76bb6e_928f_4175_90f6f8d970209b8e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_CalculateLiquidFollowDistance(ML_STAR, str_LabID, str_PosID, flt_LiquidHeight, flt_VolumeAspirated, BOOLEON::TRUE, flt_LiquidFollowDistance);
// }} ""
// {{ 689 1 0 "a691b616_1d81_4bb9_bbb0c55e7eac037a" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirated = flt_VolumeAspirated * -1;
// }} ""
// {{ 690 1 0 "ee5daac4_ddab_49cb_89d82ebadd8bbe8a" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentHeight = flt_LiquidHeight - flt_LiquidFollowDistance;
// }} ""
// {{ 691 1 0 "aa34f00c_8c76_4a60_b39d1f26b4285022" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_CurrentHeight < 0.0)
{
// }} ""
// {{ 692 1 0 "65873774_54e0_42ce_8ce5018a47dda2d6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentHeight = 0.0;
// }} ""
// {{ 693 1 0 "aa34f00c_8c76_4a60_b39d1f26b4285022" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 694 1 0 "b459a2e7_8b67_4a4c_8839c80221ec8ceb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (G_FW_PIP_COM_SimulationMode == BOOLEON::TRUE)
{
// }} ""
// {{ 695 1 0 "bd708f31_0bd4_4dcc_bc251ac03b2f4813" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentHeight = 25.0;
// }} ""
// {{ 696 1 0 "b459a2e7_8b67_4a4c_8839c80221ec8ceb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 697 1 0 "5b428709_5b1a_4d4c_bf97c01ff333ae23" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Liquid Level End :  "), flt_CurrentHeight, Translate(" mm"));
// }} ""
// {{ 698 1 0 "622467f4_0897_4aa3_acb5f7fed1136df4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 699 1 0 "e359871e_2d38_43f8_a380b7232befea01" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i == 1)
{
// }} ""
// {{ 700 1 0 "65b232e8_e0f3_4e26_91a1c9cb59d51630" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_LiquidHeights.AddAsLast(flt_CurrentHeight);
// }} ""
// {{ 701 1 0 "056ceda5_8d75_47bb_87c0b3027ec9494c" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_VolumesAspirated.AddAsLast(flt_VolumeAspirated);
// }} ""
// {{ 702 1 0 "e359871e_2d38_43f8_a380b7232befea01" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 703 1 0 "b9facf05_9e69_42ea_953b261a760855a4" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_LiquidHeights.SetAt(int_ChIndex-1, flt_CurrentHeight);
// }} ""
// {{ 704 1 0 "ec06ede3_cbae_4bb2_b8134077a764350f" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_VolumesAspirated.SetAt(int_ChIndex-1, flt_VolumeAspirated);
// }} ""
// {{ 705 1 0 "e359871e_2d38_43f8_a380b7232befea01" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 706 1 0 "c9bfcf14_aef2_461a_b58cd83257c695bd" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 707 1 0 "7b00d4fd_2795_4308_952aaae821eed301" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_Temp.SetCurrentPosition(1);
// }} ""
// {{ 708 1 0 "6c454965_143f_4988_a52b397933b8424a" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 709 1 0 "bf08fbb2_33c2_43a3_83808f176b9cd964" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 710 1 0 "561f9901_7d5e_4818_86cef754fd762f96" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
onerror goto errLabel_448E92A110B74ccdAF87B89FEFEB9A0A ;
err.Clear();
// }} ""
// {{ 711 1 0 "b468e8f1_82e4_4845_b1998a5beb10be0c" "ML_STAR:{541143F5-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143F5_7FA2_11D3_AD85_0004ACB1DCB2("b468e8f1_82e4_4845_b1998a5beb10be0c"); // Aspirate
	str_AspReturn = arrRetValues[2];
}
// }} ""
// {{ 712 1 0 "01fc08d1_c86f_4e01_9e78e6ac0ae19aba" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_ErrorReturn = Translate("");
// }} ""
// {{ 713 1 0 "561f9901_7d5e_4818_86cef754fd762f96" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
errLabel_448E92A110B74ccdAF87B89FEFEB9A0A : {}
onerror goto 0;
if (err.GetId() != 0)   /* skip handler if no error */
{
// }} ""
// {{{ 714 1 0 "9893c613_fc99_4c77_ba1b2e661a8ba2e2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_ErrorReturn = ErrGetDataAt(3);
// }} ""
// {{ 715 1 0 "aa5e1f48_c0d9_4e08_b6b3613408f9b5be" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_AspReturn = str_ErrorReturn;
// }} ""
// {{ 716 1 0 "561f9901_7d5e_4818_86cef754fd762f96" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
}   /* end if from skip handler if no error */
// }} ""
// {{ 717 1 0 "732b2123_d5b9_4b3f_91b9f0083066e6ce" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 718 1 0 "d06cf1e9_2252_44bf_ae188ab8375f2693" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < int_TotalChannels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{ 719 1 0 "6c59a17f_f92d_43b8_8d84a8321e1383f4" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentHeight = 0.0;
// }} ""
// {{ 720 1 0 "aad54511_4e3a_46ff_8a2df15d0b20cc09" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirated = 0.0;
// }} ""
// {{ 721 1 0 "906f8f79_c9ee_40fd_835dc54cd0998e1f" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_Temp.SetCurrentPosition(int_ChIndex);
// }} ""
// {{{ 722 1 0 "966eba6c_e8f5_4819_b2e9255119db5c6a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(io_str_ChPattern, int_ChIndex, int_Value);
// }} ""
// {{ 723 1 0 "2bf0c1cc_312f_4900_aaf2762dd7acf33c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{ 724 1 0 "f9454c79_83b0_46c4_889552986fb1c004" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (str_ErrorReturn != "")
{
// }} ""
// {{{ 725 1 0 "c76d5f4a_2315_47fd_a665c156c5631393" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Position = StepReturn::GetPositionFromNum(int_ChIndex, str_ErrorReturn);
// }} ""
// {{{ 726 1 0 "63507b2f_a5a1_4d2f_b450770d1a6b7603" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_ReturnErrorCode = StepReturn::GetSlaveError(int_Position, str_ErrorReturn);
// }} ""
// {{ 727 1 0 "f9454c79_83b0_46c4_889552986fb1c004" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 728 1 0 "bb5cf922_1456_4f4d_8c507d8f5c580a2f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_ReturnErrorCode = 0;
// }} ""
// {{ 729 1 0 "f9454c79_83b0_46c4_889552986fb1c004" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 730 1 0 "134afa56_49b8_4807_9d513c1a50a685c0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(seq_Temp);
// }} ""
// {{{ 731 1 0 "f831cb1c_c260_4162_ae36fd0d91b15a73" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(seq_Temp);
// }} ""
// {{ 732 1 0 "5b95941c_52c5_47d5_b58ccfdaa2555e14" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_LiquidHeight=arr_LiquidHeights.GetAt(int_ChIndex-1);
// }} ""
// {{{ 733 1 0 "d1817f5f_d4dc_4da1_9d3741c33e7a0a26" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::Get_Tip_Volume_1mL(ML_STAR, int_ChIndex, flt_MaxVolume, flt_CurrentVolume);
// }} ""
// {{ 734 1 0 "7e44597a_0f1a_41dc_82bf20a16397e3a1" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 735 1 0 "daddb01d_2e44_4dde_92bc919b3eb03054" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_SimulationMode == BOOLEON::TRUE)
{
// }} ""
// {{ 736 1 0 "f5d16664_5ae8_4f02_8075b9271e454c40" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentVolume = i_flt_AspirationVolume;
// }} ""
// {{ 737 1 0 "daddb01d_2e44_4dde_92bc919b3eb03054" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 738 1 0 "7e44597a_0f1a_41dc_82bf20a16397e3a1" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 739 1 0 "59758ce1_6412_4757_867b3c822476a9b7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (T_PIP_TOOLS_ASP_BLOWOUT > 0.0)
{
// }} ""
// {{ 740 1 0 "5d9874a9_2969_4737_beff127abe27bafc" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CorrectedBlowout = T_PIP_TOOLS_ASP_BLOWOUT;
// }} ""
// {{ 741 1 0 "59758ce1_6412_4757_867b3c822476a9b7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 742 1 0 "33d56fee_a73e_4a41_bbd71d671c7b1471" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CorrectedBlowout = 0.0;
// }} ""
// {{ 743 1 0 "59758ce1_6412_4757_867b3c822476a9b7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 744 1 0 "b30390f6_1553_4848_b4aad7ab747c83c8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ReturnErrorCode == 0)
{
// }} ""
// {{ 745 1 0 "d8afc0d4_b8de_4999_9864a81e5aed4ee3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (T_PIP_TOOLS_ASP_AIR_TRANSPORT > 0.0)
{
// }} ""
// {{ 746 1 0 "258c17b6_cf39_4a32_bcbbcf50d10a3072" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CorrectedAirGap = T_PIP_TOOLS_ASP_AIR_TRANSPORT;
// }} ""
// {{ 747 1 0 "d8afc0d4_b8de_4999_9864a81e5aed4ee3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 748 1 0 "033dd162_38fb_44b6_80203fc6982c553f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CorrectedAirGap = 0.0;
// }} ""
// {{ 749 1 0 "d8afc0d4_b8de_4999_9864a81e5aed4ee3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 750 1 0 "b30390f6_1553_4848_b4aad7ab747c83c8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 751 1 0 "ef583f37_c319_4246_90fe7de74f350c9b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("ASPIRATION STOPPED EARLY!"));
// }} ""
// {{ 752 1 0 "1aba71ab_9bb8_43eb_a5778981c19818da" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CorrectedAirGap = 0.0;
// }} ""
// {{ 753 1 0 "b30390f6_1553_4848_b4aad7ab747c83c8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 754 1 0 "751fd6e4_b3a4_4841_b54db699f14370ac" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_TotalAirGap = flt_CorrectedBlowout + flt_CorrectedAirGap;
// }} ""
// {{ 755 1 0 "1ede1fd5_84e7_47e8_9f713eef0d0156df" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirated = flt_CurrentVolume - flt_TotalAirGap;
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{ 756 1 0 "87ddd759_4f31_40d8_93e22c5a5b10c1c1" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirated = flt_CurrentVolume;
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 757 1 0 "e590aff6_ad61_4b00_90da7460cf735a6c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Total Air Gap:  "), flt_TotalAirGap, Translate(" uL"));
// }} ""
// {{{ 758 1 0 "99eacef1_9baa_4c1f_8b1ca80e8028503f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Volume Aspirated Adjusted:  "), flt_VolumeAspirated, Translate(" uL"));
// }} ""
// {{ 759 1 0 "67bb31ae_9bcf_4b4c_ab338793f0f338db" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_VolumeAspirated < 0.0)
{
// }} ""
// {{ 760 1 0 "b2be93ef_1212_4c4b_a5c7e50c0003eb5e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirated = 0.0;
// }} ""
// {{ 761 1 0 "67bb31ae_9bcf_4b4c_ab338793f0f338db" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 762 1 0 "712275b4_6fd0_4b6a_8bfb5c70452c8ac3" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetCorrectedValueForVolume(flt_VolumeAspirated, T_PIP_TOOLS_ARR_CORRECTION_Y, T_PIP_TOOLS_ARR_CORRECTION_X, flt_VolumeAspirated);
// }} ""
// {{ 763 1 0 "67bb31ae_9bcf_4b4c_ab338793f0f338db" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 764 1 0 "e8829853_4fb7_4440_943811f68a2ed2b1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Volume Aspirated :  "), flt_VolumeAspirated, Translate(" uL"));
// }} ""
// {{{ 765 1 0 "fab4eba5_d677_4164_8afe589b98c60e13" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Liquid Level Start :  "), flt_LiquidHeight, Translate(" mm"));
// }} ""
// {{ 766 1 0 "8fe1098d_4077_4155_a79d6b13a3ed42c6" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirated = flt_VolumeAspirated * -1;
// }} ""
// {{{ 767 1 0 "de9434cc_4c99_4ff8_9317226ed47090b2" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_CalculateLiquidFollowDistance(ML_STAR, str_LabID, str_PosID, flt_LiquidHeight, flt_VolumeAspirated, BOOLEON::TRUE, flt_LiquidFollowDistance);
// }} ""
// {{ 768 1 0 "bbf4b28c_16a8_48d0_ae59be2a01c9d472" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_LiquidFollowDistance = flt_LiquidFollowDistance + i_flt_SubmergeDepth;
// }} ""
// {{ 769 1 0 "45543d0d_04c6_4642_b8865b47b58341b5" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirated = flt_VolumeAspirated * -1;
// }} ""
// {{ 770 1 0 "1aef9b4e_ab87_470c_8080eec225467ed2" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentHeight = flt_LiquidHeight - flt_LiquidFollowDistance;
// }} ""
// {{ 771 1 0 "7c3438a0_989c_4492_91c88c1520e4dedb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_CurrentHeight < 0.0)
{
// }} ""
// {{ 772 1 0 "768bde28_c264_401d_93e1d1d3606e1154" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentHeight = 0.0;
// }} ""
// {{ 773 1 0 "7c3438a0_989c_4492_91c88c1520e4dedb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 774 1 0 "e5e30769_7257_4015_bd9824fcbbbc7ffa" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (G_FW_PIP_COM_SimulationMode == BOOLEON::TRUE)
{
// }} ""
// {{ 775 1 0 "b513ece4_3a10_4ad3_9548e1bd15c59b95" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentHeight = 25.0;
// }} ""
// {{ 776 1 0 "e5e30769_7257_4015_bd9824fcbbbc7ffa" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 777 1 0 "3bef5d06_2cc2_460d_8a41bd7a9e8a35dc" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Liquid Level End :  "), flt_CurrentHeight, Translate(" mm"));
// }} ""
// {{ 778 1 0 "2bf0c1cc_312f_4900_aaf2762dd7acf33c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 779 1 0 "3904fff4_9d0b_4d19_94ebd694a2b164d9" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_LiquidHeights.SetAt(int_ChIndex-1, flt_CurrentHeight);
// }} ""
// {{ 780 1 0 "efd550f7_edd3_4ad5_b6f6416edebb3d66" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_VolumesAspirated.SetAt(int_ChIndex-1, flt_VolumeAspirated);
// }} ""
// {{ 781 1 0 "d06cf1e9_2252_44bf_ae188ab8375f2693" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 782 1 0 "c394793a_01a8_48ed_a9d70756394ce92b" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_Temp.SetCurrentPosition(1);
// }} ""
// {{ 783 1 0 "732b2123_d5b9_4b3f_91b9f0083066e6ce" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 784 1 0 "bf08fbb2_33c2_43a3_83808f176b9cd964" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 785 1 0 "1b932678_fbdd_40fe_b7798f8e1723a9c8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray_2(Translate("Current Liquid Heights                        Volumes Aspirated"), arr_LiquidHeights, arr_VolumesAspirated);
// }} ""
// {{ 786 1 0 "8b2d25c7_2980_45c1_a7fb6228da1aaf7e" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 787 1 0 "06e83eed_1178_49d4_959f06f0f9abad5b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (str_ErrorReturn != "")
{
// }} ""
// {{{ 788 1 0 "65259c29_55a8_44b5_817e88f2453b7662" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Error Return Value:  "), str_ErrorReturn, Translate(""));
// }} ""
// {{ 789 1 0 "2588a21c_c33e_4862_9a5831d49f60f78b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_DispenseChPattern = Translate("");
// }} ""
// {{{ 790 1 0 "fc628844_4aa9_4baf_bd0333b92d766ae6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalPositions = StepReturn::GetNumberOfPositions(str_ErrorReturn);
// }} ""
// {{ 791 1 0 "e222f01b_3223_41b0_a18a38a868179d37" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_LiquidFollowingDistance.SetSize(0);
// }} ""
// {{ 792 1 0 "d47e9a41_3e27_43f2_91056cbb1fe461a4" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_DispenseVolumes.SetSize(0);
// }} ""
// {{{ 793 1 0 "d6c9339a_90b1_4896_938f79602518c4b7" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidFollowingForAllChannels(ML_STAR, arr_LiquidHeights, seq_Temp, BOOLEON::TRUE, BOOLEON::FALSE, i_flt_DispenseBackVolume, io_str_ChPattern, arr_LiquidFollowingDistance);
// }} ""
// {{ 794 1 0 "18e000d9_ced3_4969_9c1793c6c7a4bb78" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < int_TotalPositions;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 795 1 0 "e926097a_8821_4962_bd7ec04b0e8f1f97" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Position = StepReturn::GetPositionFromNum(int_ChIndex, str_ErrorReturn);
// }} ""
// {{{ 796 1 0 "b900fc58_1622_4f11_9a5ca738da6ba983" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_ReturnErrorCode = StepReturn::GetSlaveError(int_Position, str_ErrorReturn);
// }} ""
// {{ 797 1 0 "de987974_b0dc_4bf4_8554d5aaea02608d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ReturnErrorCode == 0)
{
// }} ""
// {{{ 798 1 0 "d67a56f6_b163_41ac_856184d4d8113462" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_DispenseChPattern = StrConcat2(str_DispenseChPattern, Translate("0"));
// }} ""
// {{ 799 1 0 "5eea53a0_ab0f_4262_95824a3e59ae1e07" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_DispenseVolumes.AddAsLast(0.0);
// }} ""
// {{ 800 1 0 "de987974_b0dc_4bf4_8554d5aaea02608d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 801 1 0 "413ba4da_4b17_4380_a4474b427737e26a" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_CurrentHeight=arr_LiquidHeights.GetAt(int_ChIndex-1);
// }} ""
// {{ 802 1 0 "7aedc866_5b91_476c_8b6da2b58088d372" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_SecondPhaseHeights.SetAt(int_ChIndex-1, flt_CurrentHeight);
// }} ""
// {{{ 803 1 0 "14e0e33c_ea5c_4ca9_8937ca89aede554a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::Get_Tip_Volume_1mL(ML_STAR, int_ChIndex, flt_MaxVolume, flt_CurrentVolume);
// }} ""
// {{ 804 1 0 "c86f9e42_40dd_49d3_92288ae49f161a3c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (T_PIP_TOOLS_ASP_BLOWOUT > 0.0)
{
// }} ""
// {{ 805 1 0 "eeb3c4ac_59f0_43a8_957f06f6c36c4ecc" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CorrectedBlowout = T_PIP_TOOLS_ASP_BLOWOUT;
// }} ""
// {{ 806 1 0 "c86f9e42_40dd_49d3_92288ae49f161a3c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 807 1 0 "79c5731a_c39e_4e7f_bc1a0783b49f8364" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CorrectedBlowout = 0.0;
// }} ""
// {{ 808 1 0 "c86f9e42_40dd_49d3_92288ae49f161a3c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 809 1 0 "0e2f4ee5_6c82_4687_b1c2a67994632b15" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirated = flt_CurrentVolume - flt_CorrectedBlowout;
// }} ""
// {{ 810 1 0 "d202b601_f05b_4c49_aa26653e0d265265" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_VolumeAspirated < 0.0)
{
// }} ""
// {{ 811 1 0 "8b51c074_e336_4462_b2ce6691a1645dc8" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirated = 0.0;
// }} ""
// {{ 812 1 0 "d202b601_f05b_4c49_aa26653e0d265265" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 813 1 0 "d62385c8_9950_4a4a_ad9999b2a4936bd0" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetCorrectedValueForVolume(flt_VolumeAspirated, T_PIP_TOOLS_ARR_CORRECTION_Y, T_PIP_TOOLS_ARR_CORRECTION_X, flt_VolumeAspirated);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 814 1 0 "d202b601_f05b_4c49_aa26653e0d265265" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 815 1 0 "fa21df3e_416e_4892_adf3fa29046ec27c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(int_ChIndex, Translate("     Volume currently in channel:  "), flt_VolumeAspirated, Translate(""));
// }} ""
// {{ 816 1 0 "96ebbf0d_2de1_4e59_a6b20ea6dbdffe62" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_DispenseVolume = i_flt_DispenseBackVolume;
// }} ""
// {{ 817 1 0 "b9595f45_9895_4b0f_a6c1ddc9dc8a849a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_VolumeAspirated < i_flt_DispenseBackVolume)
{
// }} ""
// {{ 818 1 0 "eff021df_e28b_4279_bb8a68187d45bd58" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_DispenseVolume = flt_VolumeAspirated;
// }} ""
// {{ 819 1 0 "769aecb7_bb7b_4084_a5787c6850a5da32" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 820 1 0 "54706dac_dae4_45b7_af591a2c6739944f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirated = 0.0;
// }} ""
// {{ 821 1 0 "2fe3286d_42d1_4547_9f14b19ff02fa4f6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_DispenseVolume < 0.0)
{
// }} ""
// {{ 822 1 0 "9847b893_9c33_41b1_89ce8f7f8e4e95d2" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_DispenseVolume = 0.0;
// }} ""
// {{ 823 1 0 "2fe3286d_42d1_4547_9f14b19ff02fa4f6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 824 1 0 "b9595f45_9895_4b0f_a6c1ddc9dc8a849a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 825 1 0 "62c1f8e6_d65f_46d4_a7d5452c9e86f8c7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_DispenseVolume < 0.0)
{
// }} ""
// {{ 826 1 0 "25422e4a_ec6d_465d_99506cf1a5cf1f0a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_DispenseVolume = 0.0;
// }} ""
// {{ 827 1 0 "62c1f8e6_d65f_46d4_a7d5452c9e86f8c7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 828 1 0 "e90a7a0d_f77d_45d6_aa363dd7a9269202" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_VolumeAspirated < 0.0)
{
// }} ""
// {{ 829 1 0 "70c8bd07_a24d_4aa3_95805d6eb108923e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirated = 0.0;
// }} ""
// {{ 830 1 0 "e90a7a0d_f77d_45d6_aa363dd7a9269202" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 831 1 0 "e210d053_0aad_412f_8ced9ec6445295ed" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirated = flt_VolumeAspirated - flt_DispenseVolume;
// }} ""
// {{ 832 1 0 "b9595f45_9895_4b0f_a6c1ddc9dc8a849a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 833 1 0 "f2772797_f1c7_4a33_9a24218cc51020de" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Volume dispensed in channel:  "), flt_DispenseVolume, Translate(""));
// }} ""
// {{ 834 1 0 "1c57021a_13cc_4b06_b5970aac41bf0533" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_DispenseVolumes.AddAsLast(flt_DispenseVolume);
// }} ""
// {{ 835 1 0 "f068711c_302c_462f_9f7733f151d0df66" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_VolumeAspirated <= 0.0)
{
// }} ""
// {{ 836 1 0 "653075c7_f7dd_47e6_8b83069c46160b64" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeAspirated = 0.0;
// }} ""
// {{ 837 1 0 "f068711c_302c_462f_9f7733f151d0df66" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 838 1 0 "7192df1a_5ec0_48cd_8899e195f5f96e2e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetCorrectedValueForVolume(flt_VolumeAspirated, T_PIP_TOOLS_ARR_CORRECTION_Y, T_PIP_TOOLS_ARR_CORRECTION_X, flt_VolumeAspirated);
// }} ""
// {{ 839 1 0 "f068711c_302c_462f_9f7733f151d0df66" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 840 1 0 "a8f99053_ca55_440e_aebdc833e528c576" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Remaining volume in channel:  "), flt_VolumeAspirated, Translate(""));
// }} ""
// {{ 841 1 0 "41bb2796_c027_4c67_82e520f90db0febe" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_VolumesAspirated.SetAt(int_ChIndex-1, flt_VolumeAspirated);
// }} ""
// {{ 842 1 0 "3cdf2067_590f_40d2_a30e96ea5b075421" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_DispenseVolume > 0.0)
{
// }} ""
// {{{ 843 1 0 "440855a3_6daa_40f2_b5c1e3f6b90ff540" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_DispenseChPattern = StrConcat2(str_DispenseChPattern, Translate("1"));
// }} ""
// {{ 844 1 0 "3cdf2067_590f_40d2_a30e96ea5b075421" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 845 1 0 "05208409_70b6_41a4_adee6054f939c230" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_DispenseChPattern = StrConcat2(str_DispenseChPattern, Translate("0"));
// }} ""
// {{ 846 1 0 "3cdf2067_590f_40d2_a30e96ea5b075421" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 847 1 0 "de987974_b0dc_4bf4_8554d5aaea02608d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 848 1 0 "18e000d9_ced3_4969_9c1793c6c7a4bb78" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 849 1 0 "0c61b957_6550_4676_bd277acca204d3e4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Dispense Back Channel Pattern:  "), str_DispenseChPattern, Translate(""));
// }} ""
// {{ 850 1 0 "2d4984b8_8a34_46de_8fe612a53a08daab" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_flt_DispenseBackVolume > 0.0)
{
// }} ""
// {{{ 851 1 0 "142e4920_8321_4c9f_b5fd8ee2465693ff" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_DispenseBackCheck = StrReplace(str_DispenseChPattern, Translate("1"), Translate("1"));
// }} ""
// {{ 852 1 0 "26f853e2_d9a0_419f_9682f7fbc826d864" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_DispenseBackCheck > 0)
{
// }} ""
// {{{ 853 1 0 "e5de9938_78db_408b_a7c9501761cf7b2a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("Dispense Back Volumes"), arr_DispenseVolumes);
// }} ""
// {{ 854 1 0 "047530a8_24e3_4082_ae77116e37f01edc" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_Offset = flt_ZBottom - 1.0;
// }} ""
// {{{ 855 1 0 "8bb043ef_eb9e_40c5_991a2171d4e18c78" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_ApplyOffsetToArrayofValues(arr_LiquidHeights, flt_Offset, arr_DispenseHeights);
// }} ""
// {{{ 856 1 0 "5c10acbf_30b3_410d_a7747be1deb4e5b3" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::PIPDispenseFromFixedHeight_ArrayVolumes(ML_STAR, str_DispenseChPattern, 4, arr_XCoord, arr_YCoord, arr_DispenseHeights, arr_LiquidFollowingDistance, 245.0, 245.0, flt_ZMinimumHeight, flt_ZBottom, arr_DispenseVolumes, 40.0, 40.0, 0.0, T_PIP_TOOLS_DISP_AIR_TRANSPORT, 0.0, T_PIP_TOOLS_DISP_SETTLING, T_PIP_TOOLS_DISP_SWAP, 5.0, flt_ZMaximumHeight);
// }} ""
// {{ 857 1 0 "26f853e2_d9a0_419f_9682f7fbc826d864" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 858 1 0 "2d4984b8_8a34_46de_8fe612a53a08daab" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 859 1 0 "06e83eed_1178_49d4_959f06f0f9abad5b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 860 1 0 "8b2d25c7_2980_45c1_a7fb6228da1aaf7e" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 861 1 0 "e4efec32_3c7b_4026_ad4227f90d5d3c5a" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_DispenseHeights.SetSize(0);
// }} ""
// {{ 862 1 0 "498bb0f7_3843_4ecc_bc0fc084ad478d7a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_DispenseLocation = Translate("");
// }} ""
// {{ 863 1 0 "5ade1ecc_2dfb_4004_b2446aaad7d6150a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_DispenseChPattern = Translate("");
// }} ""
// {{ 864 1 0 "c64f6ba6_5721_48af_91f2c0da9db5c594" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < int_TotalChannels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{ 865 1 0 "cc5588b5_4661_4efa_afaff5deb32e40ed" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_Volume = Translate("");
// }} ""
// {{ 866 1 0 "f238de0e_da85_463f_9742657099aabcd6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_DispenseLabID = Translate("");
// }} ""
// {{ 867 1 0 "faf092cc_6db1_45f7_8c4a4b5e0d76376c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_DispensePosID = Translate("");
// }} ""
// {{ 868 1 0 "6c616aef_3a1f_4f50_bd9ea5c8ec8a5a86" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_TempDispense.SetCurrentPosition(int_ChIndex);
// }} ""
// {{ 869 1 0 "d3d91a57_3d55_4f7d_8b479f76923dfdcc" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_CurrentVolume=arr_VolumesAspirated.GetAt(int_ChIndex-1);
// }} ""
// {{{ 870 1 0 "20bcd3aa_6368_4aa9_b2e92d4399eec065" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(io_str_ChPattern, int_ChIndex, int_Value);
// }} ""
// {{ 871 1 0 "397307bf_e586_4f05_be3958dbc616598c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{ 872 1 0 "428af9ab_bc87_48d2_a164c983eb8d8c52" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_CurrentVolume > 0.0)
{
// }} ""
// {{{ 873 1 0 "f7485159_65b9_4f3a_95a583fe4b743cb0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_DispenseLabID = SeqGetLabwareId(seq_TempDispense);
// }} ""
// {{{ 874 1 0 "ac8bf98b_3a64_44fd_b1de5a29aeeb7750" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_DispensePosID = SeqGetPositionId(seq_TempDispense);
// }} ""
// {{{ 875 1 0 "3ca455b7_3e3b_416e_90fb2d29533faad4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_DispenseLocation = StrConcat12(str_DispenseLocation, Translate("> "), Translate("channel "), int_ChIndex, Translate(": "), str_DispenseLabID, Translate(", "), str_DispensePosID, Translate(", "), flt_CurrentVolume, Translate(" uL"), Translate(""));
// }} ""
// {{{ 876 1 0 "c7d22e41_425c_4fc2_b10694581fee4faf" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_DispenseChPattern = StrConcat2(str_DispenseChPattern, Translate("1"));
// }} ""
// {{ 877 1 0 "428af9ab_bc87_48d2_a164c983eb8d8c52" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 878 1 0 "50ea52ed_f0f3_43f7_92903eea19bafdcd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_DispenseChPattern = StrConcat2(str_DispenseChPattern, Translate("0"));
// }} ""
// {{ 879 1 0 "428af9ab_bc87_48d2_a164c983eb8d8c52" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 880 1 0 "397307bf_e586_4f05_be3958dbc616598c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 881 1 0 "9a835fbd_5abc_4dd3_806c9ebf3acd10be" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_DispenseChPattern = StrConcat2(str_DispenseChPattern, Translate("0"));
// }} ""
// {{ 882 1 0 "397307bf_e586_4f05_be3958dbc616598c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 883 1 0 "c64f6ba6_5721_48af_91f2c0da9db5c594" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 884 1 0 "cc173dfb_01f7_4443_b8f193db3b904474" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_TempDispense.SetCurrentPosition(1);
// }} ""
// {{{ 885 1 0 "69e954e2_d438_4f62_80dc6f68a4c8c53d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), str_DispenseLocation, Translate(""), Translate(""));
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 886 1 0 "0bb3ab97_7e8d_4dfe_afc7b4c08f8e2b56" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidFollowingForAllChannels(ML_STAR, arr_DispenseHeights, seq_TempDispense, BOOLEON::TRUE, BOOLEON::FALSE, i_flt_AspirationVolume, io_str_ChPattern, arr_LiquidFollowingDispense);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 887 1 0 "a3f08315_590f_4c42_9023e335176561fc" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_DispenseCheck = StrReplace(str_DispenseChPattern, Translate("1"), Translate("1"));
// }} ""
// {{ 888 1 0 "e3117107_a600_4c7b_af090ef8fc0b794a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_DispenseCheck > 0)
{
// }} ""
// {{{ 889 1 0 "177ec00c_80e9_48f7_9c1b55632bf5e5ba" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetPartialChannelPatternForRepeatingPositions(ML_STAR, str_DispenseChPattern, seq_TempDispense, int_DispenseLoops, arr_DispenseChPatterns);
// }} ""
// {{ 890 1 0 "23d311ef_1388_4e83_acba41524e5ef7b0" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_DispenseCount = 0; int_DispenseCount < int_DispenseLoops;)
{
int_DispenseCount = int_DispenseCount + 1;
// }} ""
// {{{ 891 1 0 "4efcdaa7_b3b5_4974_89c4ef007b4fc14f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetVolumesInPositions(ML_STAR, seq_TempDispense, arr_CurrentDestVolumes);
// }} ""
// {{ 892 1 0 "74634c06_fbec_44dc_af6594ee79143b86" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_DispenseHeights.SetSize(0);
// }} ""
// {{ 893 1 0 "6b364c4e_104c_4efa_bd1f5e7be354378e" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
str_CurrentDispChPattern=arr_DispenseChPatterns.GetAt(int_DispenseCount-1);
// }} ""
// {{{ 894 1 0 "ce0a19e8_da0a_41eb_84259a65c56b571f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(str_CurrentDispChPattern, Translate(""));
// }} ""
// {{ 895 1 0 "14263018_92be_4c77_a87b83ff01da0394" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < G_FW_PIP_COM_TotalChannels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 896 1 0 "12ecbdd7_113a_49b7_b8396724b005a118" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(str_CurrentDispChPattern, int_ChIndex, int_Value);
// }} ""
// {{ 897 1 0 "4781c46c_d9fb_446f_b88f94d8dd0cf43b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{ 898 1 0 "c40934dc_2a94_4170_8588a6067715e30f" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_TempDispense.SetCurrentPosition(int_ChIndex);
// }} ""
// {{ 899 1 0 "e6be073d_5e4c_4fcc_ae3e54d415ccb8e5" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_CurrentVolume=arr_CurrentDestVolumes.GetAt(int_ChIndex-1);
// }} ""
// {{ 900 1 0 "0e07ac76_1247_4a31_8f365a32f1990e90" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_VolumeAspirated=arr_VolumesAspirated.GetAt(int_ChIndex-1);
// }} ""
// {{ 901 1 0 "98bd5216_5234_4c06_971962fb4583fb49" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_NewVolume = flt_CurrentVolume + flt_VolumeAspirated;
// }} ""
// {{{ 902 1 0 "fcb9f0be_c779_407d_903f26f44705f8be" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE08(Translate("    "), Translate("Current Volume in well:  "), flt_CurrentVolume, Translate("     Volume aspirated:  "), flt_VolumeAspirated, Translate("    Added Volume"), flt_NewVolume, Translate(""));
// }} ""
// {{{ 903 1 0 "77ef0c00_b4d3_41d4_9c60f9b39af187b3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(seq_TempDispense);
// }} ""
// {{{ 904 1 0 "0792e3a6_ebaf_4921_876c73736cddc757" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(seq_TempDispense);
// }} ""
// {{{ 905 1 0 "930ff5e0_829d_43e1_a9b1df34fb80e70a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(seq_VolumeUpdateSequence);
// }} ""
// {{{ 906 1 0 "f03bd0ec_a2af_478f_998da838e441a78c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(seq_VolumeUpdateSequence, str_LabID, str_PosID);
// }} ""
// {{ 907 1 0 "77769afd_4c9f_40ec_b5a2bac8e6475167" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_VolumeUpdateSequence.SetCurrentPosition(1);
// }} ""
// {{{ 908 1 0 "7b3b0cb8_db56_457f_97c9a842731cea09" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorDb_Labware::LoadLabware(ML_STAR, str_LabID, str_PosID);
// }} ""
// {{{ 909 1 0 "62c4a0db_86b9_4d69_9959b14097a73c1e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLLabwState::SetLabwareVolume(ML_STAR, seq_VolumeUpdateSequence, flt_NewVolume);
// }} ""
// {{{ 910 1 0 "65f1dc4f_9b59_46fa_a50eeceb5aad5a4d" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetHeightBasedOnVolume(str_ContainerConfigFile, flt_CurrentVolume, flt_CurrentHeight);
// }} ""
// {{ 911 1 0 "b53411f7_a83b_4a46_af492c6dc6599f57" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_DispenseHeight = flt_CurrentHeight - i_flt_SubmergeDepth;
// }} ""
// {{ 912 1 0 "b4758dad_e292_4e29_8cdee54653d21b3a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_DispenseHeight <= 0.0)
{
// }} ""
// {{ 913 1 0 "8f61fd80_7f80_4a79_acddefde6d14f21e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_DispenseHeight = 2.0;
// }} ""
// {{ 914 1 0 "b4758dad_e292_4e29_8cdee54653d21b3a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 915 1 0 "f184dd47_5c75_4093_bc07bcb43f11817d" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_DispenseHeights.AddAsLast(flt_DispenseHeight);
// }} ""
// {{ 916 1 0 "4781c46c_d9fb_446f_b88f94d8dd0cf43b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 917 1 0 "a52b69ed_f484_4829_930a22aadb72e694" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_DispenseHeights.AddAsLast(0.0);
// }} ""
// {{ 918 1 0 "4781c46c_d9fb_446f_b88f94d8dd0cf43b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 919 1 0 "14263018_92be_4c77_a87b83ff01da0394" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 920 1 0 "443ed7a8_d7ae_42da_82c8431c3aaa038c" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_TempDispense.SetCurrentPosition(1);
// }} ""
// {{{ 921 1 0 "c3c892e0_1463_4fe8_bf6bf8484ac89fe0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("Dispense Heights"), arr_DispenseHeights);
// }} ""
// {{ 922 1 0 "87fda7d3_3a1d_4198_a6720d5182a05b8c" "ML_STAR:{541143F8-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143F8_7FA2_11D3_AD85_0004ACB1DCB2("87fda7d3_3a1d_4198_a6720d5182a05b8c"); // Dispense
	str_DispReturn = arrRetValues[2];
}
// }} ""
// {{ 923 1 0 "1bcd2467_2b43_4bac_946211df96f2b955" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (ret_strAllPipettingReturn != "")
{
// }} ""
// {{{ 924 1 0 "39db1fe2_a6e2_4524_a4f9677dcaeaa1ef" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ret_strAllPipettingReturn = StrConcat2(ret_strAllPipettingReturn, Translate("*"));
// }} ""
// {{ 925 1 0 "1bcd2467_2b43_4bac_946211df96f2b955" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 926 1 0 "e289866a_8f3e_4232_9ecc5931912b1e29" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ret_strAllPipettingReturn = StrConcat4(ret_strAllPipettingReturn, str_AspReturn, Translate("&"), str_DispReturn);
// }} ""
// {{ 927 1 0 "23d311ef_1388_4e83_acba41524e5ef7b0" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 928 1 0 "e3117107_a600_4c7b_af090ef8fc0b794a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 929 1 0 "64b488a9_6d53_48e9_ab2e1092399b099d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_DispReturn = Translate("");
// }} ""
// {{ 930 1 0 "e3117107_a600_4c7b_af090ef8fc0b794a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 931 1 0 "636312a3_b1c2_4044_b01faf10f22899f4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_TempDispense, 1, Translate(""));
// }} ""
// {{{ 932 1 0 "9fbb1870_07db_4a75_a5b02da3aea6ad2e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_TempDispense, 4, Translate(""));
// }} ""
// {{ 933 1 0 "2c42f698_dd56_4e18_a76aaa9af9a46c2f" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_TempDispense.SetCurrentPosition(1);
// }} ""
// {{ 934 1 0 "3eb66c79_e7ba_4a69_b35c380eb33d2162" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 935 1 0 "85effdf5_aabf_4f90_9427af0769f8c9d5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (str_ErrorReturn != "")
{
// }} ""
// {{{ 936 1 0 "0193aa6a_d013_43e8_97dc03c354b97d5b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("Error Return Value:  "), str_ErrorReturn, Translate(""));
// }} ""
// {{ 937 1 0 "4586b6c1_4d4d_4fb0_98dafbd66e010e0a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_NewChPattern = Translate("");
// }} ""
// {{{ 938 1 0 "b054930a_0513_4d6b_b6a3fb3820d92bea" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalPositions = StepReturn::GetNumberOfPositions(str_ErrorReturn);
// }} ""
// {{ 939 1 0 "c340091a_425e_4078_be6a80e0c439bdb7" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_LiquidFollowingDistance.SetSize(0);
// }} ""
// {{{ 940 1 0 "0aeac13b_abbe_44bc_bfaa1bc7c4db0058" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidFollowingForAllChannels(ML_STAR, arr_LiquidHeights, seq_Temp, BOOLEON::TRUE, BOOLEON::FALSE, i_flt_DispenseBackVolume, io_str_ChPattern, arr_LiquidFollowingDistance);
// }} ""
// {{ 941 1 0 "c8079862_f995_47be_b3f6af48b996d772" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < int_TotalPositions;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 942 1 0 "cc8cffb5_b175_4729_9b61713c65f235ee" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Position = StepReturn::GetPositionFromNum(int_ChIndex, str_ErrorReturn);
// }} ""
// {{{ 943 1 0 "868b8b89_08cf_45d9_b0a39767b260333b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_ReturnErrorCode = StepReturn::GetSlaveError(int_Position, str_ErrorReturn);
// }} ""
// {{{ 944 1 0 "0382715d_2aee_4a61_86b520ba1a6e959f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(io_str_ChPattern, int_ChIndex, int_Value);
// }} ""
// {{ 945 1 0 "f9602fa6_f2ff_4085_875eb98e862b0178" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{ 946 1 0 "e8048465_d918_4594_9e31bc554840a97a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ReturnErrorCode == 0)
{
// }} ""
// {{{ 947 1 0 "93fc62bf_13f8_4d28_81f00ecc830638f2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_NewChPattern = StrConcat2(str_NewChPattern, Translate("1"));
// }} ""
// {{ 948 1 0 "e8048465_d918_4594_9e31bc554840a97a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 949 1 0 "8bf807f1_72f9_4069_81f7767e297c86d0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_NewChPattern = StrConcat2(str_NewChPattern, Translate("0"));
// }} ""
// {{ 950 1 0 "e8048465_d918_4594_9e31bc554840a97a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 951 1 0 "f9602fa6_f2ff_4085_875eb98e862b0178" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 952 1 0 "960a1c0e_f346_4e6d_94683fc0b22d1f5b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_NewChPattern = StrConcat2(str_NewChPattern, Translate("0"));
// }} ""
// {{ 953 1 0 "f9602fa6_f2ff_4085_875eb98e862b0178" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 954 1 0 "c8079862_f995_47be_b3f6af48b996d772" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 955 1 0 "b421ee24_8b22_4a1d_90a4fbea8e9723bb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE04(Translate("     "), Translate("New Channel Pattern:  "), str_NewChPattern, Translate(""));
// }} ""
// {{ 956 1 0 "68d734c5_c4bd_4962_8eacf7a1c90ed44f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
io_str_ChPattern = str_NewChPattern;
// }} ""
// {{ 957 1 0 "85effdf5_aabf_4f90_9427af0769f8c9d5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 958 1 0 "3eb66c79_e7ba_4a69_b35c380eb33d2162" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 959 1 0 "abe9b0c1_bcc9_4451_955b6c603e199a55" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 960 1 0 "9931d8c2_8eeb_4957_9b3235191ec556a7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (G_FW_PIP_COM_SimulationMode == BOOLEON::TRUE)
{
// }} ""
// {{ 961 1 0 "149edfe2_6ff5_47c5_9e385748d93a33e4" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_SecondPhaseHeights.SetSize(0);
// }} ""
// {{ 962 1 0 "193b59f9_f738_4aed_bfbdfad4d91ef0c7" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < G_FW_PIP_COM_TotalChannels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{ 963 1 0 "a1f48321_2253_4fde_a0a197f8ef874701" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_SecondPhaseHeights.AddAsLast(25.0);
// }} ""
// {{ 964 1 0 "193b59f9_f738_4aed_bfbdfad4d91ef0c7" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 965 1 0 "9931d8c2_8eeb_4957_9b3235191ec556a7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 966 1 0 "6be318c8_12a3_45e5_8a73f5243cfc5d82" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("Volumes Transferred"), arr_VolumesAspirated);
// }} ""
// {{{ 967 1 0 "c4f29127_fc92_4614_9e5cfed670dd45ce" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("Second Phase Heights"), arr_SecondPhaseHeights);
// }} ""
// {{{ 968 1 0 "21402f9f_7016_4e8d_b76093680dd4d781" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_SetHeightInfoToLabware(ML_STAR, BOOLEON::FALSE, seq_Temp, arr_SecondPhaseHeights);
// }} ""
// {{ 969 1 0 "347af0ad_bd88_42f2_a60ec6223e82f2c3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_bln_ResetChPattern == BOOLEON::TRUE)
{
// }} ""
// {{ 970 1 0 "987d51c7_b5cd_4290_8d9dbe4c933b6ef0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
io_str_ChPattern = str_StartingChannelPattern;
// }} ""
// {{ 971 1 0 "347af0ad_bd88_42f2_a60ec6223e82f2c3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 972 1 0 "7c55a578_d9c1_4f03_a3fd587b1d307a48" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 973 1 0 "368d56b3_295b_44c7_9a304e3a8a611907" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::TRUE);
// }} ""
// {{ 974 1 0 "7c55a578_d9c1_4f03_a3fd587b1d307a48" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 975 1 0 "70750af5_e01f_4962_893263a7ca761726" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_strAllPipettingReturn);
// }} ""
// {{{ 5 "PIP_PhaseAspiration" "End"
}
// }} ""
// {{{ 5 "_SetHeightInfoToLabware" "Begin"
private function _SetHeightInfoToLabware( device & ML_STAR, variable i_blnUpperHeights, sequence i_seqPositions, variable & i_arrHeights[] ) void {
// }} ""
private variable i;
private variable int_TotalPositions;
private variable bln_LabwareValid;
private variable str_PropertyReplace;
private variable str_Property;
private variable str_LabID;
private variable flt_Height;
private variable str_PosID;
private variable int_TotalArray;
// {{ 5 "_SetHeightInfoToLabware" "InitLocals"
// }} ""
// {{{ 2676 1 0 "96157d18_9762_457d_8b4b4b12fcbecbd1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalPositions = SeqGetTotal(i_seqPositions);
// }} ""
// {{ 2677 1 0 "18c0ea00_c375_4ab5_a4ced5d748bc2f79" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
int_TotalArray=i_arrHeights.GetSize();
// }} ""
// {{ 2678 1 0 "6730ebe6_3a45_4e16_8faa1774f018e519" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_blnUpperHeights == BOOLEON::TRUE)
{
// }} ""
// {{ 2679 1 0 "12b9eb13_128d_491d_8b5ac09d99c8196a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_Property = Translate("HEIGHT_TOP_#");
// }} ""
// {{ 2680 1 0 "6730ebe6_3a45_4e16_8faa1774f018e519" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 2681 1 0 "2fd08897_d79a_46f9_a5fde59b4e5cdafd" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_Property = Translate("HEIGHT_BOTTOM_#");
// }} ""
// {{ 2682 1 0 "6730ebe6_3a45_4e16_8faa1774f018e519" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2683 1 0 "32bc83df_890f_4105_bdf90a8520893608" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(i = 0; i < int_TotalPositions;)
{
i = i + 1;
// }} ""
// {{ 2684 1 0 "e4c233bd_6182_4d85_86a71e7f5e5f082b" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
i_seqPositions.SetCurrentPosition(i);
// }} ""
// {{ 2685 1 0 "ec820b22_08e0_43a1_bfa5fef698541f30" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i > int_TotalArray)
{
// }} ""
// {{ 2686 1 0 "68b79fa7_753f_4df7_8915ca4237ba42a4" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 2687 1 0 "ec820b22_08e0_43a1_bfa5fef698541f30" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2688 1 0 "f45acbc5_5da9_46a4_963565112649e5b2" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_Height=i_arrHeights.GetAt(i-1);
// }} ""
// {{{ 2689 1 0 "bdab040e_8b5b_4edc_9d62641a54ffeabf" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(i_seqPositions);
// }} ""
// {{{ 2690 1 0 "64d1b4a2_5922_48b4_8630a3cf18c751f6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bln_LabwareValid = DevIsValidLabwareForCurrentDeckLayout(ML_STAR, str_LabID);
// }} ""
// {{ 2691 1 0 "8fc73a4a_6e4f_489b_8f62deb032dceb4c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_LabwareValid == BOOLEON::TRUE)
{
// }} ""
// {{{ 2692 1 0 "fe17facb_803f_4200_8f0fa25e01c9dd10" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(i_seqPositions);
// }} ""
// {{ 2693 1 0 "dd894d52_6292_407b_a5ad697fcffb2105" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_PropertyReplace = str_Property;
// }} ""
// {{{ 2694 1 0 "95fc12be_96f2_4d4d_8592532483f9ab8e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
StrReplace(str_PropertyReplace, Translate("#"), str_PosID);
// }} ""
// {{{ 2695 1 0 "f743bb6e_873d_49df_9bd704159074a631" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_SetPropertiesForLabwareID(ML_STAR, str_LabID, str_PropertyReplace, flt_Height);
// }} ""
// {{ 2696 1 0 "8fc73a4a_6e4f_489b_8f62deb032dceb4c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2697 1 0 "32bc83df_890f_4105_bdf90a8520893608" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 5 "_SetHeightInfoToLabware" "End"
}
// }} ""
// {{{ 5 "_SetPropertiesForLabwareID" "Begin"
private function _SetPropertiesForLabwareID( device & Instrument, variable i_strLabwareID, variable i_strPropertyKey, variable i_strProperyValue ) void {
// }} ""
private variable strLabwareID;
private variable strProperyValue;
private variable strPropertyKey;
// {{ 5 "_SetPropertiesForLabwareID" "InitLocals"
// }} ""
// {{{ 2699 1 0 "5e5d9144_103a_4ba1_8e9c5eed0c87bae8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strPropertyKey = StrConcat2(i_strPropertyKey, Translate(""));
// }} ""
// {{{ 2700 1 0 "27258292_4975_47d2_b92d870876021797" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strProperyValue = StrConcat2(i_strProperyValue, Translate(""));
// }} ""
// {{{ 2701 1 0 "c39d99d8_e738_4275_8fddf3205018fa27" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strLabwareID = StrConcat2(i_strLabwareID, Translate(""));
// }} ""
Trace("Lab ID:  ",i_strLabwareID," Property Key:  ",strPropertyKey,"  Property Value:  ",strProperyValue);
// {{ 2703 1 0 "f9024c49_af60_42fd_8dca2f6fde4350e1" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
    {
      object   objDecklayout;
      variable str_PropertyValue;

      str_PropertyValue = strProperyValue;

      //variable strFunctionName("");

      //strFunctionName = ExtractFunctionName(GetFunctionName());

      // check input variables
      //if (!CheckString(i_strPropertyValue, "i_strPropertyValue", strFunctionName)) return(hslFalse);
      //if (!CheckString(i_strPropertyKey, "i_strPropertyKey", strFunctionName)) return(hslFalse);
      //if (!CheckString(i_strLabwareID, "i_strLabwareID", strFunctionName)) return(hslFalse);

      //StatusTrace(CMD_START, TRACE_LEVEL_DEBUG, "i_strLabwareID = " + i_strLabwareID + ", i_strPropertyKey = " + i_strPropertyKey + ", i_strPropertyValue = " + i_strPropertyValue, strFunctionName);

      //EnterSemaphore();
      objDecklayout = Instrument.GetDeckLayoutObject();
      //LeaveSemaphore();

      if (!objDecklayout.IsNull())
      {
        object objLabware;

        onerror goto HandleLabwareError;
        objLabware = objDecklayout.Labware(i_strLabwareID);
        onerror goto 0;
        err.Clear();

        if (!objLabware.IsNull())
        {
          object   objEditLabware5;
          object   objPropertyParameters;

          objLabware.GetObject("IEditLabware5", objEditLabware5);

          // prepare a new Pars object for the labware properties
          objPropertyParameters.CreateObject("HXPARAMSLib.HxPars");
          objPropertyParameters.Add(str_PropertyValue, strPropertyKey);

          // check data from the decklayout
          objEditLabware5.SetLabwrProperties(objPropertyParameters);

          str_PropertyValue = objPropertyParameters.Item1(strPropertyKey);

          objPropertyParameters.ReleaseObject();
          objEditLabware5.ReleaseObject();
          objDecklayout.ReleaseObject();
          objLabware.ReleaseObject();

          //StatusTrace(CMD_COMPLETE, TRACE_LEVEL_DEBUG, "", strFunctionName);

          //return(hslTrue);
        }
        else
        {
          //StatusTrace(CMD_ERRCOMPLETE, TRACE_LEVEL_RELEASE, "Could not find labware.", strFunctionName);
          objDecklayout.ReleaseObject();
          //return(hslFalse);
        }
      }
      else
      {
        //StatusTrace(CMD_ERRCOMPLETE, TRACE_LEVEL_RELEASE, "Could not find decklayout.", strFunctionName);
        //return(hslFalse);
      }

      // runtime error handling
      HandleLabwareError :
      {
        variable errorID;
        errorID=err.GetId();
        err.Clear();

        if (errorID==-1574764487)
        {
          //StatusTrace(CMD_ERRCOMPLETE, TRACE_LEVEL_RELEASE, "LabwareID is  unknown.", strFunctionName);
          //return(hslFalse);
        }
        else
        {
          //StatusTrace(CMD_ERRCOMPLETE, TRACE_LEVEL_RELEASE, "Unknown error occured.", strFunctionName);
          //return(hslFalse);
        }
      }
    }
// {{{ 5 "_SetPropertiesForLabwareID" "End"
}
// }} ""
// {{{ 5 "_GetHeightInfoFromLabware" "Begin"
private function _GetHeightInfoFromLabware( device & ML_STAR, variable i_blnUpperHeights, sequence i_seqPositions, variable & o_arrHeights[] ) void {
// }} ""
private variable bln_LabwareValid;
private variable str_PropertyReplace;
private variable i;
private variable str_Property;
private variable str_LabID;
private variable str_PosID;
private variable int_TotalPositions;
private variable flt_Value;
private variable str_Value;
private variable int_ChIndex;
// {{ 5 "_GetHeightInfoFromLabware" "InitLocals"
o_arrHeights.SetSize( 0);
// }} ""
// {{{ 2114 1 0 "4e7cb626_c627_4d63_aa0c70ff32262eb6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalPositions = SeqGetTotal(i_seqPositions);
// }} ""
// {{ 2115 1 0 "baac2398_481d_4ec7_b09ba3255d6b2f83" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_blnUpperHeights == BOOLEON::TRUE)
{
// }} ""
// {{ 2116 1 0 "000e7edf_b98a_47eb_a581b364d14f81d6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_Property = Translate("HEIGHT_TOP_#");
// }} ""
// {{ 2117 1 0 "baac2398_481d_4ec7_b09ba3255d6b2f83" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 2118 1 0 "c2c08542_9951_47ea_805d80481a554813" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_Property = Translate("HEIGHT_BOTTOM_#");
// }} ""
// {{ 2119 1 0 "baac2398_481d_4ec7_b09ba3255d6b2f83" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2120 1 0 "932950ad_7964_47d9_a1d2b2902bd3373c" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < G_FW_PIP_COM_TotalChannels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{ 2121 1 0 "a330e42a_2ad4_4168_9fe08917f9059b05" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arrHeights.AddAsLast(0.0);
// }} ""
// {{ 2122 1 0 "932950ad_7964_47d9_a1d2b2902bd3373c" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 2123 1 0 "27968d7f_1a7f_442f_9ffa3a2e0d70329a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(i = 0; i < int_TotalPositions;)
{
i = i + 1;
// }} ""
// {{ 2124 1 0 "f01fbbf4_0838_4464_b97b73c464d0e507" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
i_seqPositions.SetCurrentPosition(i);
// }} ""
// {{ 2125 1 0 "72ad901e_e774_49c3_a2e037a14e00dcd6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i > G_FW_PIP_COM_TotalChannels)
{
// }} ""
// {{ 2126 1 0 "39e8d3ae_4708_4b18_a6df7afc9fb0faf1" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 2127 1 0 "72ad901e_e774_49c3_a2e037a14e00dcd6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2128 1 0 "1e02c247_5ea8_4fcf_ab4ad06936af7cc0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(i_seqPositions);
// }} ""
// {{{ 2129 1 0 "93266117_9854_4ddd_b34e8923022d44f4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bln_LabwareValid = DevIsValidLabwareForCurrentDeckLayout(ML_STAR, str_LabID);
// }} ""
// {{ 2130 1 0 "a716dc95_100c_4a4a_a9ac7e7f23625251" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_LabwareValid == BOOLEON::TRUE)
{
// }} ""
// {{{ 2131 1 0 "bb844ef9_8677_4374_b7e645ae9a2a5d61" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(i_seqPositions);
// }} ""
// {{ 2132 1 0 "8c94379d_0c33_4cad_943517033f2814d1" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_PropertyReplace = str_Property;
// }} ""
// {{{ 2133 1 0 "46cf5411_631b_4d2c_bf2fd0c3293c8bb3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
StrReplace(str_PropertyReplace, Translate("#"), str_PosID);
// }} ""
// {{{ 2134 1 0 "d151e49a_6d95_40ac_94aca352cda8eb0b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_Value = DevGetLabwareData(ML_STAR, str_LabID, str_PropertyReplace);
// }} ""
// {{{ 2135 1 0 "4e151042_2927_4078_839231288518f889" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_Value = StrFVal(str_Value);
// }} ""
// {{ 2136 1 0 "5c123636_360a_4e78_be59592fa1c58aea" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arrHeights.SetAt(i-1, flt_Value);
// }} ""
// {{ 2137 1 0 "a716dc95_100c_4a4a_a9ac7e7f23625251" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2138 1 0 "27968d7f_1a7f_442f_9ffa3a2e0d70329a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 5 "_GetHeightInfoFromLabware" "End"
}
// }} ""
// {{{ 5 "PIP_PhaseAspirationRemainder" "Begin"
function PIP_PhaseAspirationRemainder( device & ML_STAR, variable i_str_ChPattern, variable i_str_LiquidClass, sequence i_seq_AspirationPosition, sequence i_seq_DispensePosition, variable i_bln_UseCLLD, variable i_flt_SafeHeightAbovePhase, variable i_flt_AdditionalAspirationVolume, variable i_flt_SubmergeHeight ) variable {
// }} ""
private variable str_PosIDDisp;
private variable bln_SimulationMode;
private variable flt_VolumeToAspirate;
private variable ret_strAllPipettingReturn;
private variable int_PLLD;
private variable flt_ZBottomDispesne;
private variable bln_TipsLoaded;
private variable bln_ProbabilityPassed;
private variable str_LabIDDisp;
private variable flt_ContainerDepth;
private variable flt_NotUsed;
private variable flt_ZClearanceHeightDispense;
private variable int_TotalActiveChannels;
private variable flt_ZBottom;
private variable flt_ZMaximumHeight;
private variable flt_ZMinimumHeightDispense;
private variable str_ContainerConfig;
private variable flt_TopHeightContainer;
private variable flt_BottomHeight;
private variable flt_TopHeight;
private variable _strFunctionName;
private variable str_LabID;
private variable flt_AspirationHeight;
private variable flt_BottomHeightContainer;
private variable flt_ZClearanceHeight;
private variable flt_ZMaximumHeightDispense;
private variable flt_TopVolume;
private variable flt_BottomVolume;
private variable str_AspReturn;
private variable str_DispReturn;
private variable int_TotalChannels;
private variable str_ContainerConfigDisp;
private variable flt_ZMinimumHeight;
private variable str_PosID;
private variable flt_LiquidFollowingDistance;
private variable int_CLLD;
private variable str_ReturnChPattern;
private variable flt_DispenseHeight;
private variable int_Value;
private variable flt_MaxTipVolume;
private variable int_ChIndex;
private sequence seq_Temp;
private sequence seq_TempDispense;
private variable arr_DispenseHeights[];
private variable arr_XCoordDispense[];
private variable arr_LiquidFollowingDistancesDisp[];
private variable arr_MaxVolumes[];
private variable arr_YCoordDispense[];
private variable arr_LiquidFollowingDistances[];
private variable arr_LiquidLevelHeights[];
private variable arr_AspirationVolumes[];
private variable arr_YCoord[];
private variable arr_XCoord[];
private variable arr_AspirationHeights[];
private variable arr_TopPhaseHeight[];
private variable arr_SecondPhaseHeight[];
private variable flt_CurrentVolume;
private variable flt_VolumeAspirated;
private variable str_CurrentDispChPattern;
private variable flt_NewVolume;
private variable int_DispenseCount;
private variable int_DispenseLoops;
private variable flt_CurrentHeight;
private sequence seq_VolumeUpdateSequence;
private variable arr_CurrentDestVolumes[];
private variable arr_DispenseChPatterns[];
// {{ 5 "PIP_PhaseAspirationRemainder" "InitLocals"
// }} ""
// {{ 998 1 0 "39b578e4_39d7_4be6_884361eda56d8e42" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 999 1 0 "e1a59900_4441_46e7_9e9eb9c452b7f1a8" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
_strFunctionName = Translate("");
// }} ""
_strFunctionName = GetFunctionName();
// {{{ 1001 1 0 "6138e083_7880_40ec_be5cd4e80b6f804b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::TRUE, BOOLEON::TRUE);
// }} ""
// {{ 1002 1 0 "39b578e4_39d7_4be6_884361eda56d8e42" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1003 1 0 "02880c64_006f_4cd4_b9ebc08909516f71" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
ret_strAllPipettingReturn = Translate("");
// }} ""
// {{ 1004 1 0 "f962762a_7d2b_486a_b6a975523dc11a75" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1005 1 0 "73f50e39_45de_4061_86b4c6444d81b226" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_InitLiquidClassStorage();
// }} ""
// {{{ 1006 1 0 "cf5fc30a_728c_44c8_8eecda5af93ec029" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bln_SimulationMode = Util::GetSimulationMode();
// }} ""
// {{ 1007 1 0 "2cffde13_6bd0_49e0_a42c140ec46e2e7e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1008 1 0 "71da4bbf_de6f_45ce_8344334171ef2837" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::GetChannelNumber1mL(ML_STAR, int_TotalChannels);
// }} ""
// {{ 1009 1 0 "a18d4bb6_ce4a_4d13_a5274f637a29d8d5" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_TopPhaseHeight.SetSize(0);
// }} ""
// {{ 1010 1 0 "35cda396_5701_4610_b3ecf990a645dfc3" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_SecondPhaseHeight.SetSize(0);
// }} ""
// {{ 1011 1 0 "c680d009_bbf9_4a55_9ffcbab7a661606e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_ReturnChPattern = Translate("");
// }} ""
// {{{ 1012 1 0 "c6b3307c_6e8c_40b9_bd9f72d195495bce" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_ReturnChPattern = StrFillRight(str_ReturnChPattern, Translate("0"), int_TotalChannels);
// }} ""
// {{ 1013 1 0 "e28d4137_66a8_49cc_8c027503f2f8e344" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1014 1 0 "3f54f5a2_bcff_493a_b2df8c5a89921628" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_str_ChPattern = StrConcat2(i_str_ChPattern, Translate(""));
// }} ""
// {{{ 1015 1 0 "9aae7f24_fa62_4a89_8c03d63b1ad6470a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_str_ChPattern = StrFillRight(i_str_ChPattern, Translate("0"), int_TotalChannels);
// }} ""
// {{{ 1016 1 0 "7584c9ee_235c_4fd4_a19db29a0812b50f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalActiveChannels = StrReplace(i_str_ChPattern, Translate("1"), Translate("1"));
// }} ""
// {{ 1017 1 0 "5ec671f4_f065_42f0_99670bcf2789803a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_TotalActiveChannels == 0)
{
// }} ""
// {{ 1018 1 0 "4bceac6f_3ac7_4895_b2070eb64f054a23" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("CHANNEL PATTERN CONTAINS NO ACTIVE CHANNELS!"));
// }} ""
// {{ 1019 1 0 "c66809e5_c47e_48a5_8c5fba09e5593501" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1020 1 0 "e9548a7c_624e_4696_af0404f8ec8caf2d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 1021 1 0 "c66809e5_c47e_48a5_8c5fba09e5593501" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1022 1 0 "93b2fb80_2e89_4876_b416741223a7ba58" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_strAllPipettingReturn);
// }} ""
// {{ 1023 1 0 "5ec671f4_f065_42f0_99670bcf2789803a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1024 1 0 "b0501d19_2a49_4cd5_81a3ef7dda4be406" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1025 1 0 "a456c338_56f3_4a97_ab5f107d5a305c5e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetNextSequenceSet(i_seq_AspirationPosition, i_str_ChPattern, seq_Temp);
// }} ""
// {{ 1026 1 0 "d52d296e_3270_4f21_bd5fc83f1d57a254" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1027 1 0 "652e9178_e019_448a_8c9a8e47804128cd" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ProbabilityPassed = _ProbabilityCheck(ML_STAR, seq_Temp, i_str_ChPattern);
// }} ""
// {{ 1028 1 0 "2c2c0185_2140_4b4e_b69c8a89977738ef" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ProbabilityPassed == BOOLEON::FALSE)
{
// }} ""
// {{ 1029 1 0 "b79b6bed_2393_4ce4_a403416260d19b23" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("ASPIRATE SEQUENCE IS NOT SORTED CORRECTLY FOR THE USE OF THIS FUNCITON!\nSEQUENCE MUST BE SUCH THAT THE CHANNEL PATTERN USED CAN BE DONE AT ONE TIME WITHOUT NEEDING TO MOVE CHANNELS OUT OF THE WAY!"));
// }} ""
// {{ 1030 1 0 "c2505aed_1bbf_4071_a142d76ade3524aa" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1031 1 0 "91c682eb_437b_4276_a5b8379a5b0ea959" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 1032 1 0 "c2505aed_1bbf_4071_a142d76ade3524aa" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1033 1 0 "703d5e46_0e53_4b04_9e13642ade6fde8a" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_strAllPipettingReturn);
// }} ""
// {{ 1034 1 0 "2c2c0185_2140_4b4e_b69c8a89977738ef" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1035 1 0 "d860e51a_6e02_4335_9fa87ce95090a4d2" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1036 1 0 "7fdc14ad_2555_462c_9c3ac5beebf30944" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetNextSequenceSet(i_seq_DispensePosition, i_str_ChPattern, seq_TempDispense);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{ 1037 1 0 "a794a664_a7f4_455a_962642928fd31f83" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1038 1 0 "6c7a9eb2_21e4_40d2_8ccad8902240ff40" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_ProbabilityPassed = _ProbabilityCheck(ML_STAR, seq_TempDispense, i_str_ChPattern);
// }} ""
// {{ 1039 1 0 "a1bce8fa_69d7_42bb_84a2ca7c2756e8ae" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_ProbabilityPassed == BOOLEON::FALSE)
{
// }} ""
// {{ 1040 1 0 "1df5af96_1242_432b_b38db8bfd3ac2534" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("DISPENSE SEQUENCE IS NOT SORTED CORRECTLY FOR THE USE OF THIS FUNCITON!\nSEQUENCE MUST BE SUCH THAT THE CHANNEL PATTERN USED CAN BE DONE AT ONE TIME WITHOUT NEEDING TO MOVE CHANNELS OUT OF THE WAY!"));
// }} ""
// {{ 1041 1 0 "8cf4deea_1bf7_40e2_a4f3434f20713afb" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1042 1 0 "69589096_876a_4b3a_9097f0bcfd87d7a8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 1043 1 0 "8cf4deea_1bf7_40e2_a4f3434f20713afb" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1044 1 0 "ca361824_6573_4fb6_88b97f3e7fb4af97" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_strAllPipettingReturn);
// }} ""
// {{ 1045 1 0 "a1bce8fa_69d7_42bb_84a2ca7c2756e8ae" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 1046 1 0 "3f0d2eeb_179d_49b2_83e0479d32a63c38" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1047 1 0 "c0cc9858_b72d_4b12_a4ba09009ab9a3f5" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_TipsLoaded = _EnsureTipsAreLoaded(ML_STAR, i_str_ChPattern);
// }} ""
// {{ 1048 1 0 "cd5c6fe7_7c20_4abb_a006627c28880453" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_TipsLoaded == BOOLEON::FALSE)
{
// }} ""
// {{ 1049 1 0 "5068af2c_4574_4cfa_8beb4eca4b1eac29" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("TIPS PICKED UP DO NOT MATCH THE CHANNEL PATTERN!"));
// }} ""
// {{ 1050 1 0 "7e7cb150_a73d_4394_888c57a16d948f3d" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1051 1 0 "84271d12_87c6_4c6b_92b02ee6ea3af516" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::FALSE);
// }} ""
// {{ 1052 1 0 "7e7cb150_a73d_4394_888c57a16d948f3d" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1053 1 0 "90387a5b_36bd_441f_9ada86b79d847a80" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_strAllPipettingReturn);
// }} ""
// {{ 1054 1 0 "cd5c6fe7_7c20_4abb_a006627c28880453" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1055 1 0 "bd1fcfc1_e4ad_4c1b_8dca48695bf135f2" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetHeightInfoFromLabware(ML_STAR, BOOLEON::FALSE, seq_Temp, arr_SecondPhaseHeight);
// }} ""
// {{{ 1056 1 0 "536eb437_8fee_40ad_9eaeb8811e1d0716" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetHeightInfoFromLabware(ML_STAR, BOOLEON::TRUE, seq_Temp, arr_TopPhaseHeight);
// }} ""
// {{ 1057 1 0 "80bb5a69_762f_444b_8184cde1500e05a9" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1058 1 0 "760f0f07_9a8a_45a0_ab749ee23a48c0f1" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLabwareCoordinates(ML_STAR, seq_Temp, i_str_ChPattern, arr_XCoord, arr_YCoord, flt_ZBottom, flt_ZMinimumHeight, flt_ZMaximumHeight, flt_ZClearanceHeight);
// }} ""
// {{{ 1059 1 0 "fbe75e67_d32a_4c40_ab7a3c3d0388d5f6" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLabwareCoordinates(ML_STAR, seq_TempDispense, i_str_ChPattern, arr_XCoordDispense, arr_YCoordDispense, flt_ZBottomDispesne, flt_ZMinimumHeightDispense, flt_ZMaximumHeightDispense, flt_ZClearanceHeightDispense);
// }} ""
// {{ 1060 1 0 "d5386fbf_4693_4fdc_96ef3d40f0afb277" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_ContainerDepth = flt_ZMaximumHeight - flt_ZMinimumHeight;
// }} ""
// {{ 1061 1 0 "619e28cf_f5e5_4334_b165d207315482ec" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1062 1 0 "56ce4873_9396_4630_a64178a99aa06ab5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_bln_UseCLLD == BOOLEON::TRUE)
{
// }} ""
// {{ 1063 1 0 "7d52706e_0eab_4fe6_be4448c36ddc38d0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_CLLD = 1;
// }} ""
// {{ 1064 1 0 "ec92d067_3040_4c2f_a085629ad0e962e7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_PLLD = 0;
// }} ""
// {{ 1065 1 0 "56ce4873_9396_4630_a64178a99aa06ab5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1066 1 0 "548ab735_ec75_4739_9ba4b92c54559c9d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_CLLD = 0;
// }} ""
// {{ 1067 1 0 "3e7bf18f_2fc8_48ef_af4f6f90c292b74d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_PLLD = 1;
// }} ""
// {{ 1068 1 0 "56ce4873_9396_4630_a64178a99aa06ab5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1069 1 0 "fa0976f3_8309_4bd9_a838a2e511bb1783" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_MaxVolumes.SetSize(0);
// }} ""
// {{ 1070 1 0 "b0d6f5ad_a681_4b28_8516f779a42c7489" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < int_TotalChannels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 1071 1 0 "319af6de_5342_4542_a2538f7053aa7090" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(i_str_ChPattern, int_ChIndex, int_Value);
// }} ""
// {{ 1072 1 0 "226e2895_ffac_4848_b7c54255f7f78653" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{{ 1073 1 0 "7c6cb074_3540_4251_a90620b247d23410" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::Get_Tip_Volume_1mL(ML_STAR, int_ChIndex, flt_MaxTipVolume, flt_NotUsed);
// }} ""
// {{ 1074 1 0 "60f0edbc_e793_4745_aadb876f9f137df1" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_MaxVolumes.AddAsLast(flt_MaxTipVolume);
// }} ""
// {{ 1075 1 0 "226e2895_ffac_4848_b7c54255f7f78653" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1076 1 0 "d3bee796_8c3b_4b8d_b9bd86f7c2f42f75" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_MaxVolumes.AddAsLast(0.0);
// }} ""
// {{ 1077 1 0 "226e2895_ffac_4848_b7c54255f7f78653" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1078 1 0 "b0d6f5ad_a681_4b28_8516f779a42c7489" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1079 1 0 "13b47da9_fe26_4e04_a3ed9ebb3f90dc3d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1080 1 0 "07375292_9a47_4145_a625bf2d7245670a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FIRMWARE_PIPETTING_COMMANDS::PIPFindLiquidLevel(ML_STAR, i_str_ChPattern, arr_XCoord, arr_YCoord, 245.0, flt_ZMaximumHeight, flt_ZClearanceHeight, flt_ZMinimumHeight, i_bln_UseCLLD, arr_LiquidLevelHeights);
// }} ""
// {{ 1081 1 0 "8ef65cfe_f26f_47c5_ae357b27c0030cae" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1082 1 0 "9ba11ae3_265e_4106_8f96476cf1005713" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidClassParams(i_str_LiquidClass, BOOLEON::TRUE, T_PIP_TOOLS_ASP_FLOW_RATE, T_PIP_TOOLS_ASP_MIX_FLOW_RATE, T_PIP_TOOLS_ASP_AIR_TRANSPORT, T_PIP_TOOLS_ASP_BLOWOUT, T_PIP_TOOLS_ASP_SWAP, T_PIP_TOOLS_ASP_SETTLING, T_PIP_TOOLS_ASP_OVERASPIRATE, T_PIP_TOOLS_ASP_CLOT_RETRACT, flt_NotUsed, flt_NotUsed, T_PIP_TOOLS_MAX_VOLUME, T_PIP_TOOLS_DISPENSE_MODE, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y);
// }} ""
// {{{ 1083 1 0 "2dfbafcd_c28d_4171_92aa589d15d5d7a6" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetLiquidClassParams(i_str_LiquidClass, BOOLEON::FALSE, T_PIP_TOOLS_DISP_FLOW_RATE, T_PIP_TOOLS_DISP_MIX_FLOW_RATE, T_PIP_TOOLS_DISP_AIR_TRANSPORT, T_PIP_TOOLS_DISP_BLOWOUT, T_PIP_TOOLS_DISP_SWAP, T_PIP_TOOLS_DISP_SETTLING, flt_NotUsed, flt_NotUsed, T_PIP_TOOLS_DISP_STOP_FLOW, T_PIP_TOOLS_DISP_STOP_BACK, T_PIP_TOOLS_MAX_VOLUME, T_PIP_TOOLS_DISPENSE_MODE, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y);
// }} ""
// {{ 1084 1 0 "b43824eb_d62a_4e20_aa73ff7136f899bf" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1085 1 0 "5e2ed3f3_ecae_49a7_8c23b475c8da21ed" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_AspirationVolumes.SetSize(0);
// }} ""
// {{ 1086 1 0 "4d06e0c0_2c97_4e54_8a4b0764b1827e5e" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_LiquidFollowingDistances.SetSize(0);
// }} ""
// {{ 1087 1 0 "e0ec6d06_77a6_4776_828c5c956c11eddd" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_DispenseHeights.SetSize(0);
// }} ""
// {{ 1088 1 0 "402c32a6_be16_4ee6_a0df60838392eee8" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_LiquidFollowingDistancesDisp.SetSize(0);
// }} ""
// {{ 1089 1 0 "1ea9f94d_2fd2_47a6_a8348367c141f387" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_AspirationHeights.SetSize(0);
// }} ""
// {{ 1090 1 0 "812ec586_5dbb_4427_902078f4408f567d" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < int_TotalChannels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 1091 1 0 "c5018422_a1f9_404a_b9581c4f4b70159c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(i_str_ChPattern, int_ChIndex, int_Value);
// }} ""
// {{ 1092 1 0 "f1ef507b_813f_4b8d_ab71e6e024ff7e2c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{ 1093 1 0 "a2fca254_6346_44ad_bdf604bcb481c11a" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_Temp.SetCurrentPosition(int_ChIndex);
// }} ""
// {{ 1094 1 0 "448c3bc9_dd51_4747_b4ae317836cf2dcb" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_TempDispense.SetCurrentPosition(int_ChIndex);
// }} ""
// {{{ 1095 1 0 "1f9f999f_a9c7_4e1e_a435f7af1421e085" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(seq_Temp);
// }} ""
// {{{ 1096 1 0 "36282668_0eea_4b95_84be1dd84dc45aec" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(seq_Temp);
// }} ""
// {{{ 1097 1 0 "6562c884_cfde_4cb4_85a55bdabced0e6a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabIDDisp = SeqGetLabwareId(seq_TempDispense);
// }} ""
// {{{ 1098 1 0 "fd772bad_5c14_4e7d_a01b9dd922668832" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosIDDisp = SeqGetPositionId(seq_TempDispense);
// }} ""
// {{{ 1099 1 0 "4ba6a28f_4b89_4ed6_ab43c8950e4fff76" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetContainerConfigurationFile(ML_STAR, str_LabID, str_PosID, str_ContainerConfig);
// }} ""
// {{{ 1100 1 0 "19983a84_9e69_4905_a2ce7f54132c4bc1" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetContainerConfigurationFile(ML_STAR, str_LabIDDisp, str_PosIDDisp, str_ContainerConfigDisp);
// }} ""
// {{ 1101 1 0 "e4f27577_91fa_4dda_b9f7a9681a40bf64" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_TopHeight=arr_LiquidLevelHeights.GetAt(int_ChIndex-1);
// }} ""
// {{ 1102 1 0 "cd0d03bf_6135_40b1_b0e4604757067b99" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_BottomHeightContainer=arr_SecondPhaseHeight.GetAt(int_ChIndex-1);
// }} ""
// {{ 1103 1 0 "1da46b70_9717_4ce7_b0e33478f89e77b5" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_BottomHeightContainer = flt_BottomHeightContainer + i_flt_SafeHeightAbovePhase;
// }} ""
// {{ 1104 1 0 "46bc02f7_d332_45e1_85a57984b8f4d24a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_AspirationHeight = flt_BottomHeightContainer;
// }} ""
// {{ 1105 1 0 "850e3fd1_b77a_47e1_988d2e06848a9b36" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_TopPhaseHeight.SetAt(int_ChIndex-1, flt_AspirationHeight);
// }} ""
// {{ 1106 1 0 "e288b86f_f328_42e9_9900a4dbea67d7fa" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_BottomHeight = flt_BottomHeightContainer + flt_ZBottom;
// }} ""
// {{ 1107 1 0 "5892b01a_20b6_4861_be9e3ff4c5d111ff" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_TopHeightContainer = flt_TopHeight - flt_ZBottom;
// }} ""
// {{ 1108 1 0 "86289320_7e54_4ff6_bea19d384dd7c25b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (G_FW_PIP_COM_SimulationMode == BOOLEON::TRUE)
{
// }} ""
// {{ 1109 1 0 "e0513fe2_02de_4914_95c4221f78b5a684" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_TopHeight = flt_BottomHeight + 3.0;
// }} ""
// {{ 1110 1 0 "8de39c59_9464_4cfa_806e5a5cdad2b2b1" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_TopHeightContainer = flt_TopHeight - flt_ZBottom;
// }} ""
// {{ 1111 1 0 "86289320_7e54_4ff6_bea19d384dd7c25b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1112 1 0 "577674e7_82f6_4547_a28d2bb478c2f7a9" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_LiquidFollowingDistance = flt_TopHeight - flt_BottomHeight;
// }} ""
// {{{ 1113 1 0 "7e9b4011_4b9c_409d_87cffbce34008684" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE12(Translate("    "), Translate("Top Height:  "), flt_TopHeightContainer, Translate("    Bottom Height:  "), flt_BottomHeightContainer, Translate("  Liquid Following Distance:  "), flt_LiquidFollowingDistance, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 1114 1 0 "e69b8e0a_dc61_4bdf_8a645673a8aea8ed" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_LiquidFollowingDistance > 0.0)
{
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{ 1115 1 0 "3ba92ff0_4aa1_4e9e_9470701fe7077d39" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_LiquidFollowingDistance = flt_LiquidFollowingDistance + 1.0;
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 1116 1 0 "e419fed7_8c68_4f61_afd76a84218a6244" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetVolumeBasedOnHeight(str_ContainerConfig, flt_TopHeightContainer, flt_TopVolume);
// }} ""
// {{{ 1117 1 0 "53e14b64_26a9_4376_a16a0f982f352abd" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetVolumeBasedOnHeight(str_ContainerConfig, flt_BottomHeightContainer, flt_BottomVolume);
// }} ""
// {{ 1118 1 0 "8c8a685a_d460_429f_aabc7c603c1739dc" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeToAspirate = flt_TopVolume - flt_BottomVolume;
// }} ""
// {{ 1119 1 0 "4ab94a94_2747_416a_b40d3dcfd20a5d7d" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeToAspirate = flt_VolumeToAspirate + i_flt_AdditionalAspirationVolume;
// }} ""
// {{ 1120 1 0 "939cda3e_45ad_4afc_bf9175045e85405b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_VolumeToAspirate > T_PIP_TOOLS_MAX_VOLUME)
{
// }} ""
// {{ 1121 1 0 "98ce8b77_eb6b_41dc_92df499d1a433545" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeToAspirate = T_PIP_TOOLS_MAX_VOLUME;
// }} ""
// {{ 1122 1 0 "939cda3e_45ad_4afc_bf9175045e85405b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1123 1 0 "e540660d_560e_4db9_b6cf48bbcf22b96b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_VolumeToAspirate < 0.0)
{
// }} ""
// {{ 1124 1 0 "b58c5cac_bc8f_41ce_a08f6245d81aaa90" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeToAspirate = 0.0;
// }} ""
// {{ 1125 1 0 "e540660d_560e_4db9_b6cf48bbcf22b96b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1126 1 0 "d6b2e009_aad0_447e_9046009991e4e62e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE12(Translate("    "), Translate("Top Volume:  "), flt_TopVolume, Translate("    Bottom Volume:  "), flt_BottomVolume, Translate("  Aspiration Volume:  "), flt_VolumeToAspirate, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 1127 1 0 "3442ac4a_c11e_47f8_893b34d90ae6087f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetCorrectedValueForVolume(flt_VolumeToAspirate, T_PIP_TOOLS_ARR_CORRECTION_X, T_PIP_TOOLS_ARR_CORRECTION_Y, flt_VolumeToAspirate);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 1128 1 0 "ef398f92_202b_4532_b2e78c2236065a5b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_VolumeToAspirate > T_PIP_TOOLS_MAX_VOLUME)
{
// }} ""
// {{ 1129 1 0 "d89376ac_323d_49ab_bd8df80e6b52b46c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_VolumeToAspirate = T_PIP_TOOLS_MAX_VOLUME;
// }} ""
// {{ 1130 1 0 "ef398f92_202b_4532_b2e78c2236065a5b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1131 1 0 "8bfcfa92_c2d1_4720_841599cf70656764" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_AspirationVolumes.AddAsLast(flt_VolumeToAspirate);
// }} ""
// {{ 1132 1 0 "e69b8e0a_dc61_4bdf_8a645673a8aea8ed" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1133 1 0 "35662893_25b8_4217_ad84c8dd16f81407" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_AspirationVolumes.AddAsLast(0.0);
// }} ""
// {{ 1134 1 0 "e69b8e0a_dc61_4bdf_8a645673a8aea8ed" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1135 1 0 "4f0b47a1_8ae9_4e00_a5a9e373646482b6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_BottomHeightContainer < 0.0)
{
// }} ""
// {{ 1136 1 0 "3d67e97f_767f_4b34_8a413cfa5993a296" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_BottomHeightContainer = 0.0;
// }} ""
// {{ 1137 1 0 "4f0b47a1_8ae9_4e00_a5a9e373646482b6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1138 1 0 "0d01424c_ac75_4ab6_8f7f3ef7895c232b" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_AspirationHeights.AddAsLast(flt_BottomHeightContainer);
// }} ""
// {{ 1139 1 0 "f1ef507b_813f_4b8d_ab71e6e024ff7e2c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1140 1 0 "9a0e61b0_c154_4738_be9bf00b0408d39b" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_AspirationVolumes.AddAsLast(0.0);
// }} ""
// {{ 1141 1 0 "1b0f4857_796a_43f4_91251ce563c39673" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_AspirationHeights.AddAsLast(0.0);
// }} ""
// {{ 1142 1 0 "f1ef507b_813f_4b8d_ab71e6e024ff7e2c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1143 1 0 "2b5bbf17_e032_44e6_9fece51aa27c3d47" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_LiquidFollowingDistances.AddAsLast(0.0);
// }} ""
// {{ 1144 1 0 "543eb39e_d230_43fc_aae91d22e31d1886" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_LiquidFollowingDistancesDisp.AddAsLast(0.0);
// }} ""
// {{ 1145 1 0 "812ec586_5dbb_4427_902078f4408f567d" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1146 1 0 "24da894a_ed11_4f22_bc079c85f4f82960" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_Temp.SetCurrentPosition(1);
// }} ""
// {{ 1147 1 0 "1706e8ae_6592_42c0_a183707c3d4eb0ce" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_TempDispense.SetCurrentPosition(1);
// }} ""
// {{{ 1148 1 0 "66e1be32_c9d8_470c_8741c06d84ddb67d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("Aspiration Volumes"), arr_AspirationVolumes);
// }} ""
// {{{ 1149 1 0 "ed7d3927_df1d_4944_92ac2976518cbec2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("Aspiration Heights"), arr_AspirationHeights);
// }} ""
// {{{ 1150 1 0 "f7f3c0f9_d137_40b1_a651adb78b6e8346" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_Temp, 1, Translate(""));
// }} ""
// {{ 1151 1 0 "e95f6a40_4967_4e15_8d06a6ea257efe3b" "ML_STAR:{541143F5-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143F5_7FA2_11D3_AD85_0004ACB1DCB2("e95f6a40_4967_4e15_8d06a6ea257efe3b"); // Aspirate
	str_AspReturn = arrRetValues[2];
}
// }} ""
// {{{ 1152 1 0 "0b0f7bf7_1f43_46ae_915fedce9dc7401f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_Temp, 4, Translate(""));
// }} ""
// {{{ 1153 1 0 "613d575f_3d42_41c1_b96b00801eba7bac" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_TempDispense, 1, Translate(""));
// }} ""
// {{{ 1154 1 0 "97851070_26c7_48e7_b6c00ac355bc2b4d" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetPartialChannelPatternForRepeatingPositions(ML_STAR, i_str_ChPattern, seq_TempDispense, int_DispenseLoops, arr_DispenseChPatterns);
// }} ""
// {{ 1155 1 0 "48ae2c95_4f0a_476b_97e7bedddde38e5f" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_DispenseCount = 0; int_DispenseCount < int_DispenseLoops;)
{
int_DispenseCount = int_DispenseCount + 1;
// }} ""
// {{{ 1156 1 0 "3f2890e1_2913_48c4_83ee706f5aaa29f2" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetVolumesInPositions(ML_STAR, seq_TempDispense, arr_CurrentDestVolumes);
// }} ""
// {{ 1157 1 0 "6c41ca03_6ed1_4b0c_be8468d961ee9418" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_DispenseHeights.SetSize(0);
// }} ""
// {{ 1158 1 0 "a58e905f_c9f9_4c28_902de3a823654a50" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
str_CurrentDispChPattern=arr_DispenseChPatterns.GetAt(int_DispenseCount-1);
// }} ""
// {{{ 1159 1 0 "d8665bbb_584f_4521_9545616213b27a81" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(str_CurrentDispChPattern, Translate(""));
// }} ""
// {{ 1160 1 0 "3155438d_2bfb_4752_a7b799d35df4d04b" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < G_FW_PIP_COM_TotalChannels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 1161 1 0 "7c3c072f_9ba0_4a90_ac3213a77fc4b23d" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(str_CurrentDispChPattern, int_ChIndex, int_Value);
// }} ""
// {{ 1162 1 0 "29b24462_21d2_4e11_924214c035cc2f1b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{ 1163 1 0 "c314b609_813a_4b3c_b2217e4fe489af03" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_TempDispense.SetCurrentPosition(int_ChIndex);
// }} ""
// {{ 1164 1 0 "6f4b43ec_2c49_4c0f_8dbceb27c60ce9b1" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_CurrentVolume=arr_CurrentDestVolumes.GetAt(int_ChIndex-1);
// }} ""
// {{ 1165 1 0 "afa09de3_afb9_4841_9fbd60fe96b34ddd" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_VolumeAspirated=arr_AspirationVolumes.GetAt(int_ChIndex-1);
// }} ""
// {{ 1166 1 0 "ee0f0a26_5bfc_42ee_956e727e456b2c52" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_NewVolume = flt_CurrentVolume + flt_VolumeAspirated;
// }} ""
// {{{ 1167 1 0 "9f4741c1_eb2b_45de_be201a4bc7f948c4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE08(Translate("    "), Translate("Current Volume in well:  "), flt_CurrentVolume, Translate("     Volume aspirated:  "), flt_VolumeAspirated, Translate("    Added Volume"), flt_NewVolume, Translate(""));
// }} ""
// {{{ 1168 1 0 "869b05b8_dd7e_4109_b67d1423e25e42ca" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(seq_TempDispense);
// }} ""
// {{{ 1169 1 0 "49e46001_d2c3_433c_a138974c8c6bdfab" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(seq_TempDispense);
// }} ""
// {{{ 1170 1 0 "f61c8fef_b332_4a6a_b567fe91be7b7ab5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(seq_VolumeUpdateSequence);
// }} ""
// {{{ 1171 1 0 "0f6d6133_4b29_4d40_8261dad0aa555f4a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(seq_VolumeUpdateSequence, str_LabID, str_PosID);
// }} ""
// {{ 1172 1 0 "c23e284f_3807_4500_be75c2f7eb31f7fd" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_VolumeUpdateSequence.SetCurrentPosition(1);
// }} ""
// {{{ 1173 1 0 "7eaea50f_0dcc_4dd7_a2f11cacd9cd7b28" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLLabwState::SetLabwareVolume(ML_STAR, seq_VolumeUpdateSequence, flt_NewVolume);
// }} ""
// {{{ 1174 1 0 "54988835_c38d_43f4_95ce41ce589b75a4" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetHeightBasedOnVolume(str_ContainerConfigDisp, flt_CurrentVolume, flt_CurrentHeight);
// }} ""
// {{ 1175 1 0 "ebc7817c_ec82_49ad_9b2228281f01dc4f" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_DispenseHeight = flt_CurrentHeight - i_flt_SubmergeHeight;
// }} ""
// {{ 1176 1 0 "b23600cb_6887_46a0_93722e410cc46c67" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_DispenseHeight <= 0.0)
{
// }} ""
// {{ 1177 1 0 "9abf5c37_919a_4c5b_866424bb7458b329" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_DispenseHeight = 2.0;
// }} ""
// {{ 1178 1 0 "b23600cb_6887_46a0_93722e410cc46c67" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1179 1 0 "ceac566f_833f_4da8_be0005be42af8092" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_DispenseHeights.AddAsLast(flt_DispenseHeight);
// }} ""
// {{ 1180 1 0 "29b24462_21d2_4e11_924214c035cc2f1b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1181 1 0 "73780b74_5776_4f9b_bb8e89c5b8273a55" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_DispenseHeights.AddAsLast(0.0);
// }} ""
// {{ 1182 1 0 "29b24462_21d2_4e11_924214c035cc2f1b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1183 1 0 "3155438d_2bfb_4752_a7b799d35df4d04b" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1184 1 0 "19a0df95_85db_42d2_bac59bd65150507a" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_TempDispense.SetCurrentPosition(1);
// }} ""
// {{{ 1185 1 0 "5ddf81a3_53dd_4140_915319c207d5caef" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("Dispense Heights"), arr_DispenseHeights);
// }} ""
// {{ 1186 1 0 "6cac4653_4169_4fed_b638d2a58446569c" "ML_STAR:{541143F8-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143F8_7FA2_11D3_AD85_0004ACB1DCB2("6cac4653_4169_4fed_b638d2a58446569c"); // Dispense
	str_DispReturn = arrRetValues[2];
}
// }} ""
// {{ 1187 1 0 "927121f6_67d5_43a9_b190916df04eb8e6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (ret_strAllPipettingReturn != "")
{
// }} ""
// {{{ 1188 1 0 "9d01cffa_fe85_47ad_91f2d8cbfe84149a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ret_strAllPipettingReturn = StrConcat2(ret_strAllPipettingReturn, Translate("*"));
// }} ""
// {{ 1189 1 0 "927121f6_67d5_43a9_b190916df04eb8e6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1190 1 0 "6818edd4_94bb_455d_95507691e69bc63a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ret_strAllPipettingReturn = StrConcat4(ret_strAllPipettingReturn, str_AspReturn, Translate("&"), str_DispReturn);
// }} ""
// {{ 1191 1 0 "48ae2c95_4f0a_476b_97e7bedddde38e5f" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 1192 1 0 "8266ab9a_32ea_4e49_9d8ac320c874d307" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, seq_TempDispense, 4, Translate(""));
// }} ""
// {{{ 1193 1 0 "28fe1bb7_caf2_4e20_b0782c4b769e1f46" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("Top Phase Liquid Levels"), arr_TopPhaseHeight);
// }} ""
// {{{ 1194 1 0 "87ac8d1b_3cee_4304_9a15551ba58bf38c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_SetHeightInfoToLabware(ML_STAR, BOOLEON::TRUE, seq_Temp, arr_TopPhaseHeight);
// }} ""
// {{ 1195 1 0 "df30807a_ac75_41a8_9a8c8d997462a794" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1196 1 0 "70edd322_4dcd_4cb1_acd01d906fa65a4c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::SUBMETHOD_BLOCK(_strFunctionName, BOOLEON::FALSE, BOOLEON::TRUE);
// }} ""
// {{ 1197 1 0 "df30807a_ac75_41a8_9a8c8d997462a794" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1198 1 0 "b753e03d_43b0_42c2_b391458fafd03da0" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_strAllPipettingReturn);
// }} ""
// {{{ 5 "PIP_PhaseAspirationRemainder" "End"
}
// }} ""
// {{{ 5 "_GetVolumesInPositions" "Begin"
private function _GetVolumesInPositions( device & ML_STAR, sequence i_seqPositionsToGetVolume, variable & o_arrCurrentVolumes[] ) void {
// }} ""
private variable int_PosIndex;
private variable int_TotalPositions;
private variable int_ChIndex;
private variable bln_LabwareValid;
private variable str_LabID;
private variable flt_Volume;
private variable int_LabwareID;
private variable int_DeckID;
// {{ 5 "_GetVolumesInPositions" "InitLocals"
o_arrCurrentVolumes.SetSize( 0);
// }} ""
// {{ 2545 1 0 "f90323d9_89de_40e0_af7ce986f9f62713" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arrCurrentVolumes.SetSize(0);
// }} ""
// {{ 2546 1 0 "4136b4ca_8ae3_41f6_8249a31a87c80b36" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < G_FW_PIP_COM_TotalChannels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{ 2547 1 0 "048cceac_758b_4c31_b43ab2cd4c926bda" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arrCurrentVolumes.AddAsLast(0.0);
// }} ""
// {{ 2548 1 0 "4136b4ca_8ae3_41f6_8249a31a87c80b36" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 2549 1 0 "5ed97117_df04_442e_8f008b9ede52e79d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalPositions = SeqGetTotal(i_seqPositionsToGetVolume);
// }} ""
// {{ 2550 1 0 "4b74256d_b924_4d19_9091f31dc26ef70f" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_PosIndex = 0; int_PosIndex < int_TotalPositions;)
{
int_PosIndex = int_PosIndex + 1;
// }} ""
// {{ 2551 1 0 "e981d768_a89e_4a45_8e1ae79947da03bc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_PosIndex > G_FW_PIP_COM_TotalChannels)
{
// }} ""
// {{ 2552 1 0 "0f583c2f_26e0_4e95_ab5d8a02ed928276" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 2553 1 0 "e981d768_a89e_4a45_8e1ae79947da03bc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2554 1 0 "503d04bb_6eff_4b9d_947420b8eb72dd1e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_Volume = 0.0;
// }} ""
// {{{ 2555 1 0 "2a565417_e237_42a7_bd8b69b5eb6b0eb3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(i_seqPositionsToGetVolume);
// }} ""
// {{{ 2556 1 0 "6d062f8c_a7aa_4747_b1921cc19e882fea" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bln_LabwareValid = DevIsValidLabwareForCurrentDeckLayout(ML_STAR, str_LabID);
// }} ""
// {{ 2557 1 0 "1bda88f4_a2a5_44bf_8209407ead3af5d2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_LabwareValid == BOOLEON::TRUE)
{
// }} ""
// {{{ 2558 1 0 "724b1f06_b659_4fde_9d734cb56553175f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_DeckID = VectorDb_Deck::GetDeckID2(ML_STAR);
// }} ""
// {{{ 2559 1 0 "80ed6cc4_793b_418f_a0809572e6de2e76" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_LabwareID = VectorDb_Labware::IsLabwareLoadedByLabwareId(int_DeckID, str_LabID);
// }} ""
// {{ 2560 1 0 "d3240b73_e030_4595_b543fb95d9e6e656" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_LabwareID == 0)
{
// }} ""
// {{{ 2561 1 0 "ad712407_23b8_4d6d_839f1be77afd40d6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorDb_Labware::LoadLabware(ML_STAR, str_LabID, Translate(""));
// }} ""
// {{ 2562 1 0 "d3240b73_e030_4595_b543fb95d9e6e656" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2563 1 0 "550b9924_2690_48d8_8b18b8d98947049a" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
onerror goto errLabel_1548B09395E14b06998631567F25A1CB ;
err.Clear();
// }} ""
// {{{ 2564 1 0 "1f10e65b_ab73_45fb_8708023e99352199" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_Volume = HSLLabwState::GetLabwareVolume(ML_STAR, i_seqPositionsToGetVolume);
// }} ""
// {{ 2565 1 0 "550b9924_2690_48d8_8b18b8d98947049a" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
errLabel_1548B09395E14b06998631567F25A1CB : {}
onerror goto 0;
if (err.GetId() != 0)   /* skip handler if no error */
{
// }} ""
// {{ 2566 1 0 "52aa6c27_d52d_4769_adf4b48216a63096" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_Volume = 0.0;
// }} ""
// {{ 2567 1 0 "550b9924_2690_48d8_8b18b8d98947049a" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
}   /* end if from skip handler if no error */
// }} ""
// {{ 2568 1 0 "1bda88f4_a2a5_44bf_8209407ead3af5d2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2569 1 0 "89628961_e0dd_44da_bd90dc629f90454d" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arrCurrentVolumes.SetAt(int_PosIndex-1, flt_Volume);
// }} ""
// {{{ 2570 1 0 "02b254c4_2b7c_4552_9e4dd08afa08349d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqIncrement(i_seqPositionsToGetVolume, 1);
// }} ""
// {{ 2571 1 0 "4b74256d_b924_4d19_9091f31dc26ef70f" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 5 "_GetVolumesInPositions" "End"
}
// }} ""
// {{{ 5 "_GetPartialChannelPatternForRepeatingPositions" "Begin"
private function _GetPartialChannelPatternForRepeatingPositions( device & ML_STAR, variable i_strChPattern, sequence i_seqPositions, variable & o_intLoopNumber, variable & o_arrChannelPatterns[] ) void {
// }} ""
private variable flt_CurrentX;
private variable flt_CurrentY;
private variable flt_PositionA;
private variable str_LabID;
private variable str_CurrentChPattern;
private variable flt_PositionX;
private variable flt_PositionY;
private variable flt_PositionZ;
private variable str_PosID;
private variable int_Value;
private variable int_ChIndex;
private variable flt_YOffsetDistance;
private variable int_BackFill;
private variable bln_LabwareValid;
// {{ 5 "_GetPartialChannelPatternForRepeatingPositions" "InitLocals"
o_intLoopNumber = 0;
o_arrChannelPatterns.SetSize( 0);
// }} ""
// {{ 2369 1 0 "8525493e_1eb2_492e_964a9341e1282a88" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_intLoopNumber = 0;
// }} ""
// {{ 2370 1 0 "46ce8513_1420_4e7a_acec02dc9512cc5c" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arrChannelPatterns.SetSize(0);
// }} ""
// {{{ 2371 1 0 "025b4083_2d3e_435a_b2de73f6bf42f3e8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_strChPattern = StrFillRight(i_strChPattern, Translate("0"), G_FW_PIP_COM_TotalChannels);
// }} ""
// {{ 2372 1 0 "7e99c21a_d10d_4eed_94ad1951ce6137be" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentX = 0.0;
// }} ""
// {{ 2373 1 0 "8f3f5a26_facd_4e49_8d80a2b50a328898" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentY = 99999.9;
// }} ""
// {{ 2374 1 0 "e8549661_937f_4839_a0545b0744f6bb66" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_CurrentChPattern = Translate("");
// }} ""
// {{ 2375 1 0 "ec608ab8_3898_4a6a_a85b6e3fb81e7fbe" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < G_FW_PIP_COM_TotalChannels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 2376 1 0 "a5de3155_bfae_4c65_96eecc2ebba4b213" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(i_seqPositions);
// }} ""
// {{{ 2377 1 0 "6342a1a1_0a6b_42a7_8fabb59b743d0da8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(i_seqPositions);
// }} ""
// {{{ 2378 1 0 "2b87bcf5_d7b0_4a3c_b603ff0d357da58b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqIncrement(i_seqPositions, 1);
// }} ""
// {{{ 2379 1 0 "89ad8ae7_00b1_41e8_9706888a9223f5c9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bln_LabwareValid = DevIsValidLabwareForCurrentDeckLayout(ML_STAR, str_LabID);
// }} ""
// {{ 2380 1 0 "b3b0e993_cf76_4b31_83357c4fb7ffc752" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_LabwareValid == BOOLEON::TRUE)
{
// }} ""
// {{{ 2381 1 0 "f7bf59b5_f4bb_4821_8b7e82d111b7ca40" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, str_LabID, str_PosID, flt_PositionX, flt_PositionY, flt_PositionZ, flt_PositionA);
// }} ""
// {{{ 2382 1 0 "2df15a23_a47f_4a6f_91558f7e394e9315" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_GetChannelPatternValue(i_strChPattern, int_ChIndex, int_Value);
// }} ""
// {{ 2383 1 0 "b3b0e993_cf76_4b31_83357c4fb7ffc752" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 2384 1 0 "18abe16e_0423_42e5_a85543325d98bd0c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_Value = 0;
// }} ""
// {{ 2385 1 0 "b3b0e993_cf76_4b31_83357c4fb7ffc752" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2386 1 0 "8cd48754_8a8f_444c_87dc8b76c548e132" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_CurrentX == 0.0)
{
// }} ""
// {{ 2387 1 0 "b4911283_9b04_42c3_a2ea46e6d9c60749" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{ 2388 1 0 "b5e10ebb_fc66_4eed_bdc7794b6b4d8cfa" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentX = flt_PositionX;
// }} ""
// {{ 2389 1 0 "676c91cd_e185_491c_b0ec7f5235759329" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentY = flt_PositionY;
// }} ""
// {{ 2390 1 0 "b4911283_9b04_42c3_a2ea46e6d9c60749" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2391 1 0 "84a814f7_5e53_4ede_ae301a384ef471bd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_CurrentChPattern = StrConcat2(str_CurrentChPattern, int_Value);
// }} ""
// {{{ 2392 1 0 "45f48d9b_28ac_4fb1_978ef709b1010b62" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACE::TRACE02(Translate("Ch pattern Set 1:  "), str_CurrentChPattern);
// }} ""
// {{ 2393 1 0 "8cd48754_8a8f_444c_87dc8b76c548e132" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 2394 1 0 "2c5bcd9b_926d_4448_9d3d9b778c89df3c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Value == 1)
{
// }} ""
// {{ 2395 1 0 "9a52dacd_105f_4c2c_b6a2c10e2ceda205" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_PositionX != flt_CurrentX)
{
// }} ""
// {{{ 2396 1 0 "22844b98_a48a_4fe6_a9777d3c802116c6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_CurrentChPattern = StrFillRight(str_CurrentChPattern, Translate("0"), G_FW_PIP_COM_TotalChannels);
// }} ""
// {{ 2397 1 0 "d6e3e487_03c4_48d9_a1b39c258d13dc62" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arrChannelPatterns.AddAsLast(str_CurrentChPattern);
// }} ""
// {{ 2398 1 0 "8ccf1b6a_bd4e_4ee0_8ca621129b442e40" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentX = flt_PositionX;
// }} ""
// {{ 2399 1 0 "d56cbdd3_bdc0_4272_8a2540c7808f0a24" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_CurrentChPattern = Translate("");
// }} ""
// {{ 2400 1 0 "842d5431_b6e1_4ce3_858732bc60fa9562" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_BackFill = int_ChIndex - 1;
// }} ""
// {{ 2401 1 0 "59e2151f_71a0_417a_a4beb9b96a0b4432" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_BackFill > 0)
{
// }} ""
// {{{ 2402 1 0 "ba88e90c_c953_48ab_bd7009963fd9d3b2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_CurrentChPattern = StrFillRight(str_CurrentChPattern, Translate("0"), int_BackFill);
// }} ""
// {{ 2403 1 0 "59e2151f_71a0_417a_a4beb9b96a0b4432" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2404 1 0 "88747fea_0bb3_419b_aa507595f9a3a0b4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_CurrentChPattern = StrConcat2(str_CurrentChPattern, int_Value);
// }} ""
// {{ 2405 1 0 "9a52dacd_105f_4c2c_b6a2c10e2ceda205" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 2406 1 0 "0c243dab_bf78_436a_867acfb1d42e5898" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_YOffsetDistance = flt_CurrentY - flt_PositionY;
// }} ""
// {{ 2407 1 0 "732ecf4d_5905_42ad_87aa34e36157e7cd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_YOffsetDistance < G_FW_PIP_COM_Raster)
{
// }} ""
// {{{ 2408 1 0 "b864f6a8_3e3b_4e43_beb0522c04928700" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_CurrentChPattern = StrFillRight(str_CurrentChPattern, Translate("0"), G_FW_PIP_COM_TotalChannels);
// }} ""
// {{ 2409 1 0 "cc446f2e_999e_4b0d_8c0b8c3b41a637bc" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arrChannelPatterns.AddAsLast(str_CurrentChPattern);
// }} ""
// {{ 2410 1 0 "0d5d0b59_15e2_40c5_999cbe0c4de6dc2d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentY = flt_PositionY;
// }} ""
// {{ 2411 1 0 "c79dbf26_be54_441f_991b148eeb05dafd" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_CurrentChPattern = Translate("");
// }} ""
// {{ 2412 1 0 "f23b7136_0cd6_4dfb_882dd87655ba3571" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_BackFill = int_ChIndex - 1;
// }} ""
// {{ 2413 1 0 "cacc7333_c959_42fe_9bb4b9a16a440e70" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_BackFill > 0)
{
// }} ""
// {{{ 2414 1 0 "ed03dbf8_07e2_4b21_90b7580a7540705f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_CurrentChPattern = StrFillRight(str_CurrentChPattern, Translate("0"), int_BackFill);
// }} ""
// {{ 2415 1 0 "cacc7333_c959_42fe_9bb4b9a16a440e70" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 2416 1 0 "729ee505_4927_41ab_a19ddb4513f66306" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_CurrentChPattern = StrConcat2(str_CurrentChPattern, int_Value);
// }} ""
// {{ 2417 1 0 "732ecf4d_5905_42ad_87aa34e36157e7cd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 2418 1 0 "7eaf7e41_67bb_4338_afaf5790de631c9f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentY = flt_PositionY;
// }} ""
// {{{ 2419 1 0 "26fba6a3_f8da_45d0_a0140943d20cb872" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_CurrentChPattern = StrConcat2(str_CurrentChPattern, int_Value);
// }} ""
// {{ 2420 1 0 "732ecf4d_5905_42ad_87aa34e36157e7cd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2421 1 0 "9a52dacd_105f_4c2c_b6a2c10e2ceda205" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2422 1 0 "2c5bcd9b_926d_4448_9d3d9b778c89df3c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 2423 1 0 "88c1fba5_17d1_4b54_889dd2af25c0525b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_CurrentY = flt_CurrentY - G_FW_PIP_COM_Raster;
// }} ""
// {{{ 2424 1 0 "a839b91a_4efe_43e2_a9b3646fd6c44f57" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_CurrentChPattern = StrConcat2(str_CurrentChPattern, int_Value);
// }} ""
// {{ 2425 1 0 "2c5bcd9b_926d_4448_9d3d9b778c89df3c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2426 1 0 "8cd48754_8a8f_444c_87dc8b76c548e132" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2427 1 0 "fce15511_6593_4149_a9e33d8050c163ce" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ChIndex == G_FW_PIP_COM_TotalChannels)
{
// }} ""
// {{ 2428 1 0 "e7600dc0_fb51_464a_9a82caf58ad914dd" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arrChannelPatterns.AddAsLast(str_CurrentChPattern);
// }} ""
// {{ 2429 1 0 "fce15511_6593_4149_a9e33d8050c163ce" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2430 1 0 "ec608ab8_3898_4a6a_a85b6e3fb81e7fbe" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 2431 1 0 "49453f5f_0406_4657_b59de8995e7af79d" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
o_intLoopNumber=o_arrChannelPatterns.GetSize();
// }} ""
// {{{ 2432 1 0 "b4c292e7_99b1_43d0_bf6a9588399d8eed" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("Channel Patterns"), o_arrChannelPatterns);
// }} ""
// {{{ 5 "_GetPartialChannelPatternForRepeatingPositions" "End"
}
// }} ""
// {{{ 5 "TOOL_OffsetArrayForChannels" "Begin"
function TOOL_OffsetArrayForChannels( device & ML_STAR, variable i_flt_ValueToOffset, variable & io_arr_Values[] ) void {
// }} ""
private variable i;
private variable flt_AdjustedValue;
private variable flt_CurrentValue;
private variable int_TotalPositions;
// {{ 5 "TOOL_OffsetArrayForChannels" "InitLocals"
// }} ""
// {{{ 1659 1 0 "1052edf1_bd96_4699_8e36db19cd50edcf" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 1660 1 0 "77a8dbe4_4cae_4c00_bd462384b00f7cf4" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
int_TotalPositions=io_arr_Values.GetSize();
// }} ""
// {{ 1661 1 0 "a1c4d860_0219_4dcb_b5ad8c5d9eab3e28" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(i = 0; i < int_TotalPositions;)
{
i = i + 1;
// }} ""
// {{ 1662 1 0 "ebd4b858_d527_4760_ad1abea49c969ff0" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_CurrentValue=io_arr_Values.GetAt(i-1);
// }} ""
// {{ 1663 1 0 "9967f604_baca_45c0_ac0ad33a984a5a29" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_AdjustedValue = flt_CurrentValue + i_flt_ValueToOffset;
// }} ""
// {{ 1664 1 0 "b1b8acb1_003a_46b3_b799213c46a4b3a4" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
io_arr_Values.SetAt(i-1, flt_AdjustedValue);
// }} ""
// {{ 1665 1 0 "a1c4d860_0219_4dcb_b5ad8c5d9eab3e28" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 5 "TOOL_OffsetArrayForChannels" "End"
}
// }} ""
/* {{ 2 "SubmethodInsertLine" "" */ // }} ""
// {{{ 2 "LibraryNamespace" "End"
} // library namespace
// }} ""
// $$author=Bare_B$$valid=0$$time=2021-12-09 11:07$$checksum=353a0a66$$length=085$$