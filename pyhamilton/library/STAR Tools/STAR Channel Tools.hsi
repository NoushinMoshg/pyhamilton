// {{{ 2 "IncludeGuard" "PragmaOnce"
#pragma once
// }} ""
#include "STAR Tools\\Resources\\SubMethods\\Plate Stack Verify.hs_"
#include "HSLFilLib.hsl"
#include "HSLStrLib.hsl"
#include "HSLExtensions\\File.hsl"
#include "HSLSeqLib.hsl"
#include "HSLDevLib.hsl"
#include "HSLUtilLib2.hsl"
#include "STAR Tools\\Resources\\SubMethods\\Split_Wells.hs_"
#include "STAR Tools\\Resources\\SubMethods\\CHANNEL_TOOLS_GLOBAL.hsl"
#include "HSLErrLib.hsl"
#include "STAR Tools\\Resources\\SubMethods\\HelperLibrary.hs_"
#include "SMTs\\lookup.hs_"
#include "STAR Tools\\Resources\\SubMethods\\Liquid Level Check.hs_"
#include "HSLTrcLib.hsl"
#include "HSLExtensions\\Array.hsl"
#include "STAR Tools\\Resources\\SubMethods\\Travel Lanes.hs_"
#include "HSLMlStarStepReturnLib.hsl"
#include "Labware Properties\\Labware_Property_Query.hs_"
#include "HSLMthLib.hsl"
#include "HSLUtilLib.hsl"
#include "STAR Tools\\Resources\\SubMethods\\FW_HelperLibrary.hs_"
#include "STAR Tools\\Resources\\SubMethods\\STAR Channel Movement Tools.hs_"
#include "STAR Tools\\Resources\\SubMethods\\VANTAGE Channel Movement Tools.hs_"
#include "HSL_MethodHelper.hsl"
/* {{ 2 "LibraryInsertLine" "" */ // }} ""
// {{ 2 "TemplateIncludeBlock" ""
#include "HSLMETEDLib.hs_"
#include "HSLMECCLib.hs_"
#include "HSLPTLLib.hsl"
// }} ""
// {{{ 2 "LibraryNamespace" "Begin"
namespace STAR_CHANNEL_TOOLS {
// }} ""
/* {{ 2 "VariableInsertLine" "" */ // }} ""
// {{{ 2 "SubmethodForwardDeclaration" ""
private function Abstract(  ) void ;
function CHAN_ACCESS_Sort1Sequence( device & ML_STAR, sequence & io_Sequence_to_Sort, variable i_Channel_Type, variable i_Sort_by_Labware, variable i_Sort_by_XY, variable i_Sort_for_Channel_Raster, variable i_Max_Channel, sequence & o_Sorted_Sequence, variable & o_Channel_Pattern ) variable ;
function CHAN_ACCESS_Sort1Sequence1Array( device & ML_STAR, sequence & io_Sequence_to_Sort, variable & io_Array_of_Variables[], variable i_Channel_Type, variable i_Sort_by_Labware, variable i_Sort_by_XY, variable i_Sort_for_Channel_Raster, variable i_Max_Channel, sequence & o_Sorted_Sequence, variable & o_Sorted_Array[], variable & o_Channel_Pattern ) variable ;
function CHAN_ACCESS_Sort1Sequence2Arrays( device & ML_STAR, sequence & io_Sequence_to_Sort, variable & io_Array_of_Variables[], variable & io_Array_of_Variables2[], variable i_Channel_Type, variable i_Sort_by_Labware, variable i_Sort_by_XY, variable i_Sort_for_Channel_Raster, variable i_Max_Channel, sequence & o_Sorted_Sequence, variable & o_Sorted_Array[], variable & o_Sorted_Array2[], variable & o_Channel_Pattern ) variable ;
function CHAN_ACCESS_Sort2Sequences( device & ML_STAR, sequence & io_Sequence_to_Sort, sequence & io_Sequence_to_Sort2, variable i_Channel_Type, variable i_Sort_by_Labware, variable i_Sort_by_XY, variable i_Sort_for_Channel_Raster, variable i_Max_Channel, sequence & o_Sorted_Sequence, sequence & o_Sorted_Sequence2, variable & o_Channel_Pattern ) variable ;
function CHAN_ACCESS_Sort2Sequences1Array( device & ML_STAR, sequence & io_Sequence_to_Sort, sequence & io_Sequence_to_Sort2, variable & io_Array_of_Variables[], variable i_Channel_Type, variable i_Sort_by_Labware, variable i_Sort_by_XY, variable i_Sort_for_Channel_Raster, variable i_Max_Channel, sequence & o_Sorted_Sequence, sequence & o_Sorted_Sequence2, variable & o_Sorted_Array[], variable & o_Channel_Pattern ) variable ;
function CHAN_ACCESS_Sort2Sequences2Arrays( device & ML_STAR, sequence & io_Sequence_to_Sort, sequence & io_Sequence_to_Sort2, variable & io_Array_of_Variables[], variable & io_Array_of_Variables2[], variable i_Channel_Type, variable i_Sort_by_Labware, variable i_Sort_by_XY, variable i_Sort_for_Channel_Raster, variable i_Max_Channel, sequence & o_Sorted_Sequence, sequence & o_Sorted_Sequence2, variable & o_Sorted_Array[], variable & o_Sorted_Array2[], variable & o_Channel_Pattern ) variable ;
function LIQUID_LEVEL_GetLiquidLevelHeight( device & ML_STAR, variable i_str_LiquidLevelReturn, sequence i_seq_Labware, variable i_int_Channel, variable & o_flt_LiquidHeight ) void ;
function LIQUID_LEVEL_MeasureLiquidMulti( device & ML_STAR, sequence & i_arrseq_FullReservoirSequences[], sequence & i_seq_TipsToUse, sequence i_seq_TipWaste, variable i_str_TipCounter, variable i_int_LLD_Sensitivity, variable i_bool_ConvertTouL, variable & o_arr_VolumesMeasured[] ) variable ;
function LIQUID_LEVEL_MeasureLiquidSingle( device & ML_STAR, sequence i_seq_FullReservoirSequence, sequence & i_seq_TipsToUse, sequence i_seq_TipWaste, variable i_str_TipCounter, variable i_bool_IncrementTipSequence, variable i_int_LLD_Sensitivity, variable i_bool_ConvertTouL, variable & o_flt_VolumeMeasured ) variable ;
function LIQUID_LEVEL_ReturnVolumesFromLiquidLevel( device & ML_STAR, variable i_str_PipettingReturn, variable i_str_LiquidLevelReturn, variable i_bool_ConvertTouL, variable & o_arr_VolumesMeasured[] ) void ;
function MOVE_ChannelsToSequencePosition( device & ML_STAR, variable i_str_ChPattern, sequence i_seq_Positions, variable i_flt_ZHeight ) void ;
function MOVE_ChannelsToSequencePosition_5mL( device & ML_STAR, variable i_str_ChPattern, sequence i_seq_Positions, variable i_flt_ZHeight ) void ;
function MOVE_CheckPlateWithTwoChannels( device & ML_STAR, variable i_int_FrontMostChannel, sequence i_seq_PlateToCheck, variable i_flt_TapWidth ) variable ;
function MOVE_InitDispenseDrive( device & ML_STAR, variable i_int_ChNumber ) void ;
function MOVE_InitDispenseDrive_5mL( device & ML_STAR, variable i_int_ChNumber ) void ;
function PLATE_STACK_CountPlateStacks( device & ML_STAR, sequence i_seq_PlateStack_Full, sequence & o_seq_PlateStack_Count, variable & o_int_PlateCount ) void ;
function QUERY_GetChannelPosition( device & ML_STAR, variable i_int_ChNumber, variable & o_flt_XCoord, variable & o_flt_YCoord, variable & o_flt_ZCoord ) void ;
function QUERY_GetChannelPosition_5mL( device & ML_STAR, variable i_int_ChNumber, variable & o_flt_XCoord, variable & o_flt_YCoord, variable & o_flt_ZCoord ) void ;
function QUERY_GetTipPresentState( device & ML_STAR, variable i_int_ChNumber, variable & o_bln_TipPresent ) void ;
function QUERY_GetTipPresentState_5mL( device & ML_STAR, variable i_int_ChNumber, variable & o_bln_TipPresent ) void ;
function QUERY_GetTipVolume( device & ML_STAR, variable i_int_ChNumber, variable & o_flt_MaxVolume, variable & o_flt_CurrentChannelVolume ) void ;
function QUERY_GetTipVolume_5mL( device & ML_STAR, variable i_int_ChNumber, variable & o_flt_MaxVolume, variable & o_flt_CurrentChannelVolume ) void ;
function SPLIT_WELLS_AddContainersToWell( device & ML_STAR, sequence i_seq_SequenceToSplit, variable i_int_SequenceIndex, variable i_int_MaxSplitNumber, sequence & io_seq_SplitSequence ) void ;
function SPLIT_WELLS_RemoveContainers( device & ML_STAR, variable i_bool_UpdateVolumes ) void ;
function TRAVEL_LANES_MoveChannelsToTravelLanes( device & ML_STAR ) void ;
function TRAVEL_LANES_MoveChannelsToTravelLanes_5mL( device & ML_STAR ) void ;
function TRAVEL_LANES_MoveChannelsToYPosition( device & ML_STAR, sequence i_seq_TargetSequence, variable i_flt_XOffsetFromOrigin ) void ;
function TRAVEL_LANES_MoveChannelsToYPosition_5mL( device & ML_STAR, sequence i_seq_TargetSequence, variable i_flt_XOffsetFromOrigin ) void ;
function TRAVEL_LANES_MoveChannelsWithTravelLanes( device & ML_STAR, sequence i_seq_TargetSequence, variable i_flt_XOffsetFromOrigin ) void ;
function TRAVEL_LANES_MoveChannelsWithTravelLanes_5mL( device & ML_STAR, sequence i_seq_TargetSequence, variable i_flt_XOffsetFromOrigin ) void ;
function TRAVEL_LANES_SingleSource_ChannelDisplacement( device & ML_STAR, variable i_strStepReturn ) void ;
function TRAVEL_LANES_SingleSource_ChannelDisplacement_5mL( device & ML_STAR, variable i_strStepReturn ) void ;
private function _FunctionError( variable i_str_FunctionName, variable i_str_ErrorDescription ) void ;
private function _GetSequencePosition( device & Instrument, sequence i_seq_LabwareSequence, variable & o_str_LabID, variable & o_str_PosID ) variable ;
// }} ""
function _InitLibrary() {
// {{ 2 "AutoInitBlock" ""
PTL::SetWashingStateDefault("RinseTime1", 5);
PTL::SetWashingStateDefault("SoakTime1", 5);
PTL::SetWashingStateDefault("FlowRate1", 11);
PTL::SetWashingStateDefault("RinseTime2", 0);
PTL::SetWashingStateDefault("SoakTime2", 0);
PTL::SetWashingStateDefault("FlowRate2", 11);
PTL::SetWashingStateDefault("DrainingTime", 10);
PTL::SetWashingStateDefault("StartWashLiquid", 0);
PTL::SetLoadingStateDefault("RecoveryOptionContinue", hslTrue);
PTL::SetLoadingStateDefault("RecoveryOptionExclude", hslTrue);
PTL::SetLoadingStateDefault("RecoveryOptionDefault", 0);
PTL::SetLoadingStateDefault("KitLotCheckEnabled", hslFalse);
PLATE_STACK_VERIFY::_InitLibrary();
SPLIT_WELLS::_InitLibrary();
HELPERLIBRARY::_InitLibrary();
LOOKUP::_InitLibrary();
LIQUID_LEVEL_CHECK::_InitLibrary();
TRAVEL_LANES::_InitLibrary();
LPQ::_InitLibrary();
FW_HELPERLIBRARY::_InitLibrary();
STAR_CHANNEL_MOVEMENT_TOOLS::_InitLibrary();
VANTAGE_CHANNEL_MOVEMENT_TOOLS::_InitLibrary();
// }} ""
}
function _ExitLibrary() {
// {{ 2 "AutoExitBlock" ""
PLATE_STACK_VERIFY::_ExitLibrary();
SPLIT_WELLS::_ExitLibrary();
HELPERLIBRARY::_ExitLibrary();
LOOKUP::_ExitLibrary();
LIQUID_LEVEL_CHECK::_ExitLibrary();
TRAVEL_LANES::_ExitLibrary();
LPQ::_ExitLibrary();
FW_HELPERLIBRARY::_ExitLibrary();
STAR_CHANNEL_MOVEMENT_TOOLS::_ExitLibrary();
VANTAGE_CHANNEL_MOVEMENT_TOOLS::_ExitLibrary();
// }} ""
}
// {{{ 5 "PLATE_STACK_CountPlateStacks" "Begin"
function PLATE_STACK_CountPlateStacks( device & ML_STAR, sequence i_seq_PlateStack_Full, sequence & o_seq_PlateStack_Count, variable & o_int_PlateCount ) void {
// }} ""
private variable strFunctionName;
private sequence arr_PlateStack[];
private variable arr_PlateCounts[];
private variable str_LogFolderPath;
private variable flt_X_Coord;
private variable int_StackNum;
private variable flt_Z_Coord;
private variable flt_Y_Coord;
private variable int_StackCount;
private variable str_LabID;
private variable str_PosID;
private variable str_TempSortFile;
private sequence seq_CurrentStack;
private file SortFile;
private variable i;
private variable int_TotalInStack;
private variable flt_NotUsed;
private variable str_SQL_Sort;
private variable int_StackLoop;
private sequence seq_TempPlateStack;
private variable int_CutNum;
private variable int_Length;
private variable int_Count;
private file SortFile2;
private variable strFunctionName_Cut;
private variable bool_FileExists;
// {{ 5 "PLATE_STACK_CountPlateStacks" "InitLocals"
{ sequence __temp; o_seq_PlateStack_Count = __temp; }
o_int_PlateCount = 0;
// }} ""
// {{ 1950 1 0 "bd6a5218_8352_4374_ab1989a030826000" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1951 1 0 "7d42947f_c74e_4be7_895b7b6cd7cfa60b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 1953 1 0 "9af12363_8986_488d_b64ccfbbd81317a4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 1954 1 0 "0679dae5_5219_41dc_b744197e0e535edf" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 1955 1 0 "cd428867_8cb0_47eb_a56eb10330d1cfd1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 1956 1 0 "31f4a0a2_7943_42e7_a1604182a4d0af67" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 1957 1 0 "a274551a_16b8_4b1a_80a4a84bae5e4642" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 1959 1 0 "bd6a5218_8352_4374_ab1989a030826000" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1960 1 0 "62f33c7f_0b4a_4c22_841611ea3851ca1a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{{ 1961 1 0 "9a1af323_47e6_49b1_9f4cce00d7750007" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(o_seq_PlateStack_Count);
// }} ""
// {{ 1962 1 0 "64dea824_c106_40a7_b0846983551fa11d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_int_PlateCount = 0;
// }} ""
// {{{ 1963 1 0 "8959cfea_8051_4950_85f06b5dc7f75520" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PLATE_STACK_VERIFY::Get_Arr_StackSequences(ML_STAR, i_seq_PlateStack_Full, arr_PlateStack);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 1964 1 0 "7731361d_3322_4762_a35b165be2486903" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LogFolderPath = FilGetLogFilesPath();
// }} ""
// {{{ 1965 1 0 "c04ae655_6b35_4db2_af2df94c8fb6000b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_TempSortFile = StrConcat4(str_LogFolderPath, Translate("\\"), Translate("TEMP_SORTING_FILE"), Translate(".xls"));
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 1966 1 0 "163f0164_de7c_41f0_9b2b2f1e12531a14" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetTempSortingFilePath(str_TempSortFile);
// }} ""
// {{{ 1967 1 0 "90e574a7_6250_4fb1_8059072874d98252" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bool_FileExists = HSLExtensions::File::Exists(str_TempSortFile);
// }} ""
// {{ 1968 1 0 "4471e5ad_acee_4f0d_bff10f13610721e2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bool_FileExists == 1)
{
// }} ""
// {{{ 1969 1 0 "893f28ed_8cfa_4df9_a2ca28a30e3da8c0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLExtensions::File::Delete(str_TempSortFile);
// }} ""
// {{ 1970 1 0 "4471e5ad_acee_4f0d_bff10f13610721e2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 1971 1 0 "6d248701_0c25_4757_9ca88981e96dac97" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PLATE_STACK_VERIFY::Plate_Stack_Verify(ML_STAR, arr_PlateStack, arr_PlateCounts);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 1972 1 0 "e180f468_17cf_4574_ac79dce662b6b95e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PLATE_STACK_VERIFY::Plate_Stack_Verfy_V2(ML_STAR, arr_PlateStack, arr_PlateCounts);
// }} ""
// {{{ 1973 1 0 "6ce2130f_0bb5_45c5_831f0114aa71fc8f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("Plate Counts"), arr_PlateCounts);
// }} ""
// {{ 1974 1 0 "c55e0360_57c7_4d6d_9034aa8efe9303e8" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1975 1 0 "6f6a66d7_3ad0_4da5_a204607a37c52cfd" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
SortFile.AddField("STACK_NUM", int_StackNum, hslInteger);
SortFile.AddField("LAB_ID", str_LabID, hslString, 255);
SortFile.AddField("POS_ID", str_PosID, hslString, 255);
SortFile.AddField("X_COORD", flt_X_Coord, hslFloat);
SortFile.AddField("Y_COORD", flt_Y_Coord, hslFloat);
SortFile.AddField("Z_COORD", flt_Z_Coord, hslFloat);
if( 0 == SortFile.Open(str_TempSortFile + " " + "SORT_FILE", hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, str_TempSortFile, "HxMetEdCompCmd");
}
// }} ""
// {{ 1976 1 0 "ee44ecdb_c12b_4359_91435c48addfaaa8" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
int_StackCount=arr_PlateStack.GetSize();
// }} ""
// {{ 1977 1 0 "4071ab62_3af9_4d03_b7c359e6fafc542d" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_StackNum = 0; int_StackNum < int_StackCount;)
{
int_StackNum = int_StackNum + 1;
// }} ""
// {{ 1978 1 0 "ecfcc1d6_9f7f_4dd5_8e4d4d3df7ea38e2" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
seq_CurrentStack=arr_PlateStack.GetAt(int_StackNum-1);
// }} ""
// {{{ 1979 1 0 "149ad0c0_a5ab_4b6f_b66643044be71fc7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_TotalInStack = SeqGetTotal(seq_CurrentStack);
// }} ""
// {{ 1980 1 0 "c26d6da5_98b8_49cf_8212be67c528610d" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(i = 0; i < int_TotalInStack;)
{
i = i + 1;
// }} ""
// {{ 1981 1 0 "16076977_81b3_47d9_9ea18123fa052a01" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_CurrentStack.SetCurrentPosition(i);
// }} ""
// {{{ 1982 1 0 "c73825d7_c2a7_44bc_99a801f377ac986f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(seq_CurrentStack);
// }} ""
// {{{ 1983 1 0 "ba3d09ee_996b_4f61_bd231f71c31d20f6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = SeqGetPositionId(seq_CurrentStack);
// }} ""
// {{{ 1984 1 0 "e5c474d0_2814_4525_b9ffced23ff2d15f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, str_LabID, str_PosID, flt_X_Coord, flt_Y_Coord, flt_Z_Coord, flt_NotUsed);
// }} ""
// {{ 1985 1 0 "1f462b94_1577_49d3_afe15fdb9b5a396a" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == SortFile.WriteRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 1986 1 0 "c26d6da5_98b8_49cf_8212be67c528610d" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1987 1 0 "4071ab62_3af9_4d03_b7c359e6fafc542d" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1988 1 0 "cf199eb1_5227_44e7_a6a83dcb9f7188c1" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != SortFile.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
SortFile.RemoveFields();
// }} ""
// {{ 1989 1 0 "c55e0360_57c7_4d6d_9034aa8efe9303e8" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1990 1 0 "88859c3a_81e8_4eef_994a48f1c2ce76f4" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1991 1 0 "85de04c9_3427_4c70_b4133d491d635be1" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
int_StackLoop=arr_PlateCounts.GetSize();
// }} ""
// {{{ 1992 1 0 "3b96ddf1_98bf_4d75_819ad6b2120d9368" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(seq_TempPlateStack);
// }} ""
// {{ 1993 1 0 "7d0325f3_ad35_405a_afaea35f56549fb8" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
SortFile2.AddField("STACK_NUM", int_StackNum, hslInteger);
SortFile2.AddField("LAB_ID", str_LabID, hslString, 255);
SortFile2.AddField("POS_ID", str_PosID, hslString, 255);
SortFile2.AddField("X_COORD", flt_X_Coord, hslFloat);
SortFile2.AddField("Y_COORD", flt_Y_Coord, hslFloat);
SortFile2.AddField("Z_COORD", flt_Z_Coord, hslFloat);
if( 0 == SortFile2.Open(str_TempSortFile + " " + "SORT_FILE2", hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, str_TempSortFile, "HxMetEdCompCmd");
}
// }} ""
// {{ 1994 1 0 "38a1153d_28ed_443f_a8b6d1fce6504cfd" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(i = 0; i < int_StackLoop;)
{
i = i + 1;
// }} ""
// {{ 1995 1 0 "7957c260_1f41_4157_ae4e7a347911dcc5" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
int_StackCount=arr_PlateCounts.GetAt(i-1);
// }} ""
// {{ 1996 1 0 "4802a929_6f57_423f_bcf18e02f53e119f" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
o_int_PlateCount = o_int_PlateCount + int_StackCount;
// }} ""
// {{ 1997 1 0 "03af9fc9_f8f6_412e_be2e498133c76e4c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_StackCount > 0)
{
// }} ""
// {{{ 1998 1 0 "6894a09a_806a_4f6b_b9013c2f16e9ab06" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_SQL_Sort = StrConcat4(Translate("SELECT * FROM [SORT_FILE$] WHERE STACK_NUM = "), i, Translate(" ORDER BY Z_COORD ASC"), Translate(""));
// }} ""
// {{ 1999 1 0 "6b934522_f549_4d40_86992a173a6557cd" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
SortFile.AddField("STACK_NUM", int_StackNum, hslInteger);
SortFile.AddField("LAB_ID", str_LabID, hslString, 255);
SortFile.AddField("POS_ID", str_PosID, hslString, 255);
SortFile.AddField("X_COORD", flt_X_Coord, hslFloat);
SortFile.AddField("Y_COORD", flt_Y_Coord, hslFloat);
SortFile.AddField("Z_COORD", flt_Z_Coord, hslFloat);
if( 0 == SortFile.Open(str_TempSortFile + " " + "SORT_FILE$", hslRead, str_SQL_Sort) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, str_TempSortFile, "HxMetEdCompCmd");
}
// }} ""
// {{ 2000 1 0 "122cab7f_1c4c_4071_babbea26fffe0b53" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
int_Count = 0;
while (
   (SortFile.Eof() == 0)
)
{
int_Count = int_Count + 1;
// }} ""
// {{ 2001 1 0 "9d4325a7_4872_4ba4_96dac0c871d83173" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == SortFile.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 2002 1 0 "76daa390_6f85_49d1_9981bd2412cd7a2e" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == SortFile2.WriteRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 2003 1 0 "e24e2fe4_e8e7_4605_b2669f4a54695fdc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Count == int_StackCount)
{
// }} ""
// {{ 2004 1 0 "fb2e872a_21c6_4421_a823d77a89ba5bd6" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 2005 1 0 "e24e2fe4_e8e7_4605_b2669f4a54695fdc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2006 1 0 "122cab7f_1c4c_4071_babbea26fffe0b53" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 2007 1 0 "8164edb8_d008_4886_9ca48115d6274731" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != SortFile.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
SortFile.RemoveFields();
// }} ""
// {{ 2008 1 0 "03af9fc9_f8f6_412e_be2e498133c76e4c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2009 1 0 "38a1153d_28ed_443f_a8b6d1fce6504cfd" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 2010 1 0 "1401c62a_6519_4864_8053a849f7affc7e" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_TempPlateStack.SetCurrentPosition(1);
// }} ""
// {{ 2011 1 0 "88859c3a_81e8_4eef_994a48f1c2ce76f4" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2012 1 0 "2828a0ae_7bbf_4ee2_bf87e689a652014e" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 2013 1 0 "0e186ed3_8a42_42c8_ba4475c815f7df6f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_SQL_Sort = StrConcat4(Translate("SELECT * FROM [SORT_FILE2$] "), Translate(""), Translate(" ORDER BY STACK_NUM ASC, Z_COORD DESC"), Translate(""));
// }} ""
// {{ 2014 1 0 "d3a9bd2b_8dc4_40a8_93af2e19e956075d" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
SortFile2.AddField("STACK_NUM", int_StackNum, hslInteger);
SortFile2.AddField("LAB_ID", str_LabID, hslString, 255);
SortFile2.AddField("POS_ID", str_PosID, hslString, 255);
SortFile2.AddField("X_COORD", flt_X_Coord, hslFloat);
SortFile2.AddField("Y_COORD", flt_Y_Coord, hslFloat);
SortFile2.AddField("Z_COORD", flt_Z_Coord, hslFloat);
if( 0 == SortFile2.Open(str_TempSortFile + " " + "SORT_FILE2$", hslRead, str_SQL_Sort) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, str_TempSortFile, "HxMetEdCompCmd");
}
// }} ""
// {{ 2015 1 0 "0404a4bc_309c_44ce_bbc6bb3a14eaa86d" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
while (
   (SortFile2.Eof() == 0)
)
{
// }} ""
// {{ 2016 1 0 "ca777f95_f746_4b36_8024d1646f94addf" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == SortFile2.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{{ 2017 1 0 "012ff4f6_8e18_4743_804f4771e92cd211" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_PlateStack_Count, str_LabID, str_PosID);
// }} ""
// {{ 2018 1 0 "0404a4bc_309c_44ce_bbc6bb3a14eaa86d" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 2019 1 0 "e456b26f_74f9_446a_ac874137f7fe22f0" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != SortFile2.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
SortFile2.RemoveFields();
// }} ""
// {{ 2020 1 0 "6ae8506b_01e2_45b0_a15ba425bf3e56ed" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
o_seq_PlateStack_Count.SetCurrentPosition(1);
// }} ""
// {{ 2021 1 0 "2828a0ae_7bbf_4ee2_bf87e689a652014e" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2022 1 0 "f2df1472_3ccd_4145_99f73df6b839e529" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 2024 1 0 "f2df1472_3ccd_4145_99f73df6b839e529" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "PLATE_STACK_CountPlateStacks" "End"
}
// }} ""
// {{{ 5 "SPLIT_WELLS_AddContainersToWell" "Begin"
function SPLIT_WELLS_AddContainersToWell( device & ML_STAR, sequence i_seq_SequenceToSplit, variable i_int_SequenceIndex, variable i_int_MaxSplitNumber, sequence & io_seq_SplitSequence ) void {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable int_Count;
private variable int_MaxPositions_Sequence;
private variable str_SequenceIndex;
private variable str_CurrentPosID;
private variable int_Index;
private variable str_CurrentLabID;
private variable str_ConfigFile;
private variable flt_ContainerBottomWidth;
private variable flt_ContainerBottomHeight;
private variable flt_ContainerTopWidth;
private variable int_ContainerShape;
private variable str_ContainerFile;
private variable str_ContainerFileName;
private variable strFunctionName_Cut;
private variable str_KeySearch;
private variable int_SegmentCount;
// {{ 5 "SPLIT_WELLS_AddContainersToWell" "InitLocals"
// }} ""
// {{{ 2146 1 0 "9740e189_7c1b_4399_bdadbb4acf7b0aa0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SPLIT_WELLS_GLOBAL::InitializeVariables();
// }} ""
// {{ 2147 1 0 "3002445f_c8ed_4618_80f20cf88a7835a5" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2148 1 0 "0561789e_b3d0_4ea5_bf789aa2c48ddef6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 2150 1 0 "3a72cd46_db84_4117_a9d2c92bb981c495" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 2151 1 0 "cce40cdd_65ef_4db3_87fa2be6c613f7ce" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 2152 1 0 "b80b15c0_f363_49f2_bd25b31e190ff005" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 2153 1 0 "18d45ae6_a570_4943_a9ac68898c9fa888" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 2154 1 0 "e61945f0_8b3a_4010_9e48ea41a614aba7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 2156 1 0 "3002445f_c8ed_4618_80f20cf88a7835a5" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2157 1 0 "276f67df_3e1f_4a2a_b2fa6951918b50e1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (SPLIT_WELLS_GLOBAL::BOOL_LIBRARY_INITIALIZED == 0)
{
// }} ""
// {{{ 2158 1 0 "ac0d13dc_aeed_49e1_9323978dc1c8416c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
SPLIT_WELLS::InitializeSplitWells();
// }} ""
// {{ 2159 1 0 "276f67df_3e1f_4a2a_b2fa6951918b50e1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2160 1 0 "7d37525c_98cb_49df_bad4408ae8d4f0aa" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2161 1 0 "5b38ff28_d67b_4377_ab3c328da5b78ee3" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 2162 1 0 "08d37428_1f97_4ca8_86edcadecc7c354f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_SequenceIndex = StrConcat2(i_int_SequenceIndex, Translate(""));
// }} ""
// {{{ 2163 1 0 "e82da283_6267_4861_98c0938820772f6b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Index = StrIVal(str_SequenceIndex);
// }} ""
// {{{ 2164 1 0 "e40c8e4e_c79a_4e9a_8fc863e030d15479" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_MaxPositions_Sequence = SeqGetTotal(i_seq_SequenceToSplit);
// }} ""
// {{ 2165 1 0 "c42378bf_65b2_4575_adff944cfe7cf2bd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Index < 1)
{
// }} ""
// {{ 2166 1 0 "999a93bb_dbf2_47a6_9055cbf45481e4f2" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("=================================\nIndex is less than 1\n================================="));
// }} ""
// {{{ 2167 1 0 "72c9f125_f099_4f4a_a590a3f6bf474e19" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("Split_Wells - Sequence index is less than 1"));
// }} ""
// {{ 2168 1 0 "c42378bf_65b2_4575_adff944cfe7cf2bd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2169 1 0 "e29edb38_9c3b_47c7_92cad0ac440652bd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Index > int_MaxPositions_Sequence)
{
// }} ""
// {{ 2170 1 0 "c2616d47_ad9e_45b1_ac589eb8e410de1e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("=================================\nIndex is greater than the number of sequence positions\n================================="));
// }} ""
// {{{ 2171 1 0 "dfb9f0e4_bdc6_4d92_abe8b8a6e66ea7a0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("Split_Wells - Sequence index is greater than the positions in the sequence"));
// }} ""
// {{ 2172 1 0 "e29edb38_9c3b_47c7_92cad0ac440652bd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2173 1 0 "7d37525c_98cb_49df_bad4408ae8d4f0aa" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2174 1 0 "927271b1_b211_4de9_b320d05bf7a9d76b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 2175 1 0 "72c491d1_0d44_4fc0_9f0fdde713c0e70f" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
i_seq_SequenceToSplit.SetCurrentPosition(i_int_SequenceIndex);
// }} ""
// {{{ 2176 1 0 "9ca54737_6bf7_46d5_9b675179e1f23d85" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_CurrentLabID = SeqGetLabwareId(i_seq_SequenceToSplit);
// }} ""
// {{{ 2177 1 0 "556efab7_30ef_46ab_8e8bfccdcad6e84a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_CurrentPosID = SeqGetPositionId(i_seq_SequenceToSplit);
// }} ""
// {{{ 2178 1 0 "6766a605_97ab_400f_86dec34e0b52f9c2" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetConfigurationFile(ML_STAR, str_CurrentLabID, str_ConfigFile);
// }} ""
// {{{ 2179 1 0 "0df03131_627b_4134_ba761a638f16030c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
int_Index = LOOKUP::Lookup(SPLIT_WELLS_GLOBAL::ARR_LABWARE_CONFIG_FILE, str_ConfigFile);
// }} ""
// {{ 2180 1 0 "c8ab8f5f_100d_4722_906e5555d659943a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Index == 0)
{
// }} ""
// {{{ 2181 1 0 "5c63a9d9_6e7e_49a1_bfa6b8bf7b7cb9b4" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetContainerConfigurationFile(ML_STAR, str_CurrentLabID, str_CurrentPosID, str_ContainerFile);
// }} ""
// {{{ 2182 1 0 "73b5f1d0_cf57_413b_86135190f3c76a0d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_ContainerFileName = HSLExtensions::File::GetFileNameWithoutExtension(str_ContainerFile);
// }} ""
// {{{ 2183 1 0 "52e209aa_bffc_42ff_92519a677dbd45b5" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetDefinitionFileValue(str_ContainerFile, Translate("Segments"), int_SegmentCount);
// }} ""
// {{{ 2184 1 0 "8369981c_32f9_4893_8c8c603402e0edd1" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::_ConvertToInt(int_SegmentCount);
// }} ""
// {{{ 2185 1 0 "604fe7e7_8569_4f18_a4574e047dd8a543" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetDefinitionFileValue(str_ContainerFile, Translate("Shape"), int_ContainerShape);
// }} ""
// {{{ 2186 1 0 "e717d2aa_eb46_4fe2_bb8c58d147a1946d" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::_ConvertToInt(int_ContainerShape);
// }} ""
// {{ 2187 1 0 "c45ed826_a75d_4aeb_86c636c17da28e93" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ContainerShape == 0)
{
// }} ""
// {{ 2188 1 0 "b6593a84_be41_4e83_9441729be6b48753" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 2189 1 0 "aa1e65d4_cced_43db_aa4063db1d1c62d9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_KeySearch = StrConcat4(int_SegmentCount, Translate(".DY"), Translate(""), Translate(""));
// }} ""
// {{{ 2190 1 0 "bd6d027c_7331_4d9e_82fac6c13bc5565f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetDefinitionFileValue(str_ContainerFile, str_KeySearch, flt_ContainerTopWidth);
// }} ""
// {{{ 2191 1 0 "51725053_d2bc_4b16_ae47ee844de3274a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::_ConvertToFloat(flt_ContainerTopWidth);
// }} ""
// {{{ 2192 1 0 "ff1145b1_eb4d_460f_900cc603e9bfc09d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_KeySearch = StrConcat4(int_SegmentCount, Translate(".DY"), Translate(""), Translate(""));
// }} ""
// {{{ 2193 1 0 "fa44b801_dd35_4997_902d52c9dc04a5dd" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetDefinitionFileValue(str_ContainerFile, str_KeySearch, flt_ContainerBottomWidth);
// }} ""
// {{{ 2194 1 0 "07d4a299_229a_4c53_86e9254d158a2827" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::_ConvertToFloat(flt_ContainerBottomWidth);
// }} ""
// {{{ 2195 1 0 "1653ea22_3ea1_45bb_b1b50296d0079131" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_KeySearch = StrConcat4(int_SegmentCount, Translate(".Max"), Translate(""), Translate(""));
// }} ""
// {{{ 2196 1 0 "5500cfc1_1081_454b_b006003bdcf90c83" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetDefinitionFileValue(str_ContainerFile, str_KeySearch, flt_ContainerBottomHeight);
// }} ""
// {{{ 2197 1 0 "7f28e1b3_2aa9_4f0e_a1721bb8500fb6db" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::_ConvertToFloat(flt_ContainerBottomHeight);
// }} ""
// {{ 2198 1 0 "c45ed826_a75d_4aeb_86c636c17da28e93" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2199 1 0 "3c030e67_062a_49da_a6c9d7843d3a2895" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ContainerShape == 1)
{
// }} ""
// {{ 2200 1 0 "44aa388d_77d7_46bd_811ca05e7ff3afdd" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 2201 1 0 "4e047bd3_e0a6_4deb_84c6fcb0b7abef76" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_KeySearch = StrConcat4(int_SegmentCount, Translate(".DX"), Translate(""), Translate(""));
// }} ""
// {{{ 2202 1 0 "998c5d7e_e14a_422d_b7cf6afabb37f3dc" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetDefinitionFileValue(str_ContainerFile, str_KeySearch, flt_ContainerTopWidth);
// }} ""
// {{{ 2203 1 0 "6dab221f_e8cb_49cd_9a16e286a23eae45" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::_ConvertToFloat(flt_ContainerTopWidth);
// }} ""
// {{{ 2204 1 0 "1e090604_8459_49fd_b35b6a7adef3769c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_KeySearch = StrConcat4(int_SegmentCount, Translate(".DY"), Translate(""), Translate(""));
// }} ""
// {{{ 2205 1 0 "3af9f71a_1fa8_417d_a89d1dfc1274916d" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetDefinitionFileValue(str_ContainerFile, str_KeySearch, flt_ContainerBottomWidth);
// }} ""
// {{{ 2206 1 0 "2b804b38_c35f_4e2c_a6ece4616d0bca40" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::_ConvertToFloat(flt_ContainerBottomWidth);
// }} ""
// {{{ 2207 1 0 "1ab9b11c_d991_4f5e_93cdfee6997eae87" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_KeySearch = StrConcat4(int_SegmentCount, Translate(".Max"), Translate(""), Translate(""));
// }} ""
// {{{ 2208 1 0 "90b74c10_cb67_43ea_b160083771c4a2d0" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetDefinitionFileValue(str_ContainerFile, str_KeySearch, flt_ContainerBottomHeight);
// }} ""
// {{{ 2209 1 0 "a903f6e8_602a_452d_ab95563165f5aee6" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::_ConvertToFloat(flt_ContainerBottomHeight);
// }} ""
// {{ 2210 1 0 "3c030e67_062a_49da_a6c9d7843d3a2895" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2211 1 0 "522e12ae_80eb_4e6d_96caeceb4f22337a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ContainerShape == 2)
{
// }} ""
// {{ 2212 1 0 "132eb169_bbdf_4332_88b1b69fe4d0cd26" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 2213 1 0 "f86a11d8_ba1c_4488_9ed47eb9ba5cd7c0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_KeySearch = StrConcat4(int_SegmentCount, Translate(".DX"), Translate(""), Translate(""));
// }} ""
// {{{ 2214 1 0 "942748bd_98b3_4ac0_bc20353140143eb1" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetDefinitionFileValue(str_ContainerFile, str_KeySearch, flt_ContainerTopWidth);
// }} ""
// {{{ 2215 1 0 "1b80b252_ef49_45af_9afa7bdf24acbaf6" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::_ConvertToFloat(flt_ContainerTopWidth);
// }} ""
// {{{ 2216 1 0 "d309cc2f_2da7_4d73_87b33388bcf907c1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_KeySearch = StrConcat4(int_SegmentCount, Translate(".DY"), Translate(""), Translate(""));
// }} ""
// {{{ 2217 1 0 "b55e2c23_bba6_46fe_83a87c0bcc018025" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetDefinitionFileValue(str_ContainerFile, str_KeySearch, flt_ContainerBottomWidth);
// }} ""
// {{{ 2218 1 0 "01b1ef5c_b4e2_46f2_817bd8833511fd2c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::_ConvertToFloat(flt_ContainerBottomWidth);
// }} ""
// {{{ 2219 1 0 "1df538a7_c15b_4b48_863aab96aadc8b66" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_KeySearch = StrConcat4(int_SegmentCount, Translate(".Max"), Translate(""), Translate(""));
// }} ""
// {{{ 2220 1 0 "bcccdd36_1953_46b3_ad23f04a66162dfe" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetDefinitionFileValue(str_ContainerFile, str_KeySearch, flt_ContainerBottomHeight);
// }} ""
// {{{ 2221 1 0 "62a77db0_7040_4419_9f7637a20a52309c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::_ConvertToFloat(flt_ContainerBottomHeight);
// }} ""
// {{ 2222 1 0 "522e12ae_80eb_4e6d_96caeceb4f22337a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2223 1 0 "3d01e867_da5c_40fa_8536c5d27e00e080" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ContainerShape == 3)
{
// }} ""
// {{ 2224 1 0 "bd6fe9cc_c29a_449b_94c7355467be64df" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 2225 1 0 "254a8376_e7fc_4e49_88984959e052c3ce" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_KeySearch = StrConcat4(int_SegmentCount, Translate(".DX"), Translate(""), Translate(""));
// }} ""
// {{{ 2226 1 0 "f176664d_b09c_4c56_ac53309a46dd86e2" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetDefinitionFileValue(str_ContainerFile, str_KeySearch, flt_ContainerTopWidth);
// }} ""
// {{{ 2227 1 0 "55f390b6_4f35_4690_a9205fe86ca7e089" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::_ConvertToFloat(flt_ContainerTopWidth);
// }} ""
// {{{ 2228 1 0 "d53795fd_2202_48e5_a2834303d1d9c3fb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_KeySearch = StrConcat4(int_SegmentCount, Translate(".DY"), Translate(""), Translate(""));
// }} ""
// {{{ 2229 1 0 "4c7f73ad_cf80_4125_b6a1f33c516d0655" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetDefinitionFileValue(str_ContainerFile, str_KeySearch, flt_ContainerBottomWidth);
// }} ""
// {{{ 2230 1 0 "1a66fd42_b279_4891_88a00f9ca31e00fc" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::_ConvertToFloat(flt_ContainerBottomWidth);
// }} ""
// {{{ 2231 1 0 "146af97c_ba62_40fa_bbe933f1b8918ce7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_KeySearch = StrConcat4(int_SegmentCount, Translate(".Max"), Translate(""), Translate(""));
// }} ""
// {{{ 2232 1 0 "0f489173_3951_4b91_8b7db1b1c4a37e7b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetDefinitionFileValue(str_ContainerFile, str_KeySearch, flt_ContainerBottomHeight);
// }} ""
// {{{ 2233 1 0 "1aa9e881_10cd_41f8_a54d6cc456fc6c74" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::_ConvertToFloat(flt_ContainerBottomHeight);
// }} ""
// {{ 2234 1 0 "3d01e867_da5c_40fa_8536c5d27e00e080" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2235 1 0 "40bfc4c4_90db_4226_adde218862fd276b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ContainerShape == 4)
{
// }} ""
// {{ 2236 1 0 "9e856cdc_d16e_404b_b4571365320cb0fb" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 2237 1 0 "a9e625e6_5b88_40c4_bdb5ee58b091b2f4" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_ContainerBottomWidth = 0.0;
// }} ""
// {{{ 2238 1 0 "4f7d8735_4f42_4d94_93a0e8e08d60d812" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_KeySearch = StrConcat4(int_SegmentCount, Translate(".DX"), Translate(""), Translate(""));
// }} ""
// {{{ 2239 1 0 "5f74467c_e81a_4488_90f5928fa358546c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetDefinitionFileValue(str_ContainerFile, str_KeySearch, flt_ContainerTopWidth);
// }} ""
// {{{ 2240 1 0 "763e0d69_070d_4454_b43fe166180cd4a5" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::_ConvertToFloat(flt_ContainerTopWidth);
// }} ""
// {{{ 2241 1 0 "11c064ea_4091_4f4c_b82d6d8d30903b3d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_KeySearch = StrConcat4(int_SegmentCount, Translate(".Max"), Translate(""), Translate(""));
// }} ""
// {{{ 2242 1 0 "ed0d4938_1d52_4368_a037d52f52f340ac" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetDefinitionFileValue(str_ContainerFile, str_KeySearch, flt_ContainerBottomHeight);
// }} ""
// {{{ 2243 1 0 "806c751d_3b69_4b29_b02200d01a268a90" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::_ConvertToFloat(flt_ContainerBottomHeight);
// }} ""
// {{ 2244 1 0 "40bfc4c4_90db_4226_adde218862fd276b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2245 1 0 "96f981f2_c958_4527_a11c2c427befdd54" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ContainerShape == 5)
{
// }} ""
// {{ 2246 1 0 "6327241f_18a7_4d1b_a8cd21fafc296372" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 2247 1 0 "5cd6975c_8242_499d_b7b8b31458407a73" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_ContainerBottomWidth = 0.0;
// }} ""
// {{{ 2248 1 0 "17195c64_a253_45b8_9eb7c254ff70774c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_KeySearch = StrConcat4(int_SegmentCount, Translate(".DX"), Translate(""), Translate(""));
// }} ""
// {{{ 2249 1 0 "df6d2e6d_ccba_405d_aa9be69411ca3c82" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetDefinitionFileValue(str_ContainerFile, str_KeySearch, flt_ContainerTopWidth);
// }} ""
// {{{ 2250 1 0 "209eee43_dcd1_42dc_97f189b20b522530" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::_ConvertToFloat(flt_ContainerTopWidth);
// }} ""
// {{{ 2251 1 0 "a04a39c4_0877_49d1_850e174e6577d204" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_KeySearch = StrConcat4(int_SegmentCount, Translate(".Max"), Translate(""), Translate(""));
// }} ""
// {{{ 2252 1 0 "5237f268_7009_4149_86cd88c0f12c8238" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetDefinitionFileValue(str_ContainerFile, str_KeySearch, flt_ContainerBottomHeight);
// }} ""
// {{{ 2253 1 0 "d6f14b6a_be5a_4860_86863cbee9176d23" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::_ConvertToFloat(flt_ContainerBottomHeight);
// }} ""
// {{ 2254 1 0 "96f981f2_c958_4527_a11c2c427befdd54" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2255 1 0 "0342a64f_5ecf_41a8_ba852671f0fbc692" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
SPLIT_WELLS_GLOBAL::ARR_CONTAINER_SHAPE.AddAsLast(int_ContainerShape);
// }} ""
// {{ 2256 1 0 "cde5e7a3_6349_4a8e_b00331adfe4d905e" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
SPLIT_WELLS_GLOBAL::ARR_CONTAINER_CONFIG_FILE.AddAsLast(str_ContainerFile);
// }} ""
// {{ 2257 1 0 "4a4bdb9e_5b3e_4d4d_b3d77b305685a33e" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
SPLIT_WELLS_GLOBAL::ARR_CONTAINER_TOP_WIDTH.AddAsLast(flt_ContainerTopWidth);
// }} ""
// {{ 2258 1 0 "da09baee_77eb_4f0a_b89e8b786c7c2fa5" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
SPLIT_WELLS_GLOBAL::ARR_CONTAINER_BOTTOM_WIDTH.AddAsLast(flt_ContainerBottomWidth);
// }} ""
// {{ 2259 1 0 "e481ea9d_c659_4093_81c328970d8a3ef6" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
SPLIT_WELLS_GLOBAL::ARR_CONTAINER_BOTTOM_HEIGHT.AddAsLast(flt_ContainerBottomHeight);
// }} ""
// {{ 2260 1 0 "c8ab8f5f_100d_4722_906e5555d659943a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 2261 1 0 "8bc0fc55_4875_4d42_a3a46397826d8f26" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
int_ContainerShape=SPLIT_WELLS_GLOBAL::ARR_CONTAINER_SHAPE.GetAt(int_Index-1);
// }} ""
// {{ 2262 1 0 "69fe191f_9bee_4cd6_b134c4f594956f5d" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_ContainerTopWidth=SPLIT_WELLS_GLOBAL::ARR_CONTAINER_TOP_WIDTH.GetAt(int_Index-1);
// }} ""
// {{ 2263 1 0 "1f1526f8_d1f9_432d_bb57d106fa66b332" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_ContainerBottomWidth=SPLIT_WELLS_GLOBAL::ARR_CONTAINER_BOTTOM_WIDTH.GetAt(int_Index-1);
// }} ""
// {{ 2264 1 0 "b1951062_9c48_4751_9fa4542f1cdc9f53" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
flt_ContainerBottomHeight=SPLIT_WELLS_GLOBAL::ARR_CONTAINER_BOTTOM_HEIGHT.GetAt(int_Index-1);
// }} ""
// {{ 2265 1 0 "d91b5d9c_c9a7_4f06_9941ee3bf9c94dad" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
str_ContainerFile=SPLIT_WELLS_GLOBAL::ARR_CONTAINER_CONFIG_FILE.GetAt(int_Index-1);
// }} ""
// {{ 2266 1 0 "c8ab8f5f_100d_4722_906e5555d659943a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2267 1 0 "8bd2a14f_e9d2_4215_812ddd528a579805" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2268 1 0 "fd2ff78d_314d_40d1_8d8412ebeebb7135" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ContainerShape == 0)
{
// }} ""
// {{ 2269 1 0 "90114a43_8695_4ff0_97c27049cb0fe75d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("======================================\nFLAT WELLS\n======================================"));
// }} ""
// {{{ 2270 1 0 "940a1fc3_2e1e_40bf_8f4f6c3bf85927a8" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
SPLIT_WELLS::SplitWellsFlatBottom(ML_STAR, i_seq_SequenceToSplit, i_int_SequenceIndex, i_int_MaxSplitNumber, io_seq_SplitSequence);
// }} ""
// {{ 2271 1 0 "fd2ff78d_314d_40d1_8d8412ebeebb7135" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2272 1 0 "ee75e07e_2570_454f_9ba2aaf0f19be32b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ContainerShape == 1)
{
// }} ""
// {{ 2273 1 0 "984f636f_0b2e_48a7_b1258d28231c1d7f" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("======================================\nFLAT WELLS\n======================================"));
// }} ""
// {{{ 2274 1 0 "1ed41d68_da0c_440e_a5e27ad3291b4dc0" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
SPLIT_WELLS::SplitWellsFlatBottom(ML_STAR, i_seq_SequenceToSplit, i_int_SequenceIndex, i_int_MaxSplitNumber, io_seq_SplitSequence);
// }} ""
// {{ 2275 1 0 "ee75e07e_2570_454f_9ba2aaf0f19be32b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2276 1 0 "a8d8e4ac_625b_447e_a83e7305c309901f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ContainerShape == 2)
{
// }} ""
// {{ 2277 1 0 "82a6b687_4d7a_46d3_b59db2e1b4ae8d30" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("======================================\nFLAT WELLS\n======================================"));
// }} ""
// {{{ 2278 1 0 "57c4b733_a989_4e90_b57dcd8e8cf0da75" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
SPLIT_WELLS::SplitWellsFlatBottom(ML_STAR, i_seq_SequenceToSplit, i_int_SequenceIndex, i_int_MaxSplitNumber, io_seq_SplitSequence);
// }} ""
// {{ 2279 1 0 "a8d8e4ac_625b_447e_a83e7305c309901f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2280 1 0 "17ab64c7_9d7e_42ad_9d0c7777242cb14a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ContainerShape == 3)
{
// }} ""
// {{ 2281 1 0 "9deb7db7_2e25_49a9_88eab3b49b94062f" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("======================================\nANGLE WELLS\n======================================"));
// }} ""
// {{{ 2282 1 0 "ea7bcdda_28df_48d4_83e9a75b847d6e78" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
SPLIT_WELLS::SplitWellsVBottom(ML_STAR, i_seq_SequenceToSplit, i_int_SequenceIndex, i_int_MaxSplitNumber, flt_ContainerTopWidth, flt_ContainerBottomWidth, flt_ContainerBottomHeight, io_seq_SplitSequence);
// }} ""
// {{ 2283 1 0 "17ab64c7_9d7e_42ad_9d0c7777242cb14a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2284 1 0 "a30056f8_fab1_4e9c_80af48a7003dcd2e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ContainerShape == 4)
{
// }} ""
// {{ 2285 1 0 "d70f13c7_e4a9_4bb9_8a8c54e10f951b04" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("======================================\nANGLE WELLS\n======================================"));
// }} ""
// {{{ 2286 1 0 "3a4de7f0_8a1c_4bb1_87dc2420e33216db" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
SPLIT_WELLS::SplitWellsVBottom(ML_STAR, i_seq_SequenceToSplit, i_int_SequenceIndex, i_int_MaxSplitNumber, flt_ContainerTopWidth, flt_ContainerBottomWidth, flt_ContainerBottomHeight, io_seq_SplitSequence);
// }} ""
// {{ 2287 1 0 "a30056f8_fab1_4e9c_80af48a7003dcd2e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2288 1 0 "0a535777_3bc6_4508_9126bb2e49fab81e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_ContainerShape == 5)
{
// }} ""
// {{ 2289 1 0 "12aaa2f0_be39_4213_9845b70c562d89e6" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("======================================\nANGLE WELLS\n======================================"));
// }} ""
// {{{ 2290 1 0 "06bba2df_3ae3_43f7_8539856eed4cd733" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
SPLIT_WELLS::SplitWellsVBottom(ML_STAR, i_seq_SequenceToSplit, i_int_SequenceIndex, i_int_MaxSplitNumber, flt_ContainerTopWidth, flt_ContainerBottomWidth, flt_ContainerBottomHeight, io_seq_SplitSequence);
// }} ""
// {{ 2291 1 0 "0a535777_3bc6_4508_9126bb2e49fab81e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2292 1 0 "8bd2a14f_e9d2_4215_812ddd528a579805" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2293 1 0 "ca5b3741_dd04_414a_830ca8628e9c1995" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 2295 1 0 "ca5b3741_dd04_414a_830ca8628e9c1995" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "SPLIT_WELLS_AddContainersToWell" "End"
}
// }} ""
// {{{ 5 "SPLIT_WELLS_RemoveContainers" "Begin"
function SPLIT_WELLS_RemoveContainers( device & ML_STAR, variable i_bool_UpdateVolumes ) void {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable int_Count;
private variable strFunctionName_Cut;
// {{ 5 "SPLIT_WELLS_RemoveContainers" "InitLocals"
// }} ""
// {{ 2297 1 0 "cd84f7fa_ffd9_4bab_87cf42a7eb70c364" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2298 1 0 "67892ee1_04de_4826_8f53a8f57aca4442" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 2300 1 0 "04ce9541_2209_431e_a2bd421862aa4338" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 2301 1 0 "d013949c_c9f3_4732_9138909f2581a20d" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 2302 1 0 "f5f78043_5e4f_4b74_bd474369855d0c1b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 2303 1 0 "beb7ac42_8787_4c71_a12cca4fccef4d4b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 2304 1 0 "b8d116d1_7bfb_4b0b_ad2c26932c634cf7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 2306 1 0 "cd84f7fa_ffd9_4bab_87cf42a7eb70c364" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 2307 1 0 "bc292a11_1518_4dea_8053af199dcf5ea3" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
SPLIT_WELLS::RemoveContainers(ML_STAR, i_bool_UpdateVolumes);
// }} ""
// {{ 2308 1 0 "cb2c4107_325a_4199_8453491cd702c7dc" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 2310 1 0 "cb2c4107_325a_4199_8453491cd702c7dc" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "SPLIT_WELLS_RemoveContainers" "End"
}
// }} ""
// {{{ 5 "LIQUID_LEVEL_MeasureLiquidSingle" "Begin"
function LIQUID_LEVEL_MeasureLiquidSingle( device & ML_STAR, sequence i_seq_FullReservoirSequence, sequence & i_seq_TipsToUse, sequence i_seq_TipWaste, variable i_str_TipCounter, variable i_bool_IncrementTipSequence, variable i_int_LLD_Sensitivity, variable i_bool_ConvertTouL, variable & o_flt_VolumeMeasured ) variable {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable int_Count;
private variable bool_FunctionSuccessful;
private variable strFunctionName_Cut;
// {{ 5 "LIQUID_LEVEL_MeasureLiquidSingle" "InitLocals"
o_flt_VolumeMeasured = 0;
// }} ""
// {{ 1551 1 0 "bbd37a7e_e6ff_4711_9d37d0db70f2c928" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1552 1 0 "9a1e779e_fe37_4b6b_a3380b2a1e8a9f78" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 1554 1 0 "d9cafebd_865e_49e6_805eb179ca4cdd2d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 1555 1 0 "1d8c348f_ebaf_46cf_9a2b8b43983bfa8c" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 1556 1 0 "e6a212c3_6198_4fcc_98558ec55def2a5b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 1557 1 0 "f8a83d4d_e38d_43a2_8e04a240f626c75d" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 1558 1 0 "fcece0e8_3216_4fc1_93b7530c92eee2a4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 1560 1 0 "bbd37a7e_e6ff_4711_9d37d0db70f2c928" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1561 1 0 "2f13cfb8_9e3a_4d0b_934c7696682e677b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{{ 1562 1 0 "8be9f04f_d14c_435a_8694341300a045bf" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bool_FunctionSuccessful = LIQUID_LEVEL_CHECK::MeasureLiquidLevel_Single(ML_STAR, i_seq_FullReservoirSequence, i_seq_TipsToUse, i_seq_TipWaste, i_str_TipCounter, i_bool_IncrementTipSequence, i_int_LLD_Sensitivity, i_bool_ConvertTouL, o_flt_VolumeMeasured);
// }} ""
// {{ 1563 1 0 "9d6b2c68_4b31_4846_ac13c0e1cc12b2e0" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 1565 1 0 "9d6b2c68_4b31_4846_ac13c0e1cc12b2e0" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1566 1 0 "432f3b6d_3536_4828_a3f25463cf9751dc" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (bool_FunctionSuccessful);
// }} ""
// {{{ 5 "LIQUID_LEVEL_MeasureLiquidSingle" "End"
}
// }} ""
// {{{ 5 "LIQUID_LEVEL_MeasureLiquidMulti" "Begin"
function LIQUID_LEVEL_MeasureLiquidMulti( device & ML_STAR, sequence & i_arrseq_FullReservoirSequences[], sequence & i_seq_TipsToUse, sequence i_seq_TipWaste, variable i_str_TipCounter, variable i_int_LLD_Sensitivity, variable i_bool_ConvertTouL, variable & o_arr_VolumesMeasured[] ) variable {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable bool_FunctionSuccessful;
private variable int_Count;
private variable strFunctionName_Cut;
// {{ 5 "LIQUID_LEVEL_MeasureLiquidMulti" "InitLocals"
o_arr_VolumesMeasured.SetSize( 0);
// }} ""
// {{ 1534 1 0 "56a57b07_b0be_4f1f_8104ee8d3648af70" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1535 1 0 "fb150298_430b_427b_91d6858278430672" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 1537 1 0 "9067eb45_25e7_4722_87690023cef921bb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 1538 1 0 "de07a8ec_b4c1_46ab_94150801e42e0558" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 1539 1 0 "a54b8965_ae62_474b_a09baadc63164362" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 1540 1 0 "52d39605_9e78_4225_9e0051bd9524b045" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 1541 1 0 "1f2235c6_eb6f_4092_8463f5f05e547cdd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 1543 1 0 "56a57b07_b0be_4f1f_8104ee8d3648af70" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1544 1 0 "41f70261_7656_49ac_be65714b157dbe5a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{{ 1545 1 0 "a7e846ef_6897_4301_8f49f79825497248" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bool_FunctionSuccessful = LIQUID_LEVEL_CHECK::MeasureLiquidLevel_Multi(ML_STAR, i_arrseq_FullReservoirSequences, i_seq_TipsToUse, i_seq_TipWaste, i_str_TipCounter, i_int_LLD_Sensitivity, i_bool_ConvertTouL, o_arr_VolumesMeasured);
// }} ""
// {{ 1546 1 0 "2611e881_56f7_4ace_b8de50b64d3a4bdd" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 1548 1 0 "2611e881_56f7_4ace_b8de50b64d3a4bdd" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1549 1 0 "3f168ff3_50ee_4634_b1378c64fd1712f0" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (bool_FunctionSuccessful);
// }} ""
// {{{ 5 "LIQUID_LEVEL_MeasureLiquidMulti" "End"
}
// }} ""
// {{{ 5 "LIQUID_LEVEL_GetLiquidLevelHeight" "Begin"
function LIQUID_LEVEL_GetLiquidLevelHeight( device & ML_STAR, variable i_str_LiquidLevelReturn, sequence i_seq_Labware, variable i_int_Channel, variable & o_flt_LiquidHeight ) void {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable int_Count;
private variable strFunctionName_Cut;
private variable str_LabID;
// {{ 5 "LIQUID_LEVEL_GetLiquidLevelHeight" "InitLocals"
o_flt_LiquidHeight = 0;
// }} ""
// {{ 1516 1 0 "a086588b_4acb_4619_8f04776ef83e3db2" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1517 1 0 "e5cca96d_f439_4751_979db4aba90f7437" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 1519 1 0 "5ebec32f_3f4e_4580_ad2b9de1f1c5859f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 1520 1 0 "6e99261b_ced2_48ab_a1bb6c4b2a89d77e" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 1521 1 0 "96b3ced6_dad2_46ad_a3a2a1646f6c3184" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 1522 1 0 "d98776d1_ae1d_4104_afd49475e7d06dd3" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 1523 1 0 "428b63e5_33c8_4009_8e41e22ad4fd153b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 1525 1 0 "a086588b_4acb_4619_8f04776ef83e3db2" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1526 1 0 "35924568_f966_4c71_b5418fba319b6f14" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{{ 1527 1 0 "1796c362_98b2_4d33_9abf662ada19d00e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
LIQUID_LEVEL_CHECK::FindLiquidHeight(ML_STAR, i_str_LiquidLevelReturn, i_seq_Labware, i_int_Channel, o_flt_LiquidHeight);
// }} ""
// {{{ 1528 1 0 "e45e6b0c_5f53_4a7a_8d32057a5fd5cd01" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(i_seq_Labware);
// }} ""
Trace("******** Liquid Level Height for ",str_LabID," is ",o_flt_LiquidHeight);
// {{ 1530 1 0 "83406c53_82ae_480f_a14b3e61633f0afd" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 1532 1 0 "83406c53_82ae_480f_a14b3e61633f0afd" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "LIQUID_LEVEL_GetLiquidLevelHeight" "End"
}
// }} ""
// {{{ 5 "CHAN_ACCESS_Sort1Sequence" "Begin"
function CHAN_ACCESS_Sort1Sequence( device & ML_STAR, sequence & io_Sequence_to_Sort, variable i_Channel_Type, variable i_Sort_by_Labware, variable i_Sort_by_XY, variable i_Sort_for_Channel_Raster, variable i_Max_Channel, sequence & o_Sorted_Sequence, variable & o_Channel_Pattern ) variable {
// }} ""
private variable status;
private variable used_exclusion;
private variable channel_raster;
private variable num_to_sort;
private variable in_group;
private variable pos1;
private variable restriction_raster;
private variable num_used;
private variable in_index;
private variable update_sql;
private variable y_min;
private variable y_max;
private variable ret_Number_Remaining;
private variable num_labhand_channels;
private variable total_channels;
private variable file_index;
private variable null;
private variable restriction1;
private variable not_used;
private variable lab1;
private variable sort_file;
private variable num_1mL_channels;
private variable prev_y_coord;
private variable filter_sql;
private variable count_sql;
private variable prev_x_coord;
private variable order_by;
private variable num_5mL_channels;
private variable y1;
private variable count_value;
private variable channel_number;
private variable x1;
private variable line_number;
private variable sequence_name;
private sequence temp_seq1;
private file Count_Available;
private file Update_FIle;
private file Sort_File;
private variable arr_Y_Min[];
private variable arr_Y_Max[];
private variable arr_line_numbers[];
private variable bool_FileExists;
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable int_Count;
// {{ 5 "CHAN_ACCESS_Sort1Sequence" "InitLocals"
{ sequence __temp; o_Sorted_Sequence = __temp; }
o_Channel_Pattern = 0;
// }} ""
// {{ 3 1 0 "d6f3fc22_7f9a_4989_a9a14fc455fd3c07" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 4 1 0 "2dba5073_0b0c_41f8_bd562729012a79ae" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 6 1 0 "cd6a9b1a_4754_4705_a20fb1d817421dab" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 7 1 0 "e9d33642_9e8e_441b_a24b03d0ebb532e3" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 8 1 0 "71859bb0_4b46_4d9d_9c9ac8dfe0e43c2e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 9 1 0 "5697df8f_5556_4863_a1ad5ebee7679cbe" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 10 1 0 "8c2a7383_cd1a_42b3_95124c9b77137785" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 12 1 0 "d6f3fc22_7f9a_4989_a9a14fc455fd3c07" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 13 1 0 "b0725c22_fda8_4015_9137316a1b954471" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 14 1 0 "c5e2774a_aa75_4e50_a7c4c835bb139e64" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 15 1 0 "8db8b7b8_6c6a_4332_a835386fab8c7c30" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 16 1 0 "3831ca5f_ab0a_4a2c_8a12b8c994337837" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_1mL_channels = DevGetCfgValueWithKey(ML_STAR, 1);
// }} ""
// {{{ 17 1 0 "9c1b70e0_9604_4f29_aa911457e0a71bc9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_5mL_channels = DevGetCfgValueWithKey(ML_STAR, 43);
// }} ""
// {{{ 18 1 0 "9e8078f0_f002_4e31_a0906b3f835792f0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_labhand_channels = DevGetCfgValueWithKey(ML_STAR, 47);
// }} ""
// {{{ 19 1 0 "13554f0c_dc3c_4abf_9262375de4760861" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Channel_Type = StrConcat2(i_Channel_Type, Translate(""));
// }} ""
// {{{ 20 1 0 "6cd45cb1_2ce3_44ef_9f5eb1ffc8ffcfd1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Channel_Type = StrIVal(i_Channel_Type);
// }} ""
// {{ 21 1 0 "89fb37dd_eaed_4f98_90d1ff6c9fd5afcb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type < 0)
{
// }} ""
// {{{ 22 1 0 "97c80ab4_8340_4a92_98f2dfc079ddb7f7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("***************  Channel type of "), i_Channel_Type, Translate(" is not recognized by this library!!!!"), Translate(""));
// }} ""
// {{ 23 1 0 "4a53cda6_4691_4ff8_9a9f329753cb7250" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = 0;
// }} ""
// {{ 24 1 0 "89fb37dd_eaed_4f98_90d1ff6c9fd5afcb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 25 1 0 "15f8d3c2_e518_4a81_bb6e834ffa682698" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type > 2)
{
// }} ""
// {{{ 26 1 0 "7dc752c7_839b_4204_9c23187c3fe067bb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("***************  Channel type of "), i_Channel_Type, Translate(" is not recognized by this library!!!!"), Translate(""));
// }} ""
// {{ 27 1 0 "48f6c7d1_b36f_4bad_9bb7215e3a998d86" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = 0;
// }} ""
// {{ 28 1 0 "15f8d3c2_e518_4a81_bb6e834ffa682698" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 29 1 0 "900c32f8_10d7_481a_97d54a8eb66849b9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 0)
{
// }} ""
// {{ 30 1 0 "8960a3f9_e0a4_4706_97ed4ab462270328" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = num_1mL_channels;
// }} ""
// {{ 31 1 0 "900c32f8_10d7_481a_97d54a8eb66849b9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 32 1 0 "98a89b12_59af_47ab_b4160536fef74631" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 1)
{
// }} ""
// {{ 33 1 0 "50cab040_35cb_461a_b73f298f00973142" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = num_5mL_channels;
// }} ""
// {{ 34 1 0 "98a89b12_59af_47ab_b4160536fef74631" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 35 1 0 "96d0d544_aaa4_48a2_9280ef0af21f6919" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 2)
{
// }} ""
// {{ 36 1 0 "3a1c1512_764a_4ce9_a4e32bf0861f00f4" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = num_labhand_channels;
// }} ""
// {{ 37 1 0 "96d0d544_aaa4_48a2_9280ef0af21f6919" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 38 1 0 "c5e2774a_aa75_4e50_a7c4c835bb139e64" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 39 1 0 "6e731c7c_d48e_45aa_a4c2d9255f38545f" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 40 1 0 "3bd6ed4a_5a72_4873_957be930a530b10f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_Channel_Pattern = Translate("");
// }} ""
// {{ 41 1 0 "0f8f2c00_b4b7_485c_a08b98e61e8565c5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (total_channels == 0)
{
// }} ""
// {{ 42 1 0 "43b0f265_1241_4654_a1ee4c5e154f7428" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 0)
{
// }} ""
// {{{ 43 1 0 "a6765e72_2173_4dfe_b330837939e4bb7d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no 1 mL channels installed!"), Translate(""));
// }} ""
// {{{ 44 1 0 "480c0969_e36e_4743_bb487758958bdd83" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No 1 mL channels installed!!"));
// }} ""
// {{ 45 1 0 "43b0f265_1241_4654_a1ee4c5e154f7428" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 46 1 0 "ac77a079_5aa9_4414_b11b8e0244a15df7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 1)
{
// }} ""
// {{{ 47 1 0 "542e5ee0_f2a5_41af_810c5cc8282784e8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no 5 mL channels installed!"), Translate(""));
// }} ""
// {{{ 48 1 0 "0dc3ca0c_8a0e_4c42_8bd52c4605c595e0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No 5 mL channels installed!!"));
// }} ""
// {{ 49 1 0 "ac77a079_5aa9_4414_b11b8e0244a15df7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 50 1 0 "25afbf98_97fd_4adb_8ebf13b2ce7e9542" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 2)
{
// }} ""
// {{{ 51 1 0 "14738f7d_6fde_4920_bb3785e27d0dba06" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no Lab Handler channels installed!"), Translate(""));
// }} ""
// {{{ 52 1 0 "9c73d852_df59_49b9_8e836607886df2c9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No Lab Handler channels installed!!"));
// }} ""
// {{ 53 1 0 "25afbf98_97fd_4adb_8ebf13b2ce7e9542" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 54 1 0 "0f8f2c00_b4b7_485c_a08b98e61e8565c5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 55 1 0 "38df9805_a332_46f3_a2ab55db4d4061f9" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::RemoveTruncatedSequencePositions(ML_STAR, io_Sequence_to_Sort);
// }} ""
// {{{ 56 1 0 "92e6240f_0773_42a1_a6bd6860aa8c1d67" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::Set_Channel_Pattern(o_Channel_Pattern, total_channels, 0);
// }} ""
// {{{ 57 1 0 "3b7547d5_0711_40d1_af97e25f8056e94c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Max_Channel = StrConcat2(i_Max_Channel, Translate(""));
// }} ""
// {{{ 58 1 0 "1f7a62aa_0b36_435f_a7c58d1f8b1d2430" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Max_Channel = StrIVal(i_Max_Channel);
// }} ""
// {{ 59 1 0 "ae5efae8_ee87_4c22_bfe8d31d7d196965" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Max_Channel <= 0)
{
// }} ""
// {{ 60 1 0 "126a7044_31fd_438d_8c3ed2fbc1ee0460" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
i_Max_Channel = total_channels;
// }} ""
// {{ 61 1 0 "ae5efae8_ee87_4c22_bfe8d31d7d196965" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 62 1 0 "bce55838_c315_4ef8_975a41a3b89cf383" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Max_Channel > total_channels)
{
// }} ""
// {{ 63 1 0 "4fb360f7_4053_4389_a7b8b647b27e6fb1" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
i_Max_Channel = total_channels;
// }} ""
// {{ 64 1 0 "bce55838_c315_4ef8_975a41a3b89cf383" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 65 1 0 "113f54fa_a980_4fe2_8550c7cae73fa7bf" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
ret_Number_Remaining = 0;
// }} ""
// {{{ 66 1 0 "95baef2f_9689_4604_b497b89fa46e30e8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(o_Sorted_Sequence);
// }} ""
// {{ 67 1 0 "9edbd3b6_2024_4a5a_86081664e3393f47" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 0)
{
// }} ""
// {{ 68 1 0 "0debce79_26eb_4775_aab52e8c135bbda0" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Max=G_ARR_FW_PIP_COM_YMax;
// }} ""
// {{ 69 1 0 "79fcce01_b9f9_45cd_a7196f9953b818eb" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Min=G_ARR_FW_PIP_COM_YMin;
// }} ""
// {{ 70 1 0 "1bd28008_345c_46c2_93f60f65ae31754c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
channel_raster = G_FW_PIP_COM_Raster;
// }} ""
// {{ 71 1 0 "9edbd3b6_2024_4a5a_86081664e3393f47" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 72 1 0 "a5827b05_0def_470a_8d5b5a054d38353b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 1)
{
// }} ""
// {{ 73 1 0 "70e0858d_c2b1_4a64_adce77def7184425" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Max=G_ARR_FW_XL_COM_YMax;
// }} ""
// {{ 74 1 0 "edcf2857_5db9_4fcc_9f0a735ba8fa051a" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Min=G_ARR_FW_XL_COM_YMin;
// }} ""
// {{ 75 1 0 "c3c593f3_a099_4563_8bcf1cf5abb30f31" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
channel_raster = G_FW_XL_COM_Raster;
// }} ""
// {{ 76 1 0 "a5827b05_0def_470a_8d5b5a054d38353b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 77 1 0 "4c0f45ef_9465_4050_b03596afa0d47112" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 2)
{
// }} ""
// {{{ 78 1 0 "e794f148_b377_4c9d_a85db760b0a30b0c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetChannelLimits(ML_STAR, i_Channel_Type, arr_Y_Max, arr_Y_Min, channel_raster);
// }} ""
// {{ 79 1 0 "4c0f45ef_9465_4050_b03596afa0d47112" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 80 1 0 "2b3ea4df_8973_464f_96e4fcb745e167e3" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 81 1 0 "ecf3b9ae_7ab1_49e6_ae76a33a1eae255b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetTempSortingFilePath(sort_file);
// }} ""
// {{{ 82 1 0 "3c4c0b74_5a3f_4d66_a409ce1ff2617a91" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bool_FileExists = HSLExtensions::File::Exists(sort_file);
// }} ""
// {{ 83 1 0 "9a47dea5_d1c2_44b4_a296d0d310bd8bcf" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bool_FileExists == 1)
{
// }} ""
// {{{ 84 1 0 "71c03dfe_8803_485e_af7894413e3b1b07" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLExtensions::File::Delete(sort_file);
// }} ""
// {{ 85 1 0 "9a47dea5_d1c2_44b4_a296d0d310bd8bcf" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 86 1 0 "30b51238_87b2_447c_aef14e349adf5ace" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_to_sort = SeqGetTotal(io_Sequence_to_Sort);
// }} ""
// {{{ 87 1 0 "bf45ec82_c452_4f7c_ad4821e78f16b2be" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
sequence_name = SeqGetName(io_Sequence_to_Sort);
// }} ""
// {{ 88 1 0 "d964d78a_43e0_4150_8f2e9ba6427362c0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_to_sort == 0)
{
// }} ""
// {{{ 89 1 0 "8457ebc3_a63e_4cdf_9bc2139f78eeb3fc" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_Number_Remaining);
// }} ""
// {{ 90 1 0 "d964d78a_43e0_4150_8f2e9ba6427362c0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 91 1 0 "390b968f_06ab_437c_b1dad73164df8b99" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("________________________________________________________"), Translate(""));
// }} ""
// {{{ 92 1 0 "ad89e116_e937_4e4b_ad3eb2bcce1ae558" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate(""), Translate(""));
// }} ""
// {{{ 93 1 0 "0985e440_8e98_4b8c_9a22b58639499f02" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sequence to Sort:  "), sequence_name);
// }} ""
// {{{ 94 1 0 "90491856_a701_43e2_8bc1d1f1e73dfc90" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Number of Positions in Sequence:  "), num_to_sort);
// }} ""
// {{{ 95 1 0 "be83bfbf_e8d4_4145_85587f46c1f90657" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sort by Labware:  "), i_Sort_by_Labware);
// }} ""
// {{{ 96 1 0 "f562c993_84b4_4550_9229746336a018df" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sort by XY:  "), i_Sort_by_XY);
// }} ""
// {{{ 97 1 0 "202bc06f_66d6_4952_91f9d583460e8808" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sort for Channel Raster:  "), i_Sort_for_Channel_Raster);
// }} ""
// {{{ 98 1 0 "05ddc00b_edb5_4c58_b629a901cceec06e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Channel Raster:  "), channel_raster);
// }} ""
// {{{ 99 1 0 "57963eb9_86cc_45b1_9ad05b4f1f5779d1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Maximum Channel:  "), i_Max_Channel);
// }} ""
if(i_Channel_Type == 0) Trace("           Channel Type:  1 mL");
else if(i_Channel_Type == 1) Trace("           Channel Type:  5 mL");
else if(i_Channel_Type == 2) Trace("           Channel Type:  Labware Handler");
// {{{ 101 1 0 "7b56ec9c_9f2e_4239_bd135ce1d1cf86cd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("________________________________________________________"), Translate(""));
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 102 1 0 "6e3988d1_672e_451c_840ecbf87a3dd4d8" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 103 1 0 "48aa5382_86f1_4ea0_850e51e6ded083c6" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Sort_File.AddField("LINE_NUMBER", line_number, hslInteger);
Sort_File.AddField("LAB1", lab1, hslString, 255);
Sort_File.AddField("POS1", pos1, hslString, 255);
Sort_File.AddField("LAB2", not_used, hslString, 255);
Sort_File.AddField("POS2", not_used, hslString, 255);
Sort_File.AddField("VAL1", not_used, hslString, 255);
Sort_File.AddField("VAL2", not_used, hslString, 255);
Sort_File.AddField("X1", x1, hslFloat);
Sort_File.AddField("Y1", y1, hslFloat);
Sort_File.AddField("X2", not_used, hslString, 255);
Sort_File.AddField("Y2", not_used, hslString, 255);
Sort_File.AddField("STATUS", status, hslString, 255);
if( 0 == Sort_File.Open(sort_file + " " + "SORT", hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 104 1 0 "21e72fef_11d9_41d4_af27c4e5b31fc8b5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
not_used = Translate("-----");
// }} ""
// {{ 105 1 0 "da36dcc3_35f4_40f6_89ba2e012a0b15b9" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
status = Translate("NOT_DONE");
// }} ""
// {{ 106 1 0 "9e2cc9d9_5f94_470b_87d5907d0b061972" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(line_number = 0; line_number < num_to_sort;)
{
line_number = line_number + 1;
// }} ""
// {{ 107 1 0 "221851d3_3c9c_4513_9cdf93b73156311b" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
io_Sequence_to_Sort.SetCurrentPosition(line_number);
// }} ""
// {{{ 108 1 0 "eb236da1_eaf2_4d72_805161785d744f1d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
lab1 = SeqGetLabwareId(io_Sequence_to_Sort);
// }} ""
// {{{ 109 1 0 "bd3df358_05c9_485d_8911100cd2430a53" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
pos1 = SeqGetPositionId(io_Sequence_to_Sort);
// }} ""
// {{{ 110 1 0 "ac07d35a_5031_41d1_92f17e6510fed8e9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, lab1, pos1, x1, y1, null, null);
// }} ""
// {{ 111 1 0 "fb772a16_204b_46e1_9c124ec30f74a050" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Sort_File.WriteRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 112 1 0 "9e2cc9d9_5f94_470b_87d5907d0b061972" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 113 1 0 "0fccaf77_0033_4f13_9c652672825f3a38" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Sort_File.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Sort_File.RemoveFields();
// }} ""
// {{ 114 1 0 "90cca26c_e4bb_4cf5_8c2b74c55ed3b2b7" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_line_numbers.SetSize(0);
// }} ""
// {{ 115 1 0 "85787c03_c070_43b2_8df71d15d8d3f381" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_x_coord = 0.0;
// }} ""
// {{ 116 1 0 "f757dc20_0d30_49f2_899e0a07118d7528" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_y_coord = 999.0;
// }} ""
// {{ 117 1 0 "d71b0271_0071_499b_91887a97e6cc10d9" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(channel_number = 0; channel_number < i_Max_Channel;)
{
channel_number = channel_number + 1;
// }} ""
// {{ 118 1 0 "1608acda_ea81_44ef_81a2e48f1c15c264" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
prev_y_coord = prev_y_coord - channel_raster;
// }} ""
// {{{ 119 1 0 "ef8f1f7a_b92a_4957_b0bf77bec5f37bb9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
restriction_raster = StrConcat8(Translate("AND (X1"), Translate(" = "), prev_x_coord, Translate(" AND "), Translate("Y1"), Translate(" <= "), prev_y_coord, Translate(")"));
// }} ""
// {{ 120 1 0 "e947ea79_d666_4f92_8e9b7447436053e6" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 121 1 0 "e5a47cc5_5e8c_43fd_8b5de50af78d7f1b" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
y_max=arr_Y_Max.GetAt(channel_number-1);
// }} ""
// {{ 122 1 0 "46108d45_883e_47c1_87c6fee6b3f015a4" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
y_min=arr_Y_Min.GetAt(channel_number-1);
// }} ""
// {{{ 123 1 0 "9393a38b_33ec_404a_8bd5f9e85d3233da" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
restriction1 = StrConcat8(Translate("(Y1 "), Translate(">= "), y_min, Translate(" AND "), Translate("Y1 "), Translate("<= "), y_max, Translate(")"));
// }} ""
// {{ 124 1 0 "8281c5b4_d83e_4c48_917ba84a77f161da" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 125 1 0 "51e01213_7dd6_44e2_9e05db67afbd54cb" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
num_used=arr_line_numbers.GetSize();
// }} ""
// {{ 126 1 0 "1c1cff31_0280_4e78_8d13f567019b5e01" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_used == 0)
{
// }} ""
// {{ 127 1 0 "00b116cb_ad69_4886_9dff0ef4c7e7b638" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
used_exclusion = Translate("");
// }} ""
// {{ 128 1 0 "1c1cff31_0280_4e78_8d13f567019b5e01" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 129 1 0 "988458ab_1759_4a49_bb850df0b8f6c4d7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(Translate("AND LINE_NUMBER NOT IN("), Translate(""));
// }} ""
// {{ 130 1 0 "b14e49f0_bf51_462e_aea988896ed5ed0a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(in_index = 0; in_index < num_used;)
{
in_index = in_index + 1;
// }} ""
// {{ 131 1 0 "cf8317a2_7ddb_40ff_b02a5a7af0f20f75" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
line_number=arr_line_numbers.GetAt(in_index-1);
// }} ""
// {{ 132 1 0 "71638867_fcca_4697_b8f61cb123bbd4c5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (in_index != 1)
{
// }} ""
// {{{ 133 1 0 "dcd3ba66_c2c5_410f_b15f5481a6028d95" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(used_exclusion, Translate(", "));
// }} ""
// {{ 134 1 0 "71638867_fcca_4697_b8f61cb123bbd4c5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 135 1 0 "ab78e3bd_b9e3_4cd3_a9f574151f983412" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(used_exclusion, line_number);
// }} ""
// {{ 136 1 0 "b14e49f0_bf51_462e_aea988896ed5ed0a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 137 1 0 "e3a7b785_b2dc_4dba_9cb2656affb2d13e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(used_exclusion, Translate(")"));
// }} ""
// {{ 138 1 0 "1c1cff31_0280_4e78_8d13f567019b5e01" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 139 1 0 "522954f8_63eb_44d9_b10ea9259cd87d5e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 140 1 0 "588f5dc2_6343_437b_95182190bd7f0f81" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
order_by = Translate("");
// }} ""
if(i_Sort_by_Labware == 1 && i_Sort_by_XY == 1)
{
   order_by = "ORDER BY LAB1 ASC, X1 ASC, Y1 DESC";
}
else if(i_Sort_by_Labware == 1 && i_Sort_by_XY == 0)
{
   order_by = "ORDER BY LAB1 ASC, LINE_NUMBER ASC";
}
else if(i_Sort_by_Labware == 0 && i_Sort_by_XY == 1)
{
   order_by = "ORDER BY X1 ASC, Y1 DESC";
}
else 
{
   order_by = "ORDER BY LINE_NUMBER ASC";
}
// {{ 142 1 0 "495cbddd_2877_429c_89518c61735363cd" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 143 1 0 "527c8ef5_8b06_498b_ae94ae6fe4a5f035" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
count_sql = StrConcat12(Translate("SELECT COUNT(*) AS N FROM SORT WHERE "), restriction1, Translate(" "), used_exclusion, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), restriction_raster);
// }} ""
// {{ 144 1 0 "02be3c85_6b62_49da_b79be1fe9ba99bfa" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Count_Available.AddField("N", count_value, hslInteger);
if( 0 == Count_Available.Open(sort_file + " " + "SORT", hslRead, count_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 145 1 0 "c892384f_93c7_4723_88370965c33bf275" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Count_Available.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 146 1 0 "2543264f_e1d1_4d28_bce161a111380660" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Count_Available.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Count_Available.RemoveFields();
// }} ""
// {{ 147 1 0 "ad969767_85bf_463f_802c75925652b373" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (count_value == 0)
{
// }} ""
// {{ 148 1 0 "e5a06bcf_9e88_44dc_949cf89eb432245e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_x_coord = 0.0;
// }} ""
// {{ 149 1 0 "ad969767_85bf_463f_802c75925652b373" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 150 1 0 "2b9a7720_3438_4e5b_8b89b6eccc1be2e1" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 151 1 0 "9c36e68b_6382_4d1b_9e822e1fe59722db" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
count_sql = StrConcat12(Translate("SELECT COUNT(*) AS N FROM SORT WHERE "), restriction1, Translate(" "), used_exclusion, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 152 1 0 "06849aa6_e5cd_4458_83fd520397eea087" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Count_Available.AddField("N", count_value, hslInteger);
if( 0 == Count_Available.Open(sort_file + " " + "SORT", hslRead, count_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 153 1 0 "32a96f15_24be_444b_b0a936167d0f6d4d" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Count_Available.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 154 1 0 "b5e2fffd_d01e_4b96_850d89265dfa963d" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Count_Available.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Count_Available.RemoveFields();
// }} ""
// {{ 155 1 0 "eabe061b_6c3f_4bc5_b1a0572dcec52d55" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (count_value > 0)
{
// }} ""
// {{ 156 1 0 "c7b878e7_4e8a_442f_867141fb057476ef" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 157 1 0 "a165ab4b_8b6e_4110_a5c79e0ecb683d03" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
filter_sql = StrConcat12(Translate("SELECT * FROM SORT WHERE "), restriction1, Translate(" "), used_exclusion, Translate(" "), order_by, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 158 1 0 "ae01ec44_8376_4898_b7f9436a984b44fe" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Sort_File.AddField("LINE_NUMBER", line_number, hslInteger);
Sort_File.AddField("LAB1", lab1, hslString, 255);
Sort_File.AddField("POS1", pos1, hslString, 255);
Sort_File.AddField("LAB2", not_used, hslString, 255);
Sort_File.AddField("POS2", not_used, hslString, 255);
Sort_File.AddField("VAL1", not_used, hslString, 255);
Sort_File.AddField("VAL2", not_used, hslString, 255);
Sort_File.AddField("X1", x1, hslFloat);
Sort_File.AddField("Y1", y1, hslFloat);
Sort_File.AddField("X2", not_used, hslString, 255);
Sort_File.AddField("Y2", not_used, hslString, 255);
Sort_File.AddField("STATUS", status, hslString, 255);
if( 0 == Sort_File.Open(sort_file + " " + "SORT", hslRead, filter_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 159 1 0 "993a71c1_7692_4530_91fc94a260e80b70" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
file_index = 0;
while (
   (Sort_File.Eof() == 0)
)
{
file_index = file_index + 1;
// }} ""
// {{ 160 1 0 "47503b32_5a37_41c4_9f9c458d0cb7f757" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Sort_File.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 161 1 0 "fe4a1497_1002_4a83_a638eeabd2dee9b9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Sort_for_Channel_Raster == 0)
{
// }} ""
// {{ 162 1 0 "4d92fa33_0ecc_4fdd_884347f1f82dd349" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 163 1 0 "fe4a1497_1002_4a83_a638eeabd2dee9b9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 164 1 0 "140ef73f_acb7_4446_91c85d77f3144670" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (x1 != prev_x_coord)
{
// }} ""
// {{ 165 1 0 "e5776e1d_8789_4a28_86ec97c97ded8021" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 166 1 0 "140ef73f_acb7_4446_91c85d77f3144670" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 167 1 0 "668414d6_639f_4f77_ac48b94c64d1a8c7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (y1 <= prev_y_coord)
{
// }} ""
// {{ 168 1 0 "d5ddbf3a_9e63_4c20_accfce8130574069" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 169 1 0 "668414d6_639f_4f77_ac48b94c64d1a8c7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 170 1 0 "993a71c1_7692_4530_91fc94a260e80b70" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 171 1 0 "719d6a45_db87_4ad4_a438ae98f3e40487" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Sort_File.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Sort_File.RemoveFields();
// }} ""
// {{{ 172 1 0 "8cbb6a18_4289_4d73_b4fad7f888a533fb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_Sorted_Sequence, lab1, pos1);
// }} ""
// {{{ 173 1 0 "8d539857_787b_43ff_8eaecfd8bdf3f1f2" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::Set_Channel_Pattern(o_Channel_Pattern, channel_number, 1);
// }} ""
// {{ 174 1 0 "32d1929b_8397_450d_a30a4cfb09ad3d2a" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_line_numbers.AddAsLast(line_number);
// }} ""
// {{ 175 1 0 "8befa745_c35c_44c6_8ef55b6877b709bd" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_x_coord = x1;
// }} ""
// {{ 176 1 0 "bc5d7822_7342_4c81_a026ae2dcd5949d7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_y_coord = y1;
// }} ""
// {{ 177 1 0 "eabe061b_6c3f_4bc5_b1a0572dcec52d55" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 178 1 0 "d71b0271_0071_499b_91887a97e6cc10d9" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 179 1 0 "859e4a63_d3d7_4513_aa0b98ab0cf3ceeb" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
o_Sorted_Sequence.SetCurrentPosition(1);
// }} ""
// {{ 180 1 0 "63c0a16d_2749_4a35_9cd7e1a1e7987699" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 181 1 0 "5e07202c_fbf6_4270_b9e9db886ce9776a" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
num_used=arr_line_numbers.GetSize();
// }} ""
// {{ 182 1 0 "c06a2569_9f74_4a19_b529f51e24485183" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
ret_Number_Remaining = num_to_sort - num_used;
// }} ""
// {{ 183 1 0 "c4242370_8fcd_4f69_bb47802ae08f4585" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_used == 0)
{
// }} ""
// {{{ 184 1 0 "e6f53725_860a_4915_b0681dc07a42e98f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("**********************************  The remaining positions are out of reach for the selected channels!!!!"), Translate(""));
// }} ""
// {{{ 185 1 0 "251370c2_2b61_4942_8e85ca1ce9e82bba" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("The remaining positions are out of reach for all the selected channels!!!!"));
// }} ""
// {{ 186 1 0 "c4242370_8fcd_4f69_bb47802ae08f4585" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 187 1 0 "d0432436_6d86_4224_883c5e087bf5c911" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(Translate("LINE_NUMBER IN("), Translate(""));
// }} ""
// {{ 188 1 0 "54c12b82_9c4c_441d_83c5e48cd638917e" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(in_index = 0; in_index < num_used;)
{
in_index = in_index + 1;
// }} ""
// {{ 189 1 0 "0b8456c2_da8f_40fe_a6cde463f32d8fc4" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
line_number=arr_line_numbers.GetAt(in_index-1);
// }} ""
// {{ 190 1 0 "18a2b225_5504_45ab_890b6046745887ac" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (in_index != 1)
{
// }} ""
// {{{ 191 1 0 "588c448b_345a_44de_89526bb45e1cdaf9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(in_group, Translate(", "));
// }} ""
// {{ 192 1 0 "18a2b225_5504_45ab_890b6046745887ac" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 193 1 0 "fb8a03d1_16f9_4617_88a8fd526880c4fb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(in_group, line_number);
// }} ""
// {{ 194 1 0 "54c12b82_9c4c_441d_83c5e48cd638917e" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 195 1 0 "2f800577_9538_4f41_9a612f06dcf88b30" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(in_group, Translate(")"));
// }} ""
// {{{ 196 1 0 "3d895c8e_1123_485c_a3bad157cb497397" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
update_sql = StrConcat4(Translate("UPDATE SORT SET STATUS = 'DONE' WHERE "), in_group, Translate(""), Translate(""));
// }} ""
// {{ 197 1 0 "31938dfe_e810_4987_afa5bf2ad6d04016" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Update_FIle.Open(sort_file + " " + "SORT", hslRead, update_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 198 1 0 "dbea1a68_1cb4_4bde_b770dd8ecda0d1be" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Update_FIle.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Update_FIle.RemoveFields();
// }} ""
// {{ 199 1 0 "6864ff66_518b_4849_b4b8299c93568db0" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 200 1 0 "040197d8_a1f3_4ebc_9549c2ed2f08988d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
count_sql = StrConcat2(Translate("SELECT COUNT(*) AS N FROM SORT WHERE STATUS = 'NOT_DONE'"), Translate(""));
// }} ""
// {{ 201 1 0 "82390a90_ecc3_4d3b_9bf6f38b82efb738" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Count_Available.AddField("N", count_value, hslInteger);
if( 0 == Count_Available.Open(sort_file + " " + "SORT", hslRead, count_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 202 1 0 "5eddbfdd_b75a_4f8a_964a138fc95d22c3" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Count_Available.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 203 1 0 "4a346fab_4996_4a1e_bb7c222defe54652" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Count_Available.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Count_Available.RemoveFields();
// }} ""
// {{ 204 1 0 "965649d4_d5d5_49c7_bad705a1e100b8b1" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
ret_Number_Remaining = count_value;
// }} ""
// {{ 205 1 0 "120db923_7435_47a1_bfd3b07c69fb00c1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (count_value == 0)
{
// }} ""
// {{{ 206 1 0 "138cab6d_0fd9_4630_b3b92a6266e4e682" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(io_Sequence_to_Sort);
// }} ""
// {{ 207 1 0 "120db923_7435_47a1_bfd3b07c69fb00c1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 208 1 0 "495922d0_a11e_40d3_a6722c58302c30c4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
filter_sql = StrConcat2(Translate("SELECT * FROM SORT WHERE STATUS = 'NOT_DONE' ORDER BY LINE_NUMBER ASC"), Translate(""));
// }} ""
// {{{ 209 1 0 "69bb4ff5_83ec_4bc4_b28a5544fb7fe024" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(temp_seq1);
// }} ""
// {{ 210 1 0 "cb945e4d_b94d_42c4_8a092d53b267d222" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Sort_File.AddField("LINE_NUMBER", line_number, hslInteger);
Sort_File.AddField("LAB1", lab1, hslString, 255);
Sort_File.AddField("POS1", pos1, hslString, 255);
Sort_File.AddField("LAB2", not_used, hslString, 255);
Sort_File.AddField("POS2", not_used, hslString, 255);
Sort_File.AddField("VAL1", not_used, hslString, 255);
Sort_File.AddField("VAL2", not_used, hslString, 255);
Sort_File.AddField("X1", x1, hslFloat);
Sort_File.AddField("Y1", y1, hslFloat);
Sort_File.AddField("X2", not_used, hslString, 255);
Sort_File.AddField("Y2", not_used, hslString, 255);
Sort_File.AddField("STATUS", status, hslString, 255);
if( 0 == Sort_File.Open(sort_file + " " + "SORT", hslRead, filter_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 211 1 0 "569c6913_ab6d_49a4_863164a4fa038b88" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
while (
   (Sort_File.Eof() == 0)
)
{
// }} ""
// {{ 212 1 0 "f67ee222_a5ba_4deb_8a0ebc90d4ba5767" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Sort_File.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{{ 213 1 0 "278267b9_602a_47b5_bf2b5f6af92df5e4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(temp_seq1, lab1, pos1);
// }} ""
// {{ 214 1 0 "569c6913_ab6d_49a4_863164a4fa038b88" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 215 1 0 "61fa63ae_fe3c_4f12_aaef291cb3fda7a2" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Sort_File.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Sort_File.RemoveFields();
// }} ""
// {{ 216 1 0 "abfd90ec_d8a6_4d8d_8b26fa61cbc71548" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
temp_seq1.SetCurrentPosition(1);
// }} ""
// {{{ 217 1 0 "0583089a_8948_4354_91611ef08c996f84" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqCopySequence(io_Sequence_to_Sort, temp_seq1);
// }} ""
// {{ 218 1 0 "120db923_7435_47a1_bfd3b07c69fb00c1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 219 1 0 "f083d51e_c0c2_40d3_a96236e2ed7a65a8" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 221 1 0 "f083d51e_c0c2_40d3_a96236e2ed7a65a8" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 222 1 0 "3efcf433_c482_4a05_99a3246142a78416" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_Number_Remaining);
// }} ""
// {{{ 5 "CHAN_ACCESS_Sort1Sequence" "End"
}
// }} ""
// {{{ 5 "CHAN_ACCESS_Sort1Sequence1Array" "Begin"
function CHAN_ACCESS_Sort1Sequence1Array( device & ML_STAR, sequence & io_Sequence_to_Sort, variable & io_Array_of_Variables[], variable i_Channel_Type, variable i_Sort_by_Labware, variable i_Sort_by_XY, variable i_Sort_for_Channel_Raster, variable i_Max_Channel, sequence & o_Sorted_Sequence, variable & o_Sorted_Array[], variable & o_Channel_Pattern ) variable {
// }} ""
private variable channel_raster;
private variable used_exclusion;
private variable status;
private variable pos1;
private variable num_to_sort;
private variable in_group;
private variable restriction_raster;
private variable num_used;
private variable in_index;
private variable y_min;
private variable update_sql;
private variable y_max;
private variable val1;
private variable ret_Number_Remaining;
private variable num_in_array;
private variable value_equal;
private variable num_labhand_channels;
private variable total_channels;
private variable file_index;
private variable null;
private variable restriction1;
private variable not_used;
private variable lab1;
private variable sort_file;
private variable prev_x_coord;
private variable num_1mL_channels;
private variable filter_sql;
private variable prev_y_coord;
private variable count_sql;
private variable order_by;
private variable num_5mL_channels;
private variable is_string;
private variable y1;
private variable val_type1;
private variable channel_number;
private variable count_value;
private variable x1;
private variable line_number;
private variable is_integer;
private variable is_float;
private variable sequence_name;
private sequence temp_seq1;
private file Count_Available;
private file Update_FIle;
private file Sort_File;
private variable arr_temp_array1[];
private variable arr_Y_Min[];
private variable arr_Y_Max[];
private variable arr_line_numbers[];
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable int_Count;
private variable bool_FileExists;
// {{ 5 "CHAN_ACCESS_Sort1Sequence1Array" "InitLocals"
{ sequence __temp; o_Sorted_Sequence = __temp; }
o_Sorted_Array.SetSize( 0);
o_Channel_Pattern = 0;
// }} ""
// {{ 224 1 0 "859f2747_addd_43dc_b174f032c09082ce" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 225 1 0 "fa9a0018_ce85_4233_9f8f79768a985347" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 227 1 0 "100ea6ff_0ed3_49c0_951442d26a6218e4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 228 1 0 "92a571f6_f6b6_48fd_bb8ce1a7c17ad9c2" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 229 1 0 "dc1531e2_b8f3_4dbd_a68d8d4a82ee8482" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 230 1 0 "148c0c87_371d_4f1e_8d7970a3182d92fa" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 231 1 0 "35343af9_2c8c_4b25_be676f2ef8d64f16" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 233 1 0 "859f2747_addd_43dc_b174f032c09082ce" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 234 1 0 "993096e7_5333_49ab_9b6cd4b11ab4ae78" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 235 1 0 "b22d0c2c_d4f4_40ef_b385238b87d3b3d9" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 236 1 0 "2d1efb37_eb7b_4601_9dd0d6450b952b4e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 237 1 0 "8ab492d9_c036_40c5_8eb2e8698212026f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_1mL_channels = DevGetCfgValueWithKey(ML_STAR, 1);
// }} ""
// {{{ 238 1 0 "1a4daa24_8d2e_466e_a694798a815fefc7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_5mL_channels = DevGetCfgValueWithKey(ML_STAR, 43);
// }} ""
// {{{ 239 1 0 "62ef6e3c_a822_4f37_b3acb378c55f1c5d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_labhand_channels = DevGetCfgValueWithKey(ML_STAR, 47);
// }} ""
// {{{ 240 1 0 "e6dc126e_483b_4039_97ec2cceac88d93c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Channel_Type = StrConcat2(i_Channel_Type, Translate(""));
// }} ""
// {{{ 241 1 0 "b241e611_053a_4023_9e9fc70a2a8529ae" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Channel_Type = StrIVal(i_Channel_Type);
// }} ""
// {{ 242 1 0 "0278d514_5bf3_4d38_b4a12c6799e214a9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type < 0)
{
// }} ""
// {{{ 243 1 0 "e9d94097_d99b_4463_9f46a2766590581f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("***************  Channel type of "), i_Channel_Type, Translate(" is not recognized by this library!!!!"), Translate(""));
// }} ""
// {{ 244 1 0 "c2323579_a8e8_4d81_85c57a708ea99166" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = 0;
// }} ""
// {{ 245 1 0 "0278d514_5bf3_4d38_b4a12c6799e214a9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 246 1 0 "9e35a5bf_9d0b_42b2_ab63325afd4f376b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type > 2)
{
// }} ""
// {{{ 247 1 0 "e1576b5d_2016_49e4_82b6fac677d638b9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("***************  Channel type of "), i_Channel_Type, Translate(" is not recognized by this library!!!!"), Translate(""));
// }} ""
// {{ 248 1 0 "658afd15_6ba4_4cf7_adfc2fdd8df23dd7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = 0;
// }} ""
// {{ 249 1 0 "9e35a5bf_9d0b_42b2_ab63325afd4f376b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 250 1 0 "71830ba8_1b16_41c9_9b6f6749bb157255" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 0)
{
// }} ""
// {{ 251 1 0 "4f39ba55_c372_4573_be2a102fdcaf54fd" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = num_1mL_channels;
// }} ""
// {{ 252 1 0 "71830ba8_1b16_41c9_9b6f6749bb157255" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 253 1 0 "fffb1524_ddcf_45fb_ac057450180b9bf5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 1)
{
// }} ""
// {{ 254 1 0 "4d612a8a_704c_4d4a_a15977299cf85361" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = num_5mL_channels;
// }} ""
// {{ 255 1 0 "fffb1524_ddcf_45fb_ac057450180b9bf5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 256 1 0 "ed0e24dc_5835_4fef_a3044e5cd7b4d02c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 2)
{
// }} ""
// {{ 257 1 0 "1dccb59a_d987_45c6_861fba28854a6c37" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = num_labhand_channels;
// }} ""
// {{ 258 1 0 "ed0e24dc_5835_4fef_a3044e5cd7b4d02c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 259 1 0 "b22d0c2c_d4f4_40ef_b385238b87d3b3d9" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 260 1 0 "ac670a4f_4a46_412f_875979a0a4113534" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 261 1 0 "b5d3b5e5_f9d4_4479_b9a2510207f9b9fd" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_Channel_Pattern = Translate("");
// }} ""
// {{ 262 1 0 "6e9a6e07_09c9_45d8_bb1c560b3831d2c5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (total_channels == 0)
{
// }} ""
// {{ 263 1 0 "3e8b51d3_0339_4d7c_89155d36de153586" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 0)
{
// }} ""
// {{{ 264 1 0 "b5f5abd2_5151_4502_ae6f112b8b907a8f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no 1 mL channels installed!"), Translate(""));
// }} ""
// {{{ 265 1 0 "888541b4_6a53_467c_a1c6c3b295c39e6d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No 1 mL channels installed!!"));
// }} ""
// {{ 266 1 0 "3e8b51d3_0339_4d7c_89155d36de153586" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 267 1 0 "a1815b5e_beb4_443b_b938fddfd615639d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 1)
{
// }} ""
// {{{ 268 1 0 "72d82c21_0b43_4b9e_942742760313bd1d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no 5 mL channels installed!"), Translate(""));
// }} ""
// {{{ 269 1 0 "49367259_1600_4192_9f2ead1dc9d26a2a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No 5 mL channels installed!!"));
// }} ""
// {{ 270 1 0 "a1815b5e_beb4_443b_b938fddfd615639d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 271 1 0 "7641e088_40ab_462a_911f445606772f04" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 2)
{
// }} ""
// {{{ 272 1 0 "aa7e1a84_4539_49e7_a81d270b8dadc350" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no Lab Handler channels installed!"), Translate(""));
// }} ""
// {{{ 273 1 0 "47425b17_31d5_4934_a001fa3eeb5c1f24" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No Lab Handler channels installed!!"));
// }} ""
// {{ 274 1 0 "7641e088_40ab_462a_911f445606772f04" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 275 1 0 "6e9a6e07_09c9_45d8_bb1c560b3831d2c5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 276 1 0 "36b122d3_8c01_4d2f_81b7df627d631a0d" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::RemoveTruncatedSequencePositions(ML_STAR, io_Sequence_to_Sort);
// }} ""
// {{{ 277 1 0 "62c42dc6_0d49_4a0e_a28b7b70474dcdeb" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::Set_Channel_Pattern(o_Channel_Pattern, total_channels, 0);
// }} ""
// {{{ 278 1 0 "9df6e2ad_debf_48e9_bef681c27e228bb6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Max_Channel = StrConcat2(i_Max_Channel, Translate(""));
// }} ""
// {{{ 279 1 0 "231e95f0_d2fb_461c_81a5f01e603586df" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Max_Channel = StrIVal(i_Max_Channel);
// }} ""
// {{ 280 1 0 "dd0923ed_7516_4871_a74f722facd97cdf" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Max_Channel <= 0)
{
// }} ""
// {{ 281 1 0 "530c87be_1123_406e_ab6a2a5be1ed562a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
i_Max_Channel = total_channels;
// }} ""
// {{ 282 1 0 "dd0923ed_7516_4871_a74f722facd97cdf" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 283 1 0 "6041d695_7b98_437a_b82150aa177f6687" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Max_Channel > total_channels)
{
// }} ""
// {{ 284 1 0 "22618534_0b46_49c8_aab6ecf432ebd32c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
i_Max_Channel = total_channels;
// }} ""
// {{ 285 1 0 "6041d695_7b98_437a_b82150aa177f6687" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 286 1 0 "b1435ae7_440b_474f_ba5db96112d9524c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
ret_Number_Remaining = 0;
// }} ""
// {{{ 287 1 0 "6044702f_66a5_4452_b7c32bbb77fb0492" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(o_Sorted_Sequence);
// }} ""
// {{ 288 1 0 "97f184cb_dac4_4e7a_8753930da4542693" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_Sorted_Array.SetSize(i_Max_Channel);
// }} ""
// {{ 289 1 0 "05a00d25_5083_4282_9ddfe6619752d650" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 0)
{
// }} ""
// {{ 290 1 0 "eb7c0c97_d10b_4530_8c983221dc8d7f5c" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Max=G_ARR_FW_PIP_COM_YMax;
// }} ""
// {{ 291 1 0 "c45bc921_e017_4f4e_9cd01ea2e7c22b76" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Min=G_ARR_FW_PIP_COM_YMin;
// }} ""
// {{ 292 1 0 "4c8aee98_9c2d_4f35_bce0c6c05be618c6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
channel_raster = G_FW_PIP_COM_Raster;
// }} ""
// {{ 293 1 0 "05a00d25_5083_4282_9ddfe6619752d650" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 294 1 0 "87b10b49_de4e_4bc9_aa1caca1bfdd3067" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 1)
{
// }} ""
// {{ 295 1 0 "4a7bc42b_5d13_4ec6_92b9bf4a32d051cb" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Max=G_ARR_FW_XL_COM_YMax;
// }} ""
// {{ 296 1 0 "7dc0124e_03bb_4450_aa76f707cd1232e8" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Min=G_ARR_FW_XL_COM_YMin;
// }} ""
// {{ 297 1 0 "234efb66_b7a4_44fc_b5f91366b18dfbb4" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
channel_raster = G_FW_XL_COM_Raster;
// }} ""
// {{ 298 1 0 "87b10b49_de4e_4bc9_aa1caca1bfdd3067" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 299 1 0 "0e60082f_5f4e_447d_97cadb0835bd4272" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 2)
{
// }} ""
// {{{ 300 1 0 "bed7a88f_9070_4e62_86d95747145f8662" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetChannelLimits(ML_STAR, i_Channel_Type, arr_Y_Max, arr_Y_Min, channel_raster);
// }} ""
// {{ 301 1 0 "0e60082f_5f4e_447d_97cadb0835bd4272" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 302 1 0 "bfc49120_0e6e_46ff_9c5301337cf8acbc" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 303 1 0 "04dfeb7c_7fb3_4070_b886b012f852cc02" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetTempSortingFilePath(sort_file);
// }} ""
// {{{ 304 1 0 "472369f3_a85e_41b8_b7ccc82b2bcbc3ca" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bool_FileExists = HSLExtensions::File::Exists(sort_file);
// }} ""
// {{ 305 1 0 "3c08d656_5063_44d0_8126a0cf7dfea963" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bool_FileExists == 1)
{
// }} ""
// {{{ 306 1 0 "a55536b1_4851_4d81_b7243e23fb470116" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLExtensions::File::Delete(sort_file);
// }} ""
// {{ 307 1 0 "3c08d656_5063_44d0_8126a0cf7dfea963" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 308 1 0 "a7cd4e60_4224_4fbb_8fa6665e191e2d75" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_to_sort = SeqGetTotal(io_Sequence_to_Sort);
// }} ""
// {{{ 309 1 0 "77354240_6eb4_45b5_99c1198f96cbf270" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
sequence_name = SeqGetName(io_Sequence_to_Sort);
// }} ""
// {{ 310 1 0 "16320a9d_b3c3_45ff_9e3168f529b124d2" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
num_in_array=io_Array_of_Variables.GetSize();
// }} ""
// {{ 311 1 0 "5758402a_cef6_4850_80d90585f85786f7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
value_equal = 0;
// }} ""
if(num_to_sort == num_in_array) value_equal = 1;
// {{ 313 1 0 "a302ff3d_62d2_46d6_ac9e60f1a488c6e2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_to_sort == 0)
{
// }} ""
// {{{ 314 1 0 "222db455_79d3_4d3f_905a6c32c8a1344b" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_Number_Remaining);
// }} ""
// {{ 315 1 0 "a302ff3d_62d2_46d6_ac9e60f1a488c6e2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 316 1 0 "695ca188_d0dd_4d6c_b74f438dae1f375e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (value_equal == 0)
{
// }} ""
// {{{ 317 1 0 "fd765036_3ede_4274_954e447d5a1d842e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("##############  SEQUENCE AND ARRAY DO NOT HAVE THE SAME NUMBER OF POSITIONS."), Translate(""));
// }} ""
// {{{ 318 1 0 "0388252c_59ca_46c9_9548201b9104e6f4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("Sequence and array does not have the same number of positions."));
// }} ""
// {{ 319 1 0 "695ca188_d0dd_4d6c_b74f438dae1f375e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 320 1 0 "b212dd37_9a8a_41e4_9e40f462e148cf1c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("________________________________________________________"), Translate(""));
// }} ""
// {{{ 321 1 0 "e0c1801e_07ab_447e_8f7cf4804b8ecc03" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate(""), Translate(""));
// }} ""
// {{{ 322 1 0 "8265c0d5_5985_4659_bed8f5177f261a69" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sequence to Sort:  "), sequence_name);
// }} ""
// {{{ 323 1 0 "d9df33b7_a1aa_4b2d_86f74f28ada5955e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Number of Positions in Sequence:  "), num_to_sort);
// }} ""
// {{{ 324 1 0 "b0b86df8_9ed4_414f_a9647ef83263152d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sort by Labware:  "), i_Sort_by_Labware);
// }} ""
// {{{ 325 1 0 "4655d85a_229b_4ce7_a4d67ec5d47c5f70" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sort by XY:  "), i_Sort_by_XY);
// }} ""
// {{{ 326 1 0 "6fef4614_9ffa_4038_8c762bebe3782cbb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sort for Channel Raster:  "), i_Sort_for_Channel_Raster);
// }} ""
// {{{ 327 1 0 "c07c66f3_db50_41ec_9394d9c32d21426d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Channel Raster:  "), channel_raster);
// }} ""
// {{{ 328 1 0 "3deabee1_915d_419d_bd6a25217f212ab7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Maximum Channel:  "), i_Max_Channel);
// }} ""
if(i_Channel_Type == 0) Trace("           Channel Type:  1 mL");
else if(i_Channel_Type == 1) Trace("           Channel Type:  5 mL");
else if(i_Channel_Type == 2) Trace("           Channel Type:  Labware Handler");
// {{{ 330 1 0 "8e22d413_c6db_4f5b_9f89108eb8da2365" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("________________________________________________________"), Translate(""));
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 331 1 0 "9ff9ea74_90ae_4d44_998acf0bc8b8e390" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 332 1 0 "9450234e_6e9d_4ab4_b00c5cb604183b1b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
is_float = HSLExtensions::Array::IsFloatArray(io_Array_of_Variables);
// }} ""
// {{{ 333 1 0 "360b0b07_c5c6_4bf5_8748743dbdb14aeb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
is_integer = HSLExtensions::Array::IsIntegerArray(io_Array_of_Variables);
// }} ""
// {{{ 334 1 0 "9edb3b10_aaf7_4663_877eca15429d4c64" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
is_string = HSLExtensions::Array::IsStringArray(io_Array_of_Variables);
// }} ""
// {{ 335 1 0 "47fd5db1_fa1e_46c7_98a62d6e907f2a9b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
val_type1 = 0;
// }} ""
if(is_float == 1) val_type1 = 1;
else if(is_integer == 1) val_type1 = 2;
// {{ 337 1 0 "7e33240a_8e21_4bd7_ad3abba1b00d94c8" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 338 1 0 "48eae329_c026_442a_ba747e1faad2279a" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Sort_File.AddField("LINE_NUMBER", line_number, hslInteger);
Sort_File.AddField("LAB1", lab1, hslString, 255);
Sort_File.AddField("POS1", pos1, hslString, 255);
Sort_File.AddField("LAB2", not_used, hslString, 255);
Sort_File.AddField("POS2", not_used, hslString, 255);
Sort_File.AddField("VAL1", val1, hslString, 255);
Sort_File.AddField("VAL2", not_used, hslString, 255);
Sort_File.AddField("X1", x1, hslFloat);
Sort_File.AddField("Y1", y1, hslFloat);
Sort_File.AddField("X2", not_used, hslString, 255);
Sort_File.AddField("Y2", not_used, hslString, 255);
Sort_File.AddField("STATUS", status, hslString, 255);
if( 0 == Sort_File.Open(sort_file + " " + "SORT", hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 339 1 0 "d1cd0e59_9359_4c0c_b014ceb5c9890064" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
not_used = Translate("-----");
// }} ""
// {{ 340 1 0 "0841b6dd_d632_40b0_8f3090526e2f704e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
status = Translate("NOT_DONE");
// }} ""
// {{ 341 1 0 "2e91d526_2001_41f2_876b636b01b6dc54" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(line_number = 0; line_number < num_to_sort;)
{
line_number = line_number + 1;
// }} ""
// {{ 342 1 0 "9a850b41_5d36_4dd0_8da1622fe877801b" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
io_Sequence_to_Sort.SetCurrentPosition(line_number);
// }} ""
// {{{ 343 1 0 "96c325c9_3555_4c3d_b73dc5ade9a7ddf1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
lab1 = SeqGetLabwareId(io_Sequence_to_Sort);
// }} ""
// {{{ 344 1 0 "6d390a45_f79e_40d9_8a999a93d2ba9aeb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
pos1 = SeqGetPositionId(io_Sequence_to_Sort);
// }} ""
// {{{ 345 1 0 "9a13ed8c_0972_46a8_bfa66315d099eec1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, lab1, pos1, x1, y1, null, null);
// }} ""
// {{ 346 1 0 "817bc09d_f4e1_4baf_b0c0aab6165ece48" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
val1=io_Array_of_Variables.GetAt(line_number-1);
// }} ""
// {{ 347 1 0 "c8b9bb06_15f6_4c27_86cee5d6e212142c" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Sort_File.WriteRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 348 1 0 "2e91d526_2001_41f2_876b636b01b6dc54" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 349 1 0 "c90b5977_03bb_4b5a_ae1c867fb403982f" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Sort_File.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Sort_File.RemoveFields();
// }} ""
// {{ 350 1 0 "9b66b2eb_103c_47be_9b30e802664e4393" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_line_numbers.SetSize(0);
// }} ""
// {{ 351 1 0 "3e640c5e_f7c0_4fb4_a7b77e1809bfb276" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_x_coord = 0.0;
// }} ""
// {{ 352 1 0 "a053a414_5b3d_462f_a3e70c29d6ca54a8" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_y_coord = 999.0;
// }} ""
// {{ 353 1 0 "f59abef5_52c6_465e_ac7d4dfe0141c699" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(channel_number = 0; channel_number < i_Max_Channel;)
{
channel_number = channel_number + 1;
// }} ""
// {{ 354 1 0 "00311f56_d96d_4062_ab245c061bb28846" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
prev_y_coord = prev_y_coord - channel_raster;
// }} ""
// {{{ 355 1 0 "09c441b4_e06d_4710_b22fb2adda84ad8b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
restriction_raster = StrConcat8(Translate("AND (X1"), Translate(" = "), prev_x_coord, Translate(" AND "), Translate("Y1"), Translate(" <= "), prev_y_coord, Translate(")"));
// }} ""
// {{ 356 1 0 "b9204fe7_ea1f_4686_916aef49d51f44f1" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 357 1 0 "1a810470_43f1_4bb9_a1a425a42b67f005" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
y_max=arr_Y_Max.GetAt(channel_number-1);
// }} ""
// {{ 358 1 0 "0bd66511_b780_4282_a3ae50e7d626c4bb" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
y_min=arr_Y_Min.GetAt(channel_number-1);
// }} ""
// {{{ 359 1 0 "3ad9278b_02a9_4476_b2a79b1bd9c58a0c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
restriction1 = StrConcat8(Translate("(Y1 "), Translate(">= "), y_min, Translate(" AND "), Translate("Y1 "), Translate("<= "), y_max, Translate(")"));
// }} ""
// {{ 360 1 0 "d23394bf_fb28_4d96_9824ba3790058636" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 361 1 0 "7c6534bb_a197_4c93_bd4fdb166798ead6" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
num_used=arr_line_numbers.GetSize();
// }} ""
// {{ 362 1 0 "9c611d0b_4b6f_4317_90f2087adcc6dd37" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_used == 0)
{
// }} ""
// {{ 363 1 0 "986a49ed_85ec_4b47_a86ff3a2fa9484bd" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
used_exclusion = Translate("");
// }} ""
// {{ 364 1 0 "9c611d0b_4b6f_4317_90f2087adcc6dd37" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 365 1 0 "8cd3a0ce_620d_4bef_a0774034b781e85d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(Translate("AND LINE_NUMBER NOT IN("), Translate(""));
// }} ""
// {{ 366 1 0 "ad885f3c_09ea_4f51_ad78277fc682aa30" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(in_index = 0; in_index < num_used;)
{
in_index = in_index + 1;
// }} ""
// {{ 367 1 0 "548aff85_ece7_4592_be087e241637acc6" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
line_number=arr_line_numbers.GetAt(in_index-1);
// }} ""
// {{ 368 1 0 "cab8ff12_b883_46cc_926dd0399c851e3f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (in_index != 1)
{
// }} ""
// {{{ 369 1 0 "1cbe0b93_2fc7_4177_9ed145250c32bc4d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(used_exclusion, Translate(", "));
// }} ""
// {{ 370 1 0 "cab8ff12_b883_46cc_926dd0399c851e3f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 371 1 0 "2c69b7c2_9b64_46fe_b25619f703d442dd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(used_exclusion, line_number);
// }} ""
// {{ 372 1 0 "ad885f3c_09ea_4f51_ad78277fc682aa30" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 373 1 0 "ee222584_dc8c_473e_a0a6c27bdb55df74" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(used_exclusion, Translate(")"));
// }} ""
// {{ 374 1 0 "9c611d0b_4b6f_4317_90f2087adcc6dd37" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 375 1 0 "6b7d1da4_857c_469a_80695ba667e5bed0" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 376 1 0 "56dec4ab_2017_4601_bf5b619d1d8e65ac" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
order_by = Translate("");
// }} ""
if(i_Sort_by_Labware == 1 && i_Sort_by_XY == 1)
{
   order_by = "ORDER BY LAB1 ASC, X1 ASC, Y1 DESC";
}
else if(i_Sort_by_Labware == 1 && i_Sort_by_XY == 0)
{
   order_by = "ORDER BY LAB1 ASC, LINE_NUMBER ASC";
}
else if(i_Sort_by_Labware == 0 && i_Sort_by_XY == 1)
{
   order_by = "ORDER BY X1 ASC, Y1 DESC";
}
else 
{
   order_by = "ORDER BY LINE_NUMBER ASC";
}
// {{ 378 1 0 "a2edb2cc_c200_4056_98eddb4b08260429" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 379 1 0 "b890f0e8_8fe0_4454_a573b7017fdfb573" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
count_sql = StrConcat12(Translate("SELECT COUNT(*) AS N FROM SORT WHERE "), restriction1, Translate(" "), used_exclusion, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), restriction_raster);
// }} ""
// {{ 380 1 0 "7b1fa051_a22b_4d4c_b866995ebef497b0" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Count_Available.AddField("N", count_value, hslInteger);
if( 0 == Count_Available.Open(sort_file + " " + "SORT", hslRead, count_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 381 1 0 "38209b86_2947_43d3_95c8110b4e09af0b" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Count_Available.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 382 1 0 "bd02e292_91c0_494e_a0da986820989587" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Count_Available.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Count_Available.RemoveFields();
// }} ""
// {{ 383 1 0 "c90b41cc_2c6a_462b_b5eb14a568d27ffa" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (count_value == 0)
{
// }} ""
// {{ 384 1 0 "8bf987aa_778e_4ce3_bca27e15620014c9" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_x_coord = 0.0;
// }} ""
// {{ 385 1 0 "c90b41cc_2c6a_462b_b5eb14a568d27ffa" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 386 1 0 "1c328817_cbe8_4125_8e4bea448bcc64e0" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 387 1 0 "91140b5b_dec8_4ce3_be3b21670f443207" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
count_sql = StrConcat12(Translate("SELECT COUNT(*) AS N FROM SORT WHERE "), restriction1, Translate(" "), used_exclusion, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 388 1 0 "57e6d1f1_f7ca_4fd6_9aa8da793e919822" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Count_Available.AddField("N", count_value, hslInteger);
if( 0 == Count_Available.Open(sort_file + " " + "SORT", hslRead, count_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 389 1 0 "481c7a8a_b907_41a9_b205a144a97982a9" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Count_Available.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 390 1 0 "a65a359a_81e7_409e_8166fe2c62673dc9" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Count_Available.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Count_Available.RemoveFields();
// }} ""
// {{ 391 1 0 "1e27d55f_2d55_42a4_acb35b856b681877" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (count_value > 0)
{
// }} ""
// {{ 392 1 0 "de24d4f1_c2f0_4f48_9b13d23d587dc9fd" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 393 1 0 "5a9e4f07_3a09_453e_9dfabdf984abcbb2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
filter_sql = StrConcat12(Translate("SELECT * FROM SORT WHERE "), restriction1, Translate(" "), used_exclusion, Translate(" "), order_by, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 394 1 0 "fe7f08fd_a595_4d26_ad0d6bba65b14170" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Sort_File.AddField("LINE_NUMBER", line_number, hslInteger);
Sort_File.AddField("LAB1", lab1, hslString, 255);
Sort_File.AddField("POS1", pos1, hslString, 255);
Sort_File.AddField("LAB2", not_used, hslString, 255);
Sort_File.AddField("POS2", not_used, hslString, 255);
Sort_File.AddField("VAL1", val1, hslString, 255);
Sort_File.AddField("VAL2", not_used, hslString, 255);
Sort_File.AddField("X1", x1, hslFloat);
Sort_File.AddField("Y1", y1, hslFloat);
Sort_File.AddField("X2", not_used, hslString, 255);
Sort_File.AddField("Y2", not_used, hslString, 255);
Sort_File.AddField("STATUS", status, hslString, 255);
if( 0 == Sort_File.Open(sort_file + " " + "SORT", hslRead, filter_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 395 1 0 "3761a6ad_eedf_487f_ab1dec090365412b" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
file_index = 0;
while (
   (Sort_File.Eof() == 0)
)
{
file_index = file_index + 1;
// }} ""
// {{ 396 1 0 "8fb90739_278c_4bdd_a51361f1465856a3" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Sort_File.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 397 1 0 "bf2a6773_f3ee_456c_a29a7f6581d1ae4a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Sort_for_Channel_Raster == 0)
{
// }} ""
// {{ 398 1 0 "901faa1b_f82a_47e0_9a6923ead11232d4" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 399 1 0 "bf2a6773_f3ee_456c_a29a7f6581d1ae4a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 400 1 0 "740b3984_7632_4c78_a6b1896a5cdd268a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (x1 != prev_x_coord)
{
// }} ""
// {{ 401 1 0 "770013f0_dbe6_4506_abe01299baa3ac72" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 402 1 0 "740b3984_7632_4c78_a6b1896a5cdd268a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 403 1 0 "1bbd2615_01df_4097_99815149c6923ec0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (y1 <= prev_y_coord)
{
// }} ""
// {{ 404 1 0 "53e73996_6f07_491e_83e063e2f626751a" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 405 1 0 "1bbd2615_01df_4097_99815149c6923ec0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 406 1 0 "3761a6ad_eedf_487f_ab1dec090365412b" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 407 1 0 "2b3f1e04_e5b3_4890_a77b425d6051de25" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Sort_File.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Sort_File.RemoveFields();
// }} ""
// This converts the array values back to their original state

if(val_type1 == 1) val1 = FVal(val1);
else if(val_type1 == 2) val1 = IVal(val1); 
// {{{ 409 1 0 "1f7c5560_002f_43b8_8b9429a580f6c3e4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_Sorted_Sequence, lab1, pos1);
// }} ""
// {{{ 410 1 0 "b8a2ae26_b3ed_440f_96fe5eb72e8adb3a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::Set_Channel_Pattern(o_Channel_Pattern, channel_number, 1);
// }} ""
// {{ 411 1 0 "84e8377a_0233_42dd_94f0996931dec666" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_Sorted_Array.SetAt(channel_number-1, val1);
// }} ""
// {{ 412 1 0 "1b6660d2_8727_4b45_8edec9c177ca0c2c" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_line_numbers.AddAsLast(line_number);
// }} ""
// {{ 413 1 0 "07e4725b_da6f_47d4_bb9ce0ac22bf749a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_x_coord = x1;
// }} ""
// {{ 414 1 0 "786d82af_6013_461c_be5af625c118ac8b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_y_coord = y1;
// }} ""
// {{ 415 1 0 "1e27d55f_2d55_42a4_acb35b856b681877" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 416 1 0 "b1195e50_8ab8_4feb_b98dbdb9755d15ff" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
val1 = Translate("0");
// }} ""
// This converts the array values back to their original state

if(val_type1 == 1) val1 = FVal(val1);
else if(val_type1 == 2) val1 = IVal(val1); 
// {{ 418 1 0 "e845dd4f_c537_43fd_8f9a47f0fc625473" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_Sorted_Array.SetAt(channel_number-1, val1);
// }} ""
// {{ 419 1 0 "1e27d55f_2d55_42a4_acb35b856b681877" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 420 1 0 "f59abef5_52c6_465e_ac7d4dfe0141c699" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 421 1 0 "ba84d3e1_d8af_427e_80d4d9f4b897daa1" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
o_Sorted_Sequence.SetCurrentPosition(1);
// }} ""
// {{ 422 1 0 "d783ecc8_4e4a_4b5d_86a289c05401d5c9" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 423 1 0 "c3810bf2_b58f_4a3b_a301bad2a15f03d4" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
num_used=arr_line_numbers.GetSize();
// }} ""
// {{ 424 1 0 "d0284fb8_4332_4740_ba882c5961523873" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
ret_Number_Remaining = num_to_sort - num_used;
// }} ""
// {{ 425 1 0 "2f23c357_d57f_40af_83af9ede43af55b6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_used == 0)
{
// }} ""
// {{{ 426 1 0 "73d6c385_e90f_404f_a9a5e807f926e6a1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("**********************************  The remaining positions are out of reach for the selected channels!!!!"), Translate(""));
// }} ""
// {{{ 427 1 0 "dbba32bb_65be_4a2a_b977e75ca1caa933" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("The remaining positions are out of reach for all the selected channels!!!!"));
// }} ""
// {{ 428 1 0 "2f23c357_d57f_40af_83af9ede43af55b6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 429 1 0 "772473a2_7f9b_4c9a_a38a4079c291ce82" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(Translate("LINE_NUMBER IN("), Translate(""));
// }} ""
// {{ 430 1 0 "b0cbef3b_ac40_456d_a4771aa35f7a2737" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(in_index = 0; in_index < num_used;)
{
in_index = in_index + 1;
// }} ""
// {{ 431 1 0 "971a0af4_ad0b_47ef_8167dbe2508fcddb" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
line_number=arr_line_numbers.GetAt(in_index-1);
// }} ""
// {{ 432 1 0 "90f5127c_b5cc_4e33_ae9283d96bfda405" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (in_index != 1)
{
// }} ""
// {{{ 433 1 0 "f9eb7c40_8660_456b_96aabc01e136da45" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(in_group, Translate(", "));
// }} ""
// {{ 434 1 0 "90f5127c_b5cc_4e33_ae9283d96bfda405" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 435 1 0 "59b56322_1062_48ee_b24b50d12afe9f42" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(in_group, line_number);
// }} ""
// {{ 436 1 0 "b0cbef3b_ac40_456d_a4771aa35f7a2737" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 437 1 0 "97d0589e_a3b0_47b4_865f688dacfbd71c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(in_group, Translate(")"));
// }} ""
// {{{ 438 1 0 "26c5e709_7e9f_42d6_9a16fc220e271449" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
update_sql = StrConcat4(Translate("UPDATE SORT SET STATUS = 'DONE' WHERE "), in_group, Translate(""), Translate(""));
// }} ""
// {{ 439 1 0 "f97b1074_5be4_4e67_9c9d4131bd75eba9" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Update_FIle.Open(sort_file + " " + "SORT", hslRead, update_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 440 1 0 "7d21acb2_1ea1_48a9_b4d24da53bd738be" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Update_FIle.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Update_FIle.RemoveFields();
// }} ""
// {{ 441 1 0 "06a584e4_442a_4fc7_bffa937b06256c43" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 442 1 0 "69086706_acc8_4a82_8fe1763b01cce182" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
count_sql = StrConcat2(Translate("SELECT COUNT(*) AS N FROM SORT WHERE STATUS = 'NOT_DONE'"), Translate(""));
// }} ""
// {{ 443 1 0 "a067fd14_083e_457a_98eef646e339de8f" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Count_Available.AddField("N", count_value, hslInteger);
if( 0 == Count_Available.Open(sort_file + " " + "SORT", hslRead, count_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 444 1 0 "6c2ba365_cfe1_44ac_ac1836c6fb22d86d" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Count_Available.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 445 1 0 "46f4757c_53a0_4d3d_8b2fda4fa733a49b" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Count_Available.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Count_Available.RemoveFields();
// }} ""
// {{ 446 1 0 "e402d723_f7ff_4142_bfc938fe41d48771" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
ret_Number_Remaining = count_value;
// }} ""
// {{ 447 1 0 "f9796bbb_97a1_49fb_9085d6034927d6eb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (count_value == 0)
{
// }} ""
// {{{ 448 1 0 "7126da96_b7af_4d7d_8120206540f423ad" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(io_Sequence_to_Sort);
// }} ""
// {{ 449 1 0 "3d319957_3310_4727_913bdbe6f7cc7a53" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
io_Array_of_Variables.SetSize(0);
// }} ""
// {{ 450 1 0 "f9796bbb_97a1_49fb_9085d6034927d6eb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 451 1 0 "cb1007c0_e522_479b_923e28ee78fd490b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
filter_sql = StrConcat2(Translate("SELECT * FROM SORT WHERE STATUS = 'NOT_DONE' ORDER BY LINE_NUMBER ASC"), Translate(""));
// }} ""
// {{{ 452 1 0 "a66659f9_db6d_4876_a9b8d623a04d79d1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(temp_seq1);
// }} ""
// {{ 453 1 0 "dc5bb7b8_3fa8_403b_b6acad3a472d98e6" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_temp_array1.SetSize(0);
// }} ""
// {{ 454 1 0 "e27a58d9_b7c0_49d1_a20f1a1305c6fccb" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Sort_File.AddField("LINE_NUMBER", line_number, hslInteger);
Sort_File.AddField("LAB1", lab1, hslString, 255);
Sort_File.AddField("POS1", pos1, hslString, 255);
Sort_File.AddField("LAB2", not_used, hslString, 255);
Sort_File.AddField("POS2", not_used, hslString, 255);
Sort_File.AddField("VAL1", val1, hslString, 255);
Sort_File.AddField("VAL2", not_used, hslString, 255);
Sort_File.AddField("X1", x1, hslFloat);
Sort_File.AddField("Y1", y1, hslFloat);
Sort_File.AddField("X2", not_used, hslString, 255);
Sort_File.AddField("Y2", not_used, hslString, 255);
Sort_File.AddField("STATUS", status, hslString, 255);
if( 0 == Sort_File.Open(sort_file + " " + "SORT", hslRead, filter_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 455 1 0 "cdc7d6b6_3d03_4230_aebbae278b12eef9" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
while (
   (Sort_File.Eof() == 0)
)
{
// }} ""
// {{ 456 1 0 "5d9a3450_de6a_49f7_ac9a94816561e70b" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Sort_File.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// This converts the array values back to their original state

if(val_type1 == 1) val1 = FVal(val1);
else if(val_type1 == 2) val1 = IVal(val1); 
// {{ 458 1 0 "2d354c1c_2be7_414d_a2e5264626130cd2" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_temp_array1.AddAsLast(val1);
// }} ""
// {{{ 459 1 0 "62e3ccec_1a57_4944_88e029bfa2f8dd75" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(temp_seq1, lab1, pos1);
// }} ""
// {{ 460 1 0 "cdc7d6b6_3d03_4230_aebbae278b12eef9" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 461 1 0 "f2ee08db_b9ae_4c1b_bf7875017fa4b85f" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Sort_File.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Sort_File.RemoveFields();
// }} ""
// {{ 462 1 0 "0f1a44c4_06fe_4668_a07c1c7337a0bed8" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
temp_seq1.SetCurrentPosition(1);
// }} ""
// {{{ 463 1 0 "5b7b28b2_8ac7_4faf_9f965cd9849ef390" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqCopySequence(io_Sequence_to_Sort, temp_seq1);
// }} ""
// {{ 464 1 0 "e2ff80fc_5c39_449e_93cbc5c02668bd7f" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
io_Array_of_Variables=arr_temp_array1;
// }} ""
// {{ 465 1 0 "f9796bbb_97a1_49fb_9085d6034927d6eb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 466 1 0 "0fdfabeb_3be9_441f_a1f88d79ae51d453" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 468 1 0 "0fdfabeb_3be9_441f_a1f88d79ae51d453" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 469 1 0 "a97cd7c4_1c57_4c08_a861607d3d11337c" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_Number_Remaining);
// }} ""
// {{{ 5 "CHAN_ACCESS_Sort1Sequence1Array" "End"
}
// }} ""
// {{{ 5 "CHAN_ACCESS_Sort1Sequence2Arrays" "Begin"
function CHAN_ACCESS_Sort1Sequence2Arrays( device & ML_STAR, sequence & io_Sequence_to_Sort, variable & io_Array_of_Variables[], variable & io_Array_of_Variables2[], variable i_Channel_Type, variable i_Sort_by_Labware, variable i_Sort_by_XY, variable i_Sort_for_Channel_Raster, variable i_Max_Channel, sequence & o_Sorted_Sequence, variable & o_Sorted_Array[], variable & o_Sorted_Array2[], variable & o_Channel_Pattern ) variable {
// }} ""
private variable used_exclusion;
private variable channel_raster;
private variable status;
private variable num_in_array2;
private variable num_to_sort;
private variable in_group;
private variable pos1;
private variable is_string2;
private variable restriction_raster;
private variable num_used;
private variable in_index;
private variable update_sql;
private variable y_min;
private variable ret_Number_Remaining;
private variable is_float2;
private variable val1;
private variable y_max;
private variable num_in_array;
private variable value_equal;
private variable num_labhand_channels;
private variable total_channels;
private variable val2;
private variable file_index;
private variable null;
private variable restriction1;
private variable not_used;
private variable lab1;
private variable sort_file;
private variable is_integer2;
private variable filter_sql;
private variable prev_y_coord;
private variable num_1mL_channels;
private variable prev_x_coord;
private variable count_sql;
private variable order_by;
private variable num_5mL_channels;
private variable val_type1;
private variable is_string;
private variable y1;
private variable channel_number;
private variable count_value;
private variable val_type2;
private variable x1;
private variable is_integer;
private variable line_number;
private variable is_float;
private variable sequence_name;
private sequence temp_seq1;
private file Count_Available;
private file Update_FIle;
private file Sort_File;
private variable arr_temp_array1[];
private variable arr_temp_array2[];
private variable arr_Y_Min[];
private variable arr_Y_Max[];
private variable arr_line_numbers[];
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable bool_FileExists;
private variable int_Count;
// {{ 5 "CHAN_ACCESS_Sort1Sequence2Arrays" "InitLocals"
{ sequence __temp; o_Sorted_Sequence = __temp; }
o_Sorted_Array.SetSize( 0);
o_Sorted_Array2.SetSize( 0);
o_Channel_Pattern = 0;
// }} ""
// {{ 471 1 0 "d5e351cb_41fc_4c1a_9bb57ea21513b5cd" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 472 1 0 "e5ff749c_fbf4_4cd7_b55ca11e98443723" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 474 1 0 "7cffb75b_3051_48fb_bd0ffa8b746f9ff5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 475 1 0 "5f26a3ee_57c4_4afe_b1f85f64d445bd1c" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 476 1 0 "78c32475_90f7_4bde_8ed2d8ab7a45c45f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 477 1 0 "637d6345_8eb2_4a42_b105bb3fcdea2fc0" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 478 1 0 "3d21013f_4eb2_40e8_9eae992f400b62db" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 480 1 0 "d5e351cb_41fc_4c1a_9bb57ea21513b5cd" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 481 1 0 "c5993fdd_988d_44c0_8f2ffc3182e43a13" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 482 1 0 "a733d1e9_3461_4ad4_9f63e113bbbd8d8a" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 483 1 0 "536df048_9f70_4c63_9405e4263dc44ebd" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 484 1 0 "bac8145f_7f61_4ab7_9e29d985fe40e57e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_1mL_channels = DevGetCfgValueWithKey(ML_STAR, 1);
// }} ""
// {{{ 485 1 0 "1c0bf5aa_ecdc_4d7b_b134d25f42dd5cc3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_5mL_channels = DevGetCfgValueWithKey(ML_STAR, 43);
// }} ""
// {{{ 486 1 0 "3af7af3c_e018_40b0_bf777b548fcb9586" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_labhand_channels = DevGetCfgValueWithKey(ML_STAR, 47);
// }} ""
// {{{ 487 1 0 "f5ea5095_102b_4099_871d88db59d090d0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Channel_Type = StrConcat2(i_Channel_Type, Translate(""));
// }} ""
// {{{ 488 1 0 "1733d707_2383_40f9_b2176dc45599ce12" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Channel_Type = StrIVal(i_Channel_Type);
// }} ""
// {{ 489 1 0 "49decf33_1a13_40f1_a1bc0c6894304688" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type < 0)
{
// }} ""
// {{{ 490 1 0 "29aca248_ee54_4041_b053a76e4da78837" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("***************  Channel type of "), i_Channel_Type, Translate(" is not recognized by this library!!!!"), Translate(""));
// }} ""
// {{ 491 1 0 "2f63c653_1e5c_4d2c_8a7bc400d7f32070" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = 0;
// }} ""
// {{ 492 1 0 "49decf33_1a13_40f1_a1bc0c6894304688" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 493 1 0 "7308f035_ce5b_401a_bc8af70d7e1e47bd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type > 2)
{
// }} ""
// {{{ 494 1 0 "4be49f71_c45e_4633_a988a811516a47f3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("***************  Channel type of "), i_Channel_Type, Translate(" is not recognized by this library!!!!"), Translate(""));
// }} ""
// {{ 495 1 0 "b90b5730_0b8e_4f10_bc517b4dac4d959a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = 0;
// }} ""
// {{ 496 1 0 "7308f035_ce5b_401a_bc8af70d7e1e47bd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 497 1 0 "ea475905_72fb_4897_80a23c088ca33a82" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 0)
{
// }} ""
// {{ 498 1 0 "c0ea74b1_829b_4f0e_8ea08dd914766ab0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = num_1mL_channels;
// }} ""
// {{ 499 1 0 "ea475905_72fb_4897_80a23c088ca33a82" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 500 1 0 "93b57430_edae_4d32_b597db5925c050da" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 1)
{
// }} ""
// {{ 501 1 0 "208df700_d1d1_4416_a1c87210f62bc8a0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = num_5mL_channels;
// }} ""
// {{ 502 1 0 "93b57430_edae_4d32_b597db5925c050da" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 503 1 0 "51504218_1e0e_4c52_a3d821675f85d031" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 2)
{
// }} ""
// {{ 504 1 0 "0c6ca8ae_2056_429e_b0cd6d5c44f4bf2d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = num_labhand_channels;
// }} ""
// {{ 505 1 0 "51504218_1e0e_4c52_a3d821675f85d031" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 506 1 0 "a733d1e9_3461_4ad4_9f63e113bbbd8d8a" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 507 1 0 "b2f0f0cd_312c_4489_b8b78fcbf9128edc" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 508 1 0 "b0d8f127_c061_46a6_8fc708f831969caa" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_Channel_Pattern = Translate("");
// }} ""
// {{ 509 1 0 "95f829c5_bf9a_4d72_b3ec9d6d34651a6d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (total_channels == 0)
{
// }} ""
// {{ 510 1 0 "2c3147ca_ac10_4206_b614cb746ca9028b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 0)
{
// }} ""
// {{{ 511 1 0 "f4b42977_d5fc_4213_b2193ef4bb94d368" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no 1 mL channels installed!"), Translate(""));
// }} ""
// {{{ 512 1 0 "6f726399_c924_45a0_9e0cec66c72e2260" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No 1 mL channels installed!!"));
// }} ""
// {{ 513 1 0 "2c3147ca_ac10_4206_b614cb746ca9028b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 514 1 0 "756907b5_3d9e_407b_bd8e96031907766a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 1)
{
// }} ""
// {{{ 515 1 0 "af215748_c85f_4549_a6898bbf5bb9e864" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no 5 mL channels installed!"), Translate(""));
// }} ""
// {{{ 516 1 0 "188c8c72_25fb_49fe_a172e257284fa158" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No 5 mL channels installed!!"));
// }} ""
// {{ 517 1 0 "756907b5_3d9e_407b_bd8e96031907766a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 518 1 0 "9ee75066_66ba_45a4_8f8044b0f04e5ca6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 2)
{
// }} ""
// {{{ 519 1 0 "f6b22ab1_23ed_49d6_86e8b0822f968516" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no Lab Handler channels installed!"), Translate(""));
// }} ""
// {{{ 520 1 0 "7079d1c7_d37d_492b_b8251ac9f17b9d10" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No Lab Handler channels installed!!"));
// }} ""
// {{ 521 1 0 "9ee75066_66ba_45a4_8f8044b0f04e5ca6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 522 1 0 "95f829c5_bf9a_4d72_b3ec9d6d34651a6d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 523 1 0 "8ca0a003_a0f8_4afd_b7654793ba1549f8" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::RemoveTruncatedSequencePositions(ML_STAR, io_Sequence_to_Sort);
// }} ""
// {{{ 524 1 0 "8799a827_3994_49a3_9f71b330f289c637" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::Set_Channel_Pattern(o_Channel_Pattern, total_channels, 0);
// }} ""
// {{{ 525 1 0 "b365f325_f840_4b5d_969db2f6d5cf5e5b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Max_Channel = StrConcat2(i_Max_Channel, Translate(""));
// }} ""
// {{{ 526 1 0 "2c9e10e8_a51e_4237_92ed756435b3358e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Max_Channel = StrIVal(i_Max_Channel);
// }} ""
// {{ 527 1 0 "376e18de_7bb0_4b75_a47ad14db8b49a25" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Max_Channel <= 0)
{
// }} ""
// {{ 528 1 0 "8226c29d_9939_405e_a068e520bf26c032" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
i_Max_Channel = total_channels;
// }} ""
// {{ 529 1 0 "376e18de_7bb0_4b75_a47ad14db8b49a25" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 530 1 0 "203cd1ac_9697_4e68_8d20e9aa8658286f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Max_Channel > total_channels)
{
// }} ""
// {{ 531 1 0 "f4f87acd_0c92_4198_b9ac578d532d413a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
i_Max_Channel = total_channels;
// }} ""
// {{ 532 1 0 "203cd1ac_9697_4e68_8d20e9aa8658286f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 533 1 0 "f5e603b9_1825_4e81_bfedd59c95bf635c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
ret_Number_Remaining = 0;
// }} ""
// {{{ 534 1 0 "00077552_3b71_44e7_91b963dc819a6e4d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(o_Sorted_Sequence);
// }} ""
// {{ 535 1 0 "313c4f2f_9946_44ad_8e183fabb0a77d70" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_Sorted_Array.SetSize(i_Max_Channel);
// }} ""
// {{ 536 1 0 "c21bc53a_3438_46e0_8e58b0eab8317cb3" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_Sorted_Array2.SetSize(i_Max_Channel);
// }} ""
// {{ 537 1 0 "428371de_1e9d_44bd_bf5cdf8754706434" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 0)
{
// }} ""
// {{ 538 1 0 "6257a649_1975_4838_bd78b6f133f15dd4" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Max=G_ARR_FW_PIP_COM_YMax;
// }} ""
// {{ 539 1 0 "bfe2f179_48cf_40bd_ba37f53f4712d792" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Min=G_ARR_FW_PIP_COM_YMin;
// }} ""
// {{ 540 1 0 "78bd17cc_c58e_4db5_9e6a67fcfdb57925" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
channel_raster = G_FW_PIP_COM_Raster;
// }} ""
// {{ 541 1 0 "428371de_1e9d_44bd_bf5cdf8754706434" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 542 1 0 "d10493cd_85b9_40f5_9253ebf18658d685" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 1)
{
// }} ""
// {{ 543 1 0 "00499320_3ec2_420e_911324962dca671a" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Max=G_ARR_FW_XL_COM_YMax;
// }} ""
// {{ 544 1 0 "e647454d_66cc_448d_b026b70f81e38122" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Min=G_ARR_FW_XL_COM_YMin;
// }} ""
// {{ 545 1 0 "9f4c2b55_f18d_4698_979c83eb84e02772" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
channel_raster = G_FW_XL_COM_Raster;
// }} ""
// {{ 546 1 0 "d10493cd_85b9_40f5_9253ebf18658d685" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 547 1 0 "afc5d524_21d0_496a_9dd327ef13f5fbda" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 2)
{
// }} ""
// {{{ 548 1 0 "caa58ebc_92f3_455d_b401cdeee91a52a9" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetChannelLimits(ML_STAR, i_Channel_Type, arr_Y_Max, arr_Y_Min, channel_raster);
// }} ""
// {{ 549 1 0 "afc5d524_21d0_496a_9dd327ef13f5fbda" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 550 1 0 "935b06e7_f8ff_4287_9b722c47e44b5deb" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 551 1 0 "2f3e683c_1dac_4cde_bcd5064c5c8f3e96" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetTempSortingFilePath(sort_file);
// }} ""
// {{{ 552 1 0 "bec910ea_e693_4f5d_b1762048ec11828f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bool_FileExists = HSLExtensions::File::Exists(sort_file);
// }} ""
// {{ 553 1 0 "e98d4e62_0922_4d3c_853465c9b7739cd8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bool_FileExists == 1)
{
// }} ""
// {{{ 554 1 0 "e2b5a448_3bc7_44dc_b481ec9c7cd51e48" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLExtensions::File::Delete(sort_file);
// }} ""
// {{ 555 1 0 "e98d4e62_0922_4d3c_853465c9b7739cd8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 556 1 0 "19aa48a2_0b85_4a8d_bf36aa1249c402ba" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_to_sort = SeqGetTotal(io_Sequence_to_Sort);
// }} ""
// {{{ 557 1 0 "18bc44ca_d6a2_43ee_8ca7da146ea6a01d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
sequence_name = SeqGetName(io_Sequence_to_Sort);
// }} ""
// {{ 558 1 0 "82a74a37_351c_4c2b_822d1033b0854a66" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
num_in_array=io_Array_of_Variables.GetSize();
// }} ""
// {{ 559 1 0 "1c5132ae_dda1_4ab5_a2e19116fb903cbb" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
num_in_array2=io_Array_of_Variables2.GetSize();
// }} ""
// {{ 560 1 0 "4911101a_bbe7_4e1d_afd46c64d18fc563" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
value_equal = 0;
// }} ""
if(num_to_sort == num_in_array && num_to_sort == num_in_array2) value_equal = 1;
// {{ 562 1 0 "e9796f1c_fe9a_421f_9e3716fcf2bc5a9f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_to_sort == 0)
{
// }} ""
// {{{ 563 1 0 "1864cfdb_07de_42de_ac4bcc7d7dd3e30c" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_Number_Remaining);
// }} ""
// {{ 564 1 0 "e9796f1c_fe9a_421f_9e3716fcf2bc5a9f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 565 1 0 "71f230ba_2ab8_4bdd_8451cbede5aecbbd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (value_equal == 0)
{
// }} ""
// {{{ 566 1 0 "8c7648cd_6aac_4944_85a6b8efb48c0360" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("##############  SEQUENCE AND ARRAYS DO NOT HAVE THE SAME NUMBER OF POSITIONS."), Translate(""));
// }} ""
// {{{ 567 1 0 "8f5394b1_dafa_409e_97806469847499c0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("Sequence and arrays do not have the same number of positions."));
// }} ""
// {{ 568 1 0 "71f230ba_2ab8_4bdd_8451cbede5aecbbd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 569 1 0 "cc4765b9_25a3_42c1_af0a5c44a9479cd9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("________________________________________________________"), Translate(""));
// }} ""
// {{{ 570 1 0 "09a2e2e5_dede_4373_b6799ee8b5074db3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate(""), Translate(""));
// }} ""
// {{{ 571 1 0 "2d28b857_395e_46c5_a3a81f03cbbacd88" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sequence to Sort:  "), sequence_name);
// }} ""
// {{{ 572 1 0 "f93c4224_20de_4768_a37b5f70e4bbfc0a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Number of Positions in Sequence:  "), num_to_sort);
// }} ""
// {{{ 573 1 0 "609b8130_988e_4461_9035936a7c4d1cec" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sort by Labware:  "), i_Sort_by_Labware);
// }} ""
// {{{ 574 1 0 "fbdea640_c499_4747_b39881ed28e03ac7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sort by XY:  "), i_Sort_by_XY);
// }} ""
// {{{ 575 1 0 "03b2ce05_e40b_4343_a6b6cb93d58dafa2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sort for Channel Raster:  "), i_Sort_for_Channel_Raster);
// }} ""
// {{{ 576 1 0 "4cb56b93_2eec_48a6_8132414ff26fd69c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Channel Raster:  "), channel_raster);
// }} ""
// {{{ 577 1 0 "2a39d194_c9b3_4524_80ba8f10bd2b73fc" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Maximum Channel:  "), i_Max_Channel);
// }} ""
if(i_Channel_Type == 0) Trace("           Channel Type:  1 mL");
else if(i_Channel_Type == 1) Trace("           Channel Type:  5 mL");
else if(i_Channel_Type == 2) Trace("           Channel Type:  Labware Handler");
// {{{ 579 1 0 "fcb17679_6241_4ed0_9d9f04a69a6d4f2b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("________________________________________________________"), Translate(""));
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 580 1 0 "fd977631_7d93_4dc0_b8c69b4cb146c150" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 581 1 0 "71d06f6a_8372_4afd_973574df03e62f5d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
is_float = HSLExtensions::Array::IsFloatArray(io_Array_of_Variables);
// }} ""
// {{{ 582 1 0 "47c1e87d_3f8c_4496_83bb4bec16bb5fc8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
is_integer = HSLExtensions::Array::IsIntegerArray(io_Array_of_Variables);
// }} ""
// {{{ 583 1 0 "90da5ba8_8bcd_4c67_9eb3ea802d74b65c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
is_string = HSLExtensions::Array::IsStringArray(io_Array_of_Variables);
// }} ""
// {{{ 584 1 0 "14f1b780_805d_4b17_b712516d3d88a402" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
is_float2 = HSLExtensions::Array::IsFloatArray(io_Array_of_Variables2);
// }} ""
// {{{ 585 1 0 "42b8780f_e0b9_47a0_b66ac3fa0d1bde9e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
is_integer2 = HSLExtensions::Array::IsIntegerArray(io_Array_of_Variables2);
// }} ""
// {{{ 586 1 0 "3f19c19f_26ca_4f26_aadf1e4b9873aba2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
is_string2 = HSLExtensions::Array::IsStringArray(io_Array_of_Variables2);
// }} ""
// {{ 587 1 0 "bd40b829_2216_4277_9bb7a303189e9e4a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
val_type1 = 0;
// }} ""
// {{ 588 1 0 "8a2849ab_7fb7_4f36_9ebbc3853fa8e6c2" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
val_type2 = 0;
// }} ""
if(is_float == 1) val_type1 = 1;
else if(is_integer == 1) val_type1 = 2;

if(is_float2 == 1) val_type2 = 1;
else if(is_integer2 == 1) val_type2 = 2;
// {{ 590 1 0 "fee6bc9b_524a_4572_8b00e7f24c77a057" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 591 1 0 "e99d1301_3e9b_4125_aa8d439db6fa7b1c" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Sort_File.AddField("LINE_NUMBER", line_number, hslInteger);
Sort_File.AddField("LAB1", lab1, hslString, 255);
Sort_File.AddField("POS1", pos1, hslString, 255);
Sort_File.AddField("LAB2", not_used, hslString, 255);
Sort_File.AddField("POS2", not_used, hslString, 255);
Sort_File.AddField("VAL1", val1, hslString, 255);
Sort_File.AddField("VAL2", val2, hslString, 255);
Sort_File.AddField("X1", x1, hslFloat);
Sort_File.AddField("Y1", y1, hslFloat);
Sort_File.AddField("X2", not_used, hslString, 255);
Sort_File.AddField("Y2", not_used, hslString, 255);
Sort_File.AddField("STATUS", status, hslString, 255);
if( 0 == Sort_File.Open(sort_file + " " + "SORT", hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 592 1 0 "da2730f7_b588_4482_aa2f69f03cde50ed" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
not_used = Translate("-----");
// }} ""
// {{ 593 1 0 "26fe431f_622a_44f0_bf04cc34bbad7412" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
status = Translate("NOT_DONE");
// }} ""
// {{ 594 1 0 "8c2ed21d_f502_4316_90066ab1a8796225" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(line_number = 0; line_number < num_to_sort;)
{
line_number = line_number + 1;
// }} ""
// {{ 595 1 0 "8a7ec7b6_5d6a_4b08_844cb2c067fc3176" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
io_Sequence_to_Sort.SetCurrentPosition(line_number);
// }} ""
// {{{ 596 1 0 "7f956177_b1f5_446e_9fca85e6160f37ba" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
lab1 = SeqGetLabwareId(io_Sequence_to_Sort);
// }} ""
// {{{ 597 1 0 "678ffd16_9965_4d4b_89b89827706772fb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
pos1 = SeqGetPositionId(io_Sequence_to_Sort);
// }} ""
// {{{ 598 1 0 "1bf15487_db33_4e52_a10e9ca36952079b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, lab1, pos1, x1, y1, null, null);
// }} ""
// {{ 599 1 0 "28d0b136_19e7_4cf8_93653630fffd8207" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
val1=io_Array_of_Variables.GetAt(line_number-1);
// }} ""
// {{ 600 1 0 "d9f87989_d0a4_4a55_a7e9dbb73bc1ab36" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
val2=io_Array_of_Variables2.GetAt(line_number-1);
// }} ""
// {{ 601 1 0 "ab62c233_1a20_4146_b5bc4d673b05b76d" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Sort_File.WriteRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 602 1 0 "8c2ed21d_f502_4316_90066ab1a8796225" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 603 1 0 "9555f01a_68ac_4092_839d4cf77725f984" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Sort_File.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Sort_File.RemoveFields();
// }} ""
// {{ 604 1 0 "fbe96d0e_df43_4a02_bd8c2c58ec196c0a" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_line_numbers.SetSize(0);
// }} ""
// {{ 605 1 0 "52a6a4b3_75bd_4c50_bbeb62ba36ee3a6a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_x_coord = 0.0;
// }} ""
// {{ 606 1 0 "11475ea1_0699_4a29_b7cc5dd46b0f404a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_y_coord = 999.0;
// }} ""
// {{ 607 1 0 "0e8200f0_cb10_409b_b33aa9c7bef7e2a4" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(channel_number = 0; channel_number < i_Max_Channel;)
{
channel_number = channel_number + 1;
// }} ""
// {{ 608 1 0 "3161ab8c_aeda_4ee3_90f187d33437bb6a" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
prev_y_coord = prev_y_coord - channel_raster;
// }} ""
// {{{ 609 1 0 "1f0bd26f_8d2e_4b53_9bf513b19f4fe864" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
restriction_raster = StrConcat8(Translate("AND (X1"), Translate(" = "), prev_x_coord, Translate(" AND "), Translate("Y1"), Translate(" <= "), prev_y_coord, Translate(")"));
// }} ""
// {{ 610 1 0 "496acd7a_fd4c_44f9_9dc35348e77db53f" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 611 1 0 "db051b25_dc4f_4eb7_9f1f8843e19ce356" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
y_max=arr_Y_Max.GetAt(channel_number-1);
// }} ""
// {{ 612 1 0 "606f3fde_02c9_416d_8aaa1a25e69b03c8" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
y_min=arr_Y_Min.GetAt(channel_number-1);
// }} ""
// {{{ 613 1 0 "b932d4ac_9908_46ef_abdbf8ce9e78df5a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
restriction1 = StrConcat8(Translate("(Y1 "), Translate(">= "), y_min, Translate(" AND "), Translate("Y1 "), Translate("<= "), y_max, Translate(")"));
// }} ""
// {{ 614 1 0 "5672a2f9_c6ef_4da5_ac45cb4c32415224" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 615 1 0 "ed15f69d_ba9b_4e52_8612cef431b23a2c" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
num_used=arr_line_numbers.GetSize();
// }} ""
// {{ 616 1 0 "d3368136_cb74_411d_b3995e656fa4b09a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_used == 0)
{
// }} ""
// {{ 617 1 0 "4dddf02f_2854_4966_b9f09b1f9b0dc97b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
used_exclusion = Translate("");
// }} ""
// {{ 618 1 0 "d3368136_cb74_411d_b3995e656fa4b09a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 619 1 0 "17ccb9cb_2b2f_4d71_8a6ac57f218b701b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(Translate("AND LINE_NUMBER NOT IN("), Translate(""));
// }} ""
// {{ 620 1 0 "b93ef8e0_ffc1_4b13_b9bee78dc64d76c6" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(in_index = 0; in_index < num_used;)
{
in_index = in_index + 1;
// }} ""
// {{ 621 1 0 "b1e46920_aa56_494b_b5233ffe5fef8364" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
line_number=arr_line_numbers.GetAt(in_index-1);
// }} ""
// {{ 622 1 0 "015ceb12_3ea1_4bb6_a1d681ecb00b573a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (in_index != 1)
{
// }} ""
// {{{ 623 1 0 "4e8b5f9a_e81f_4cd8_ae2e253ad4fb46d3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(used_exclusion, Translate(", "));
// }} ""
// {{ 624 1 0 "015ceb12_3ea1_4bb6_a1d681ecb00b573a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 625 1 0 "1a0562ab_308d_409d_a34936ae0334cc6e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(used_exclusion, line_number);
// }} ""
// {{ 626 1 0 "b93ef8e0_ffc1_4b13_b9bee78dc64d76c6" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 627 1 0 "acaaf743_f07f_4591_af1a64945cbc3648" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(used_exclusion, Translate(")"));
// }} ""
// {{ 628 1 0 "d3368136_cb74_411d_b3995e656fa4b09a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 629 1 0 "5b0c3b18_c4b5_4eef_b77b2f1e5eb26673" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 630 1 0 "984f59e5_fbf9_4b77_9538403ff13775d5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
order_by = Translate("");
// }} ""
if(i_Sort_by_Labware == 1 && i_Sort_by_XY == 1)
{
   order_by = "ORDER BY LAB1 ASC, X1 ASC, Y1 DESC";
}
else if(i_Sort_by_Labware == 1 && i_Sort_by_XY == 0)
{
   order_by = "ORDER BY LAB1 ASC, LINE_NUMBER ASC";
}
else if(i_Sort_by_Labware == 0 && i_Sort_by_XY == 1)
{
   order_by = "ORDER BY X1 ASC, Y1 DESC";
}
else 
{
   order_by = "ORDER BY LINE_NUMBER ASC";
}
// {{ 632 1 0 "02c7628f_fbf0_4a29_87b178f15bf11f56" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 633 1 0 "1b39a7d9_816e_481d_998110fd5747b596" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
count_sql = StrConcat12(Translate("SELECT COUNT(*) AS N FROM SORT WHERE "), restriction1, Translate(" "), used_exclusion, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), restriction_raster);
// }} ""
// {{ 634 1 0 "a1ba3c95_9d64_4ae0_b7237dec32224ca6" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Count_Available.AddField("N", count_value, hslInteger);
if( 0 == Count_Available.Open(sort_file + " " + "SORT", hslRead, count_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 635 1 0 "891216b7_16c6_4b18_8ef2f7f71011ecf4" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Count_Available.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 636 1 0 "9c69bed8_10ae_400f_85862ec7f8ef0c65" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Count_Available.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Count_Available.RemoveFields();
// }} ""
// {{ 637 1 0 "05b4a348_abc7_4129_8678fdcf004a4d3f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (count_value == 0)
{
// }} ""
// {{ 638 1 0 "89c18bd3_656a_4489_861e2206d444bc3d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_x_coord = 0.0;
// }} ""
// {{ 639 1 0 "05b4a348_abc7_4129_8678fdcf004a4d3f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 640 1 0 "03ecb8da_3837_425f_9e8df0f913e75732" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 641 1 0 "45af02e8_d80e_4e37_a20ab9de2debbbf2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
count_sql = StrConcat12(Translate("SELECT COUNT(*) AS N FROM SORT WHERE "), restriction1, Translate(" "), used_exclusion, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 642 1 0 "b4affe6a_e18b_4353_b1b3059ba4cd1e29" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Count_Available.AddField("N", count_value, hslInteger);
if( 0 == Count_Available.Open(sort_file + " " + "SORT", hslRead, count_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 643 1 0 "815b61dd_38eb_46a6_a9a22a6dd82daa7c" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Count_Available.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 644 1 0 "7133d0c0_1220_44ae_9d3a605289ce5b85" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Count_Available.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Count_Available.RemoveFields();
// }} ""
// {{ 645 1 0 "a593c055_4329_42a7_81de29bc66e4bee4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (count_value > 0)
{
// }} ""
// {{ 646 1 0 "dbb27cbc_4039_492a_8337c1512f191420" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 647 1 0 "8c5f738a_51e0_4fa1_99408199950e4266" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
filter_sql = StrConcat12(Translate("SELECT * FROM SORT WHERE "), restriction1, Translate(" "), used_exclusion, Translate(" "), order_by, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 648 1 0 "7babd096_d48e_4754_890a786a1e9db498" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Sort_File.AddField("LINE_NUMBER", line_number, hslInteger);
Sort_File.AddField("LAB1", lab1, hslString, 255);
Sort_File.AddField("POS1", pos1, hslString, 255);
Sort_File.AddField("LAB2", not_used, hslString, 255);
Sort_File.AddField("POS2", not_used, hslString, 255);
Sort_File.AddField("VAL1", val1, hslString, 255);
Sort_File.AddField("VAL2", val2, hslString, 255);
Sort_File.AddField("X1", x1, hslFloat);
Sort_File.AddField("Y1", y1, hslFloat);
Sort_File.AddField("X2", not_used, hslString, 255);
Sort_File.AddField("Y2", not_used, hslString, 255);
Sort_File.AddField("STATUS", status, hslString, 255);
if( 0 == Sort_File.Open(sort_file + " " + "SORT", hslRead, filter_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 649 1 0 "c031bc0b_a179_4961_ac760c5f5946e812" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
file_index = 0;
while (
   (Sort_File.Eof() == 0)
)
{
file_index = file_index + 1;
// }} ""
// {{ 650 1 0 "a126e1b0_4415_4144_8080e54989aad5a1" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Sort_File.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 651 1 0 "0f59b9cb_2f52_4fb9_99949e1b24b5c58a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Sort_for_Channel_Raster == 0)
{
// }} ""
// {{ 652 1 0 "01d9ef52_6f7e_4f47_a3ec6d1735764973" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 653 1 0 "0f59b9cb_2f52_4fb9_99949e1b24b5c58a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 654 1 0 "f39db529_5de1_4125_aee5d24d559b8c0e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (x1 != prev_x_coord)
{
// }} ""
// {{ 655 1 0 "41447ce1_9eb3_46af_84053a6fa0fa83ca" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 656 1 0 "f39db529_5de1_4125_aee5d24d559b8c0e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 657 1 0 "6056913d_e22f_4e59_85cc74a6e8c56ae1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (y1 <= prev_y_coord)
{
// }} ""
// {{ 658 1 0 "65fb5b25_8fcb_44f9_abe59692efc1ba89" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 659 1 0 "6056913d_e22f_4e59_85cc74a6e8c56ae1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 660 1 0 "c031bc0b_a179_4961_ac760c5f5946e812" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 661 1 0 "023d982f_a3af_47c0_aab3e201509c96e2" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Sort_File.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Sort_File.RemoveFields();
// }} ""
// This converts the array values back to their original state

if(val_type1 == 1) val1 = FVal(val1);
else if(val_type1 == 2) val1 = IVal(val1); 

if(val_type2 == 1) val2 = FVal(val2);
else if(val_type2 == 2) val2 = IVal(val2); 
// {{{ 663 1 0 "d6fc3bca_32f7_4570_be4ddc20a24f2e48" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_Sorted_Sequence, lab1, pos1);
// }} ""
// {{{ 664 1 0 "78d6bc38_adaa_4050_91e59d1bd2313637" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::Set_Channel_Pattern(o_Channel_Pattern, channel_number, 1);
// }} ""
// {{ 665 1 0 "193341f5_c547_4bcf_9fef2913bb9b5fb3" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_Sorted_Array.SetAt(channel_number-1, val1);
// }} ""
// {{ 666 1 0 "1064866d_97d2_4cd9_8a37c78815ff32ae" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_Sorted_Array2.SetAt(channel_number-1, val2);
// }} ""
// {{ 667 1 0 "b44bedac_ae84_4061_a0148b3316f63b59" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_line_numbers.AddAsLast(line_number);
// }} ""
// {{ 668 1 0 "d15053b7_e804_4b0b_acfbf02ad2cdf9a0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_x_coord = x1;
// }} ""
// {{ 669 1 0 "ff861218_98ff_41fb_9113fd2dd34b4066" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_y_coord = y1;
// }} ""
// {{ 670 1 0 "a593c055_4329_42a7_81de29bc66e4bee4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 671 1 0 "4b0ff222_be5f_4fd8_8fe5ec9389c9ee1b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
val1 = Translate("0");
// }} ""
// {{ 672 1 0 "f89f3278_c0c1_4d93_9a2340e10046c634" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
val2 = Translate("0");
// }} ""
// This converts the array values back to their original state

if(val_type1 == 1) val1 = FVal(val1);
else if(val_type1 == 2) val1 = IVal(val1); 

if(val_type2 == 1) val2 = FVal(val2);
else if(val_type2 == 2) val2 = IVal(val2); 
// {{ 674 1 0 "6ec6e16b_5aee_4ff8_90ddd62ecf32955c" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_Sorted_Array.SetAt(channel_number-1, val1);
// }} ""
// {{ 675 1 0 "8adb17aa_5cea_4f94_aa627a1af3aea7c3" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_Sorted_Array2.SetAt(channel_number-1, val2);
// }} ""
// {{ 676 1 0 "a593c055_4329_42a7_81de29bc66e4bee4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 677 1 0 "0e8200f0_cb10_409b_b33aa9c7bef7e2a4" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 678 1 0 "2408af48_9e2f_4a34_9620d119811f70c2" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
o_Sorted_Sequence.SetCurrentPosition(1);
// }} ""
// {{ 679 1 0 "6a2f641d_a9e1_4659_a126ef5558409667" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 680 1 0 "66bd359f_6b8e_4739_a5c3e742c67ee2ab" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
num_used=arr_line_numbers.GetSize();
// }} ""
// {{ 681 1 0 "0c413658_8a74_4aba_b409fa607e1bb9ce" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
ret_Number_Remaining = num_to_sort - num_used;
// }} ""
// {{ 682 1 0 "7c212616_7a75_4eba_b39dd91f48fb7c67" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_used == 0)
{
// }} ""
// {{{ 683 1 0 "b45dd088_b48a_4ba4_87c2eb037078de73" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("**********************************  The remaining positions are out of reach for the selected channels!!!!"), Translate(""));
// }} ""
// {{{ 684 1 0 "8acf957f_8199_471d_aed754fb80b4d24b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("The remaining positions are out of reach for all the selected channels!!!!"));
// }} ""
// {{ 685 1 0 "7c212616_7a75_4eba_b39dd91f48fb7c67" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 686 1 0 "e45c4c71_8256_4888_a8d9ce2113de8d15" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(Translate("LINE_NUMBER IN("), Translate(""));
// }} ""
// {{ 687 1 0 "9804db64_3a65_4674_a2abc63f2ab67d68" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(in_index = 0; in_index < num_used;)
{
in_index = in_index + 1;
// }} ""
// {{ 688 1 0 "0442fa8a_b68b_43e7_bf4da84667f95855" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
line_number=arr_line_numbers.GetAt(in_index-1);
// }} ""
// {{ 689 1 0 "2f540f0e_0f29_4db9_bc2f91fdd3c13b20" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (in_index != 1)
{
// }} ""
// {{{ 690 1 0 "9f5f7cee_e618_40a4_82d6b990b3767429" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(in_group, Translate(", "));
// }} ""
// {{ 691 1 0 "2f540f0e_0f29_4db9_bc2f91fdd3c13b20" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 692 1 0 "a1ca5ce1_a156_4b4d_ac466aa9e32f0c26" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(in_group, line_number);
// }} ""
// {{ 693 1 0 "9804db64_3a65_4674_a2abc63f2ab67d68" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 694 1 0 "cb9793aa_157c_48cd_8fc75b742ac8d144" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(in_group, Translate(")"));
// }} ""
// {{{ 695 1 0 "ba6bbb5e_bf20_4b17_adad03cac884ec39" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
update_sql = StrConcat4(Translate("UPDATE SORT SET STATUS = 'DONE' WHERE "), in_group, Translate(""), Translate(""));
// }} ""
// {{ 696 1 0 "52fc2921_035c_469f_8b4b009a1381b3f6" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Update_FIle.Open(sort_file + " " + "SORT", hslRead, update_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 697 1 0 "7058df4e_04d2_4951_955d073d6fed4d66" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Update_FIle.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Update_FIle.RemoveFields();
// }} ""
// {{ 698 1 0 "e69c3cae_941b_4704_84f18489b64a30b8" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 699 1 0 "1f1ab101_416d_42ad_b105f29f2e80e3ae" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
count_sql = StrConcat2(Translate("SELECT COUNT(*) AS N FROM SORT WHERE STATUS = 'NOT_DONE'"), Translate(""));
// }} ""
// {{ 700 1 0 "0b1e503e_fb8a_4690_bfb2fb6a297cea08" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Count_Available.AddField("N", count_value, hslInteger);
if( 0 == Count_Available.Open(sort_file + " " + "SORT", hslRead, count_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 701 1 0 "6b106eed_a12a_4220_9a8be1344d2d9e17" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Count_Available.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 702 1 0 "1b66442e_b6b6_4073_9749add78ee57902" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Count_Available.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Count_Available.RemoveFields();
// }} ""
// {{ 703 1 0 "c8f5284a_c4c2_49de_bac7261914229c9d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
ret_Number_Remaining = count_value;
// }} ""
// {{ 704 1 0 "0f29b6a2_3ead_4727_87d4f6992b3a5df8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (count_value == 0)
{
// }} ""
// {{{ 705 1 0 "773b1ee3_8d1d_42c0_b933c32c30a7618f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(io_Sequence_to_Sort);
// }} ""
// {{ 706 1 0 "76c501c8_c205_4167_93f0b08d793c1fda" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
io_Array_of_Variables.SetSize(0);
// }} ""
// {{ 707 1 0 "9dedfee4_257e_4f83_a716f6c70cb5291c" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
io_Array_of_Variables2.SetSize(0);
// }} ""
// {{ 708 1 0 "0f29b6a2_3ead_4727_87d4f6992b3a5df8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 709 1 0 "962f485d_144b_4072_9e912f5d5b105b7e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
filter_sql = StrConcat2(Translate("SELECT * FROM SORT WHERE STATUS = 'NOT_DONE' ORDER BY LINE_NUMBER ASC"), Translate(""));
// }} ""
// {{{ 710 1 0 "194f50dd_2455_46cd_af820377a7a3e237" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(temp_seq1);
// }} ""
// {{ 711 1 0 "0f3e6e06_29cb_4ab2_917cb28f7f323224" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_temp_array1.SetSize(0);
// }} ""
// {{ 712 1 0 "51aacaba_076c_4ba3_982f69d81c66db97" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_temp_array2.SetSize(0);
// }} ""
// {{ 713 1 0 "baef4e50_532a_4fd0_898f82276f56c203" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Sort_File.AddField("LINE_NUMBER", line_number, hslInteger);
Sort_File.AddField("LAB1", lab1, hslString, 255);
Sort_File.AddField("POS1", pos1, hslString, 255);
Sort_File.AddField("LAB2", not_used, hslString, 255);
Sort_File.AddField("POS2", not_used, hslString, 255);
Sort_File.AddField("VAL1", val1, hslString, 255);
Sort_File.AddField("VAL2", val2, hslString, 255);
Sort_File.AddField("X1", x1, hslFloat);
Sort_File.AddField("Y1", y1, hslFloat);
Sort_File.AddField("X2", not_used, hslString, 255);
Sort_File.AddField("Y2", not_used, hslString, 255);
Sort_File.AddField("STATUS", status, hslString, 255);
if( 0 == Sort_File.Open(sort_file + " " + "SORT", hslRead, filter_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 714 1 0 "9be0ffc5_acaf_4ad5_bff935a5d177cea7" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
while (
   (Sort_File.Eof() == 0)
)
{
// }} ""
// {{ 715 1 0 "69edf095_77ee_429a_9e38823221c13310" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Sort_File.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// This converts the array values back to their original state

if(val_type1 == 1) val1 = FVal(val1);
else if(val_type1 == 2) val1 = IVal(val1); 

if(val_type2 == 1) val2 = FVal(val2);
else if(val_type2 == 2) val2 = IVal(val2); 
// {{ 717 1 0 "ba0c6dc8_e603_48aa_abfd961ccac7b0a4" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_temp_array1.AddAsLast(val1);
// }} ""
// {{ 718 1 0 "621a8818_739e_4349_a2929676376f706b" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_temp_array2.AddAsLast(val2);
// }} ""
// {{{ 719 1 0 "ff824449_7774_4403_b7bb19cb86df7eba" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(temp_seq1, lab1, pos1);
// }} ""
// {{ 720 1 0 "9be0ffc5_acaf_4ad5_bff935a5d177cea7" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 721 1 0 "1f74037a_3f44_4874_9a3463e0e83e07e8" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Sort_File.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Sort_File.RemoveFields();
// }} ""
// {{ 722 1 0 "ba880904_76a8_42cc_850dd57a926cbd75" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
temp_seq1.SetCurrentPosition(1);
// }} ""
// {{{ 723 1 0 "cf616d79_c09a_4eb3_9fd3799835b8e6ae" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqCopySequence(io_Sequence_to_Sort, temp_seq1);
// }} ""
// {{ 724 1 0 "a41d5add_2967_4d98_a703cb2cce36153f" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
io_Array_of_Variables=arr_temp_array1;
// }} ""
// {{ 725 1 0 "892a25fc_a536_41cd_8423258fb814099e" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
io_Array_of_Variables2=arr_temp_array2;
// }} ""
// {{ 726 1 0 "0f29b6a2_3ead_4727_87d4f6992b3a5df8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 727 1 0 "db3b2161_6abf_434d_88291363ab3d3388" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 729 1 0 "db3b2161_6abf_434d_88291363ab3d3388" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 730 1 0 "53234bf3_5273_4351_a2ae7e869a0adfd3" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_Number_Remaining);
// }} ""
// {{{ 5 "CHAN_ACCESS_Sort1Sequence2Arrays" "End"
}
// }} ""
// {{{ 5 "CHAN_ACCESS_Sort2Sequences" "Begin"
function CHAN_ACCESS_Sort2Sequences( device & ML_STAR, sequence & io_Sequence_to_Sort, sequence & io_Sequence_to_Sort2, variable i_Channel_Type, variable i_Sort_by_Labware, variable i_Sort_by_XY, variable i_Sort_for_Channel_Raster, variable i_Max_Channel, sequence & o_Sorted_Sequence, sequence & o_Sorted_Sequence2, variable & o_Channel_Pattern ) variable {
// }} ""
private variable channel_raster;
private variable status;
private variable used_exclusion;
private variable num_to_sort;
private variable in_group;
private variable pos1;
private variable pos2;
private variable num_used;
private variable restriction_raster;
private variable in_index;
private variable y_min;
private variable num_to_sort2;
private variable update_sql;
private variable y_max;
private variable ret_Number_Remaining;
private variable value_equal;
private variable num_labhand_channels;
private variable total_channels;
private variable sequence_name2;
private variable file_index;
private variable restriction1;
private variable null;
private variable not_used;
private variable restriction2;
private variable lab1;
private variable sort_file;
private variable lab2;
private variable prev_x_coord;
private variable num_1mL_channels;
private variable filter_sql;
private variable prev_y_coord;
private variable count_sql;
private variable order_by;
private variable num_5mL_channels;
private variable channel_number;
private variable y1;
private variable count_value;
private variable y2;
private variable x1;
private variable x2;
private variable line_number;
private variable sequence_name;
private sequence temp_seq1;
private sequence temp_seq2;
private file Count_Available;
private file Update_FIle;
private file Sort_File;
private variable arr_Y_Min[];
private variable arr_Y_Max[];
private variable arr_line_numbers[];
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable bool_FileExists;
private variable int_Count;
// {{ 5 "CHAN_ACCESS_Sort2Sequences" "InitLocals"
{ sequence __temp; o_Sorted_Sequence = __temp; }
{ sequence __temp; o_Sorted_Sequence2 = __temp; }
o_Channel_Pattern = 0;
// }} ""
// {{ 732 1 0 "56048c9f_01f6_4299_80b85888fb7157dd" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 733 1 0 "6a02fc8a_d94c_4849_97a835b68b2776ed" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 735 1 0 "44188243_f9d4_440b_992eeb9923e3253e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 736 1 0 "b45d35ae_0637_4b96_899780ad539d9305" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 737 1 0 "409413e0_08c6_4259_94352885e394ff65" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 738 1 0 "2eedec2e_716f_424b_838cf160d1de27fa" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 739 1 0 "e0e89933_5283_4e8d_b5a82389e2ae2820" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 741 1 0 "56048c9f_01f6_4299_80b85888fb7157dd" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 742 1 0 "cfd4a7cf_de37_4582_af31669db49fac7b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 743 1 0 "c53f0541_8f64_4eec_8a3a188f148b713f" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 744 1 0 "ef64f7cc_b6bd_4cd5_acf4564bf8816311" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 745 1 0 "cf89696d_bf02_4edb_bc4c72789e535700" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_1mL_channels = DevGetCfgValueWithKey(ML_STAR, 1);
// }} ""
// {{{ 746 1 0 "ab995c26_f9cf_4722_9d205d94bfed1043" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_5mL_channels = DevGetCfgValueWithKey(ML_STAR, 43);
// }} ""
// {{{ 747 1 0 "c4ca04bf_3795_4d20_ad0453f712f05f96" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_labhand_channels = DevGetCfgValueWithKey(ML_STAR, 47);
// }} ""
// {{{ 748 1 0 "3025841d_eb9f_450f_a2bad133a89d629d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Channel_Type = StrConcat2(i_Channel_Type, Translate(""));
// }} ""
// {{{ 749 1 0 "4b3e3142_1245_4c67_83842ab2d9bf2b2b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Channel_Type = StrIVal(i_Channel_Type);
// }} ""
// {{ 750 1 0 "4c0991d1_fc00_4889_8c2bc80f9f4c9d95" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type < 0)
{
// }} ""
// {{{ 751 1 0 "ee99e0c7_1979_4ebc_ae068df2d8a134b3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("***************  Channel type of "), i_Channel_Type, Translate(" is not recognized by this library!!!!"), Translate(""));
// }} ""
// {{ 752 1 0 "d5ec531a_72ce_4613_adf3df6d177e1529" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = 0;
// }} ""
// {{ 753 1 0 "4c0991d1_fc00_4889_8c2bc80f9f4c9d95" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 754 1 0 "bc1356dc_0a8e_46b2_9a54cb72817a8970" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type > 2)
{
// }} ""
// {{{ 755 1 0 "3e5f2709_9b70_4c3b_a28105f8eb9ea02a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("***************  Channel type of "), i_Channel_Type, Translate(" is not recognized by this library!!!!"), Translate(""));
// }} ""
// {{ 756 1 0 "be3e9c00_6338_4a7b_a34e14ec7e414add" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = 0;
// }} ""
// {{ 757 1 0 "bc1356dc_0a8e_46b2_9a54cb72817a8970" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 758 1 0 "ae448151_f498_4161_9e9900070732c07a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 0)
{
// }} ""
// {{ 759 1 0 "bfada038_80d5_44cb_a80999599ac404ab" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = num_1mL_channels;
// }} ""
// {{ 760 1 0 "ae448151_f498_4161_9e9900070732c07a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 761 1 0 "b3ef8a2b_9bdc_456b_ac222eb46a41b149" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 1)
{
// }} ""
// {{ 762 1 0 "d6791503_4d25_4f92_adafbb43ff57061d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = num_5mL_channels;
// }} ""
// {{ 763 1 0 "b3ef8a2b_9bdc_456b_ac222eb46a41b149" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 764 1 0 "b12db044_46c4_469b_a4943d945bc5fedc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 2)
{
// }} ""
// {{ 765 1 0 "62030388_d4c0_4b9f_b943ff362d0dafae" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = num_labhand_channels;
// }} ""
// {{ 766 1 0 "b12db044_46c4_469b_a4943d945bc5fedc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 767 1 0 "c53f0541_8f64_4eec_8a3a188f148b713f" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 768 1 0 "ec61b074_68a6_4a72_825dd5c319a947eb" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 769 1 0 "73e6d3c0_95b6_45d3_a7f905237d0a5186" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_Channel_Pattern = Translate("");
// }} ""
// {{ 770 1 0 "ff1b3919_8499_4d5c_95895738dfecf4f3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (total_channels == 0)
{
// }} ""
// {{ 771 1 0 "b140c42c_44dc_472a_9d4c08f6cb352fdb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 0)
{
// }} ""
// {{{ 772 1 0 "11f2c63b_5b0f_490b_8966766c3f990e2d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no 1 mL channels installed!"), Translate(""));
// }} ""
// {{{ 773 1 0 "d6ceb756_e01d_491b_af9bf76ab171eacd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No 1 mL channels installed!!"));
// }} ""
// {{ 774 1 0 "b140c42c_44dc_472a_9d4c08f6cb352fdb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 775 1 0 "0288d38d_293b_42d2_bfbcf4a586ee844f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 1)
{
// }} ""
// {{{ 776 1 0 "04daef15_0559_45b5_85104bdb06402b75" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no 5 mL channels installed!"), Translate(""));
// }} ""
// {{{ 777 1 0 "96cbc5da_5e73_4b8b_98dbe17643aba2dd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No 5 mL channels installed!!"));
// }} ""
// {{ 778 1 0 "0288d38d_293b_42d2_bfbcf4a586ee844f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 779 1 0 "f6c13aed_323b_45ef_9f8261b6817bd15e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 2)
{
// }} ""
// {{{ 780 1 0 "ffd18b04_f6da_41fc_be2c9c72bf69018f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no Lab Handler channels installed!"), Translate(""));
// }} ""
// {{{ 781 1 0 "b78ab301_fc6f_4690_8a14ef0866241b25" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No Lab Handler channels installed!!"));
// }} ""
// {{ 782 1 0 "f6c13aed_323b_45ef_9f8261b6817bd15e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 783 1 0 "ff1b3919_8499_4d5c_95895738dfecf4f3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 784 1 0 "bf5058b5_7da4_4ba3_9ffbf9f1614ddc72" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::RemoveTruncatedSequencePositions(ML_STAR, io_Sequence_to_Sort);
// }} ""
// {{{ 785 1 0 "ee4db105_d58a_4330_b27b86c75adffb4b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::RemoveTruncatedSequencePositions(ML_STAR, io_Sequence_to_Sort2);
// }} ""
// {{{ 786 1 0 "a3a29f43_48dd_469d_be3a236947001e4a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::Set_Channel_Pattern(o_Channel_Pattern, total_channels, 0);
// }} ""
// {{{ 787 1 0 "953929a3_7d9f_467b_a7ab2fb3609dc86b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Max_Channel = StrConcat2(i_Max_Channel, Translate(""));
// }} ""
// {{{ 788 1 0 "85cc649a_ad10_46a9_ad87a17d97810789" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Max_Channel = StrIVal(i_Max_Channel);
// }} ""
// {{ 789 1 0 "d9326954_22a4_4113_aa18ab195ef6bd32" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Max_Channel <= 0)
{
// }} ""
// {{ 790 1 0 "e5e6e5b1_fa3d_424c_a19f1aa05f9fbb55" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
i_Max_Channel = total_channels;
// }} ""
// {{ 791 1 0 "d9326954_22a4_4113_aa18ab195ef6bd32" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 792 1 0 "f2e7bf54_9c8b_4a67_a66388c3cb48b30a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Max_Channel > total_channels)
{
// }} ""
// {{ 793 1 0 "46723988_2183_480b_9a6763a9d007e276" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
i_Max_Channel = total_channels;
// }} ""
// {{ 794 1 0 "f2e7bf54_9c8b_4a67_a66388c3cb48b30a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 795 1 0 "2b88fe7e_bfc6_4f6f_9106b29f1058771a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
ret_Number_Remaining = 0;
// }} ""
// {{{ 796 1 0 "b1649732_fb6d_4644_9395930717ed1b25" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(o_Sorted_Sequence);
// }} ""
// {{{ 797 1 0 "61ba12e1_7f51_418e_b3e5f832dce6cea9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(o_Sorted_Sequence2);
// }} ""
// {{ 798 1 0 "237663b0_493b_4416_9cd4c979fade6905" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 0)
{
// }} ""
// {{ 799 1 0 "6f057986_7b25_4574_9e7596c7313ab4bf" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Max=G_ARR_FW_PIP_COM_YMax;
// }} ""
// {{ 800 1 0 "2da33b9a_336c_437c_ac2dbc7ba70bcb7c" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Min=G_ARR_FW_PIP_COM_YMin;
// }} ""
// {{ 801 1 0 "0d576b93_ade1_4ef7_8a5fab477fb0fa4e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
channel_raster = G_FW_PIP_COM_Raster;
// }} ""
// {{ 802 1 0 "237663b0_493b_4416_9cd4c979fade6905" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 803 1 0 "a253cd6c_163f_44f1_931a7fa163b58bf4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 1)
{
// }} ""
// {{ 804 1 0 "a739e638_5029_490a_82a7859b2305f966" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Max=G_ARR_FW_XL_COM_YMax;
// }} ""
// {{ 805 1 0 "a1efdf23_e333_4172_acaff19513a82779" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Min=G_ARR_FW_XL_COM_YMin;
// }} ""
// {{ 806 1 0 "db364570_5d8f_41f0_b6c3e7f12af839a6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
channel_raster = G_FW_XL_COM_Raster;
// }} ""
// {{ 807 1 0 "a253cd6c_163f_44f1_931a7fa163b58bf4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 808 1 0 "80db1fce_3e50_463e_a5106763820ffc89" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 2)
{
// }} ""
// {{{ 809 1 0 "ed5c1da8_e54d_45fb_9cb45208f0034c60" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetChannelLimits(ML_STAR, i_Channel_Type, arr_Y_Max, arr_Y_Min, channel_raster);
// }} ""
// {{ 810 1 0 "80db1fce_3e50_463e_a5106763820ffc89" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 811 1 0 "9d1b3e1a_3627_4d72_a6d81d3cd1f2c702" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 812 1 0 "d9472adb_776b_43ba_bff0607d78490256" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetTempSortingFilePath(sort_file);
// }} ""
// {{{ 813 1 0 "f0849845_44e3_42ac_9cad180b0560d8f9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bool_FileExists = HSLExtensions::File::Exists(sort_file);
// }} ""
// {{ 814 1 0 "cc94b1ff_0ab8_40d3_b678e578f6ffea7a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bool_FileExists == 1)
{
// }} ""
// {{{ 815 1 0 "60a71f28_1856_4264_a3cd535715b05abb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLExtensions::File::Delete(sort_file);
// }} ""
// {{ 816 1 0 "cc94b1ff_0ab8_40d3_b678e578f6ffea7a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 817 1 0 "5283a301_5b6d_4278_ba33fe69acba4370" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_to_sort = SeqGetTotal(io_Sequence_to_Sort);
// }} ""
// {{{ 818 1 0 "1cf51280_19c7_4394_9418ced0373aaf0e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_to_sort2 = SeqGetTotal(io_Sequence_to_Sort2);
// }} ""
// {{{ 819 1 0 "7b6db7c2_6053_46ce_aad1554d43fb3a4c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
sequence_name = SeqGetName(io_Sequence_to_Sort);
// }} ""
// {{{ 820 1 0 "e34a9939_070b_404e_a696270d4c2da8ce" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
sequence_name2 = SeqGetName(io_Sequence_to_Sort2);
// }} ""
// {{ 821 1 0 "3d315e3f_71c1_4da2_ab259a183234f61d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
value_equal = 0;
// }} ""
if(num_to_sort == num_to_sort2) value_equal = 1;
// {{ 823 1 0 "3a27ce8f_1abd_4c1e_95527347ffc4ab4b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_to_sort == 0)
{
// }} ""
// {{{ 824 1 0 "4b875c86_3002_47a6_94ee31a5b349c45a" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_Number_Remaining);
// }} ""
// {{ 825 1 0 "3a27ce8f_1abd_4c1e_95527347ffc4ab4b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 826 1 0 "f23af82c_fcae_48f1_b258ce7401cfb1b0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (value_equal == 0)
{
// }} ""
// {{{ 827 1 0 "3983cf81_e75a_4e1c_9250886b11386593" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("##############  SEQUENCES DO NOT HAVE THE SAME NUMBER OF POSITIONS."), Translate(""));
// }} ""
// {{{ 828 1 0 "286df1c2_8da9_4f3a_ba6113ba0ca861ab" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("Sequences do not have the same number of positions."));
// }} ""
// {{{ 829 1 0 "02fbb52d_f04d_4afa_929abb493eb4835f" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_Number_Remaining);
// }} ""
// {{ 830 1 0 "f23af82c_fcae_48f1_b258ce7401cfb1b0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 831 1 0 "5243c674_7b61_4f15_99049d8c8a0e1780" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("________________________________________________________"), Translate(""));
// }} ""
// {{{ 832 1 0 "c8361870_0779_41a1_bdee59f839be71a8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate(""), Translate(""));
// }} ""
// {{{ 833 1 0 "450b9dd3_f2b6_4cba_958aa8312120dd2d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("           Sequence to Sort:  "), sequence_name, Translate("     Second Sequence to Sort:  "), sequence_name2);
// }} ""
// {{{ 834 1 0 "3028dd69_9093_432f_a885ded31df56d2b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Number of Positions in Sequence:  "), num_to_sort);
// }} ""
// {{{ 835 1 0 "bbcec75c_f514_4173_a88be21d3aa023e2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sort by Labware:  "), i_Sort_by_Labware);
// }} ""
// {{{ 836 1 0 "12b44670_986a_4b96_9205a484673519ce" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sort by XY:  "), i_Sort_by_XY);
// }} ""
// {{{ 837 1 0 "98f08005_202e_4503_a7cc86b65ba4c7aa" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sort for Channel Raster:  "), i_Sort_for_Channel_Raster);
// }} ""
// {{{ 838 1 0 "3a62351c_833d_425e_b1910659693ff8cf" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Channel Raster:  "), channel_raster);
// }} ""
// {{{ 839 1 0 "219e2a93_ed79_4e9a_ada43ff6b5d25647" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Maximum Channel:  "), i_Max_Channel);
// }} ""
if(i_Channel_Type == 0) Trace("           Channel Type:  1 mL");
else if(i_Channel_Type == 1) Trace("           Channel Type:  5 mL");
else if(i_Channel_Type == 2) Trace("           Channel Type:  Labware Handler");
// {{{ 841 1 0 "125582c8_203f_4b2d_9ad674bc077b0745" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("________________________________________________________"), Translate(""));
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 842 1 0 "485e1c78_e818_4693_9b01f3e5b0fe043f" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 843 1 0 "b4e41c1d_6147_4b10_90b45cb63852b6b3" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Sort_File.AddField("LINE_NUMBER", line_number, hslInteger);
Sort_File.AddField("LAB1", lab1, hslString, 255);
Sort_File.AddField("POS1", pos1, hslString, 255);
Sort_File.AddField("LAB2", lab2, hslString, 255);
Sort_File.AddField("POS2", pos2, hslString, 255);
Sort_File.AddField("VAL1", not_used, hslString, 255);
Sort_File.AddField("VAL2", not_used, hslString, 255);
Sort_File.AddField("X1", x1, hslFloat);
Sort_File.AddField("Y1", y1, hslFloat);
Sort_File.AddField("X2", x2, hslFloat);
Sort_File.AddField("Y2", y2, hslFloat);
Sort_File.AddField("STATUS", status, hslString, 255);
if( 0 == Sort_File.Open(sort_file + " " + "SORT", hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 844 1 0 "eee3e7da_e7bd_4a7b_85801ebff6e1677f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
not_used = Translate("-----");
// }} ""
// {{ 845 1 0 "e62fe0ed_a277_4a5a_ad7fef1d3518d395" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
status = Translate("NOT_DONE");
// }} ""
// {{ 846 1 0 "e24c9df0_d448_49ae_b91d361b8a29f7c4" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(line_number = 0; line_number < num_to_sort;)
{
line_number = line_number + 1;
// }} ""
// {{ 847 1 0 "5db078db_10ff_4df5_a03443e5363e6904" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
io_Sequence_to_Sort.SetCurrentPosition(line_number);
// }} ""
// {{ 848 1 0 "d3d86169_31dc_4c7c_9752338b3bd18d16" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
io_Sequence_to_Sort2.SetCurrentPosition(line_number);
// }} ""
// {{{ 849 1 0 "e381f20f_0bbb_4428_9c945432bd84362c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
lab1 = SeqGetLabwareId(io_Sequence_to_Sort);
// }} ""
// {{{ 850 1 0 "3de066c7_dbfe_4f46_99db5a468ea50e7a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
pos1 = SeqGetPositionId(io_Sequence_to_Sort);
// }} ""
// {{{ 851 1 0 "742aecec_a7c8_49d4_8d11c00e86826630" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
lab2 = SeqGetLabwareId(io_Sequence_to_Sort2);
// }} ""
// {{{ 852 1 0 "c2cb4905_e00b_4310_94dcdfa33ab3213c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
pos2 = SeqGetPositionId(io_Sequence_to_Sort2);
// }} ""
// {{{ 853 1 0 "bf0c14b3_fee5_45d9_b31cc5fd35f7b280" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, lab1, pos1, x1, y1, null, null);
// }} ""
// {{{ 854 1 0 "e33276f8_9403_40a4_ae86353ec28f0cd5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, lab2, pos2, x2, y2, null, null);
// }} ""
// {{ 855 1 0 "9941f41e_60cd_4064_a8541fd412fc6c62" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Sort_File.WriteRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 856 1 0 "e24c9df0_d448_49ae_b91d361b8a29f7c4" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 857 1 0 "281adab9_e115_4156_9e78e820f3a712fd" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Sort_File.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Sort_File.RemoveFields();
// }} ""
// {{ 858 1 0 "daf8c216_f99d_4de1_b474674aa853dfaf" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_line_numbers.SetSize(0);
// }} ""
// {{ 859 1 0 "05de3679_46dd_45b4_a42067fb3e7e898a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_x_coord = 0.0;
// }} ""
// {{ 860 1 0 "46fe52a3_60fc_4b3d_8fd71c7a3584809c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_y_coord = 999.0;
// }} ""
// {{ 861 1 0 "5c42a6e6_e283_4d2d_9e054ab57c49e47a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(channel_number = 0; channel_number < i_Max_Channel;)
{
channel_number = channel_number + 1;
// }} ""
// {{ 862 1 0 "434646d9_5e9c_4012_acfdb0855167d090" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
prev_y_coord = prev_y_coord - channel_raster;
// }} ""
// {{{ 863 1 0 "ce7730ca_44bf_45a1_867679d7b6271383" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
restriction_raster = StrConcat8(Translate("AND (X1"), Translate(" = "), prev_x_coord, Translate(" AND "), Translate("Y1"), Translate(" <= "), prev_y_coord, Translate(")"));
// }} ""
// {{ 864 1 0 "1c47f5ed_bf1c_46bd_a7ef41f68719ec42" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 865 1 0 "5678448b_2486_48d5_aa8b021c9f3e45ea" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
y_max=arr_Y_Max.GetAt(channel_number-1);
// }} ""
// {{ 866 1 0 "7ef78f8d_3ef5_416e_af47a0e91c2cfe39" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
y_min=arr_Y_Min.GetAt(channel_number-1);
// }} ""
// {{{ 867 1 0 "40062975_148f_469f_ba996c0fef3fa09a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
restriction1 = StrConcat8(Translate("(Y1 "), Translate(">= "), y_min, Translate(" AND "), Translate("Y1 "), Translate("<= "), y_max, Translate(")"));
// }} ""
// {{{ 868 1 0 "d0dc22af_609e_4560_b7e6bda5abae8cd3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
restriction2 = StrConcat8(Translate("(Y2 "), Translate(">= "), y_min, Translate(" AND "), Translate("Y2 "), Translate("<= "), y_max, Translate(")"));
// }} ""
// {{ 869 1 0 "c0c6055d_95c0_4cdc_b78180a863aaf000" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 870 1 0 "76b61d70_07ad_4561_833e31697f72b997" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
num_used=arr_line_numbers.GetSize();
// }} ""
// {{ 871 1 0 "dfef20b3_1a1c_4aa7_92f655ce841cae69" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_used == 0)
{
// }} ""
// {{ 872 1 0 "d9d91472_b53d_4b31_ae8d17954ccdc0ed" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
used_exclusion = Translate("");
// }} ""
// {{ 873 1 0 "dfef20b3_1a1c_4aa7_92f655ce841cae69" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 874 1 0 "0b292a8e_49df_494d_8327008c82ba339d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(Translate("AND LINE_NUMBER NOT IN("), Translate(""));
// }} ""
// {{ 875 1 0 "1d80629a_f902_4927_8f2b37e79fd920cc" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(in_index = 0; in_index < num_used;)
{
in_index = in_index + 1;
// }} ""
// {{ 876 1 0 "4d97fb86_88d4_4740_97df085419560071" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
line_number=arr_line_numbers.GetAt(in_index-1);
// }} ""
// {{ 877 1 0 "468b3e54_8c75_44ab_8a12b9166e6b1ea5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (in_index != 1)
{
// }} ""
// {{{ 878 1 0 "393744ae_1c31_4097_b3709b0393096c88" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(used_exclusion, Translate(", "));
// }} ""
// {{ 879 1 0 "468b3e54_8c75_44ab_8a12b9166e6b1ea5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 880 1 0 "43c8c5e7_04ea_4380_ae0a543792960c7c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(used_exclusion, line_number);
// }} ""
// {{ 881 1 0 "1d80629a_f902_4927_8f2b37e79fd920cc" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 882 1 0 "9583371c_0da8_48da_8b9b4d4c8017521a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(used_exclusion, Translate(")"));
// }} ""
// {{ 883 1 0 "dfef20b3_1a1c_4aa7_92f655ce841cae69" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 884 1 0 "71303df3_c8e0_4784_8881b56d2a7dfed2" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 885 1 0 "d861cbb3_973d_48e9_9f86833d66f20f7d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
order_by = Translate("");
// }} ""
if(i_Sort_by_Labware == 1 && i_Sort_by_XY == 1)
{
   order_by = "ORDER BY LAB1 ASC, X1 ASC, Y1 DESC";
}
else if(i_Sort_by_Labware == 1 && i_Sort_by_XY == 0)
{
   order_by = "ORDER BY LAB1 ASC, LINE_NUMBER ASC";
}
else if(i_Sort_by_Labware == 0 && i_Sort_by_XY == 1)
{
   order_by = "ORDER BY X1 ASC, Y1 DESC";
}
else 
{
   order_by = "ORDER BY LINE_NUMBER ASC";
}
// {{ 887 1 0 "22179ca2_8c47_4fcb_8b6d5dca5de81edc" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 888 1 0 "9f1b6a2d_ecf4_4ab1_8e3190f6af3e096b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
count_sql = StrConcat12(Translate("SELECT COUNT(*) AS N FROM SORT WHERE "), restriction1, Translate(" AND "), restriction2, Translate(" "), used_exclusion, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), restriction_raster);
// }} ""
// {{ 889 1 0 "c4b6bb90_9fba_4cca_8b57f79cb9264f77" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Count_Available.AddField("N", count_value, hslInteger);
if( 0 == Count_Available.Open(sort_file + " " + "SORT", hslRead, count_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 890 1 0 "f7708e97_4eef_4e75_accd19eb14a366ef" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Count_Available.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 891 1 0 "fbf101f1_367b_46fd_b1ba42936234131f" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Count_Available.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Count_Available.RemoveFields();
// }} ""
// {{ 892 1 0 "08f0304c_a90f_4e9d_948acf938ed47565" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (count_value == 0)
{
// }} ""
// {{ 893 1 0 "05a9472b_1a52_420e_93729578bd797d30" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_x_coord = 0.0;
// }} ""
// {{ 894 1 0 "08f0304c_a90f_4e9d_948acf938ed47565" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 895 1 0 "3e34ae34_79b5_4e60_abee0f97115cf38d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 896 1 0 "f876479a_4fd8_43bc_83d3cc28450b31f3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
count_sql = StrConcat12(Translate("SELECT COUNT(*) AS N FROM SORT WHERE "), restriction1, Translate(" AND "), restriction2, Translate(" "), used_exclusion, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 897 1 0 "129a7091_7819_4747_a4ba71964d6ad18f" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Count_Available.AddField("N", count_value, hslInteger);
if( 0 == Count_Available.Open(sort_file + " " + "SORT", hslRead, count_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 898 1 0 "fcaf3ce3_04d8_47fd_a70bdfda4550a0a7" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Count_Available.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 899 1 0 "f0e58c0c_6ddd_42cf_a499eb574dec95eb" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Count_Available.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Count_Available.RemoveFields();
// }} ""
// {{ 900 1 0 "f48cdf1b_2596_4821_8d6b2dac858511cb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (count_value > 0)
{
// }} ""
// {{ 901 1 0 "b9fdf0f3_9c53_414d_a6ed39e2694ed5a5" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 902 1 0 "02aa6d6f_9e86_4b94_889dabd5a39f5815" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
filter_sql = StrConcat12(Translate("SELECT * FROM SORT WHERE "), restriction1, Translate(" AND "), restriction2, Translate(""), Translate(""), Translate(""), Translate(""), Translate(" "), used_exclusion, Translate(" "), order_by);
// }} ""
// {{ 903 1 0 "c2aa44f2_d009_4a9e_83647b9b3d6b2979" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Sort_File.AddField("LINE_NUMBER", line_number, hslInteger);
Sort_File.AddField("LAB1", lab1, hslString, 255);
Sort_File.AddField("POS1", pos1, hslString, 255);
Sort_File.AddField("LAB2", lab2, hslString, 255);
Sort_File.AddField("POS2", pos2, hslString, 255);
Sort_File.AddField("VAL1", not_used, hslString, 255);
Sort_File.AddField("VAL2", not_used, hslString, 255);
Sort_File.AddField("X1", x1, hslFloat);
Sort_File.AddField("Y1", y1, hslFloat);
Sort_File.AddField("X2", x2, hslFloat);
Sort_File.AddField("Y2", y2, hslFloat);
Sort_File.AddField("STATUS", status, hslString, 255);
if( 0 == Sort_File.Open(sort_file + " " + "SORT", hslRead, filter_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 904 1 0 "7882f0d9_65eb_426d_8bafb856a5be1281" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
file_index = 0;
while (
   (Sort_File.Eof() == 0)
)
{
file_index = file_index + 1;
// }} ""
// {{ 905 1 0 "6e42a157_6498_48a9_a8049d1f23806164" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Sort_File.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 906 1 0 "e30d9310_2685_4d99_b26957ec25ad2b0e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Sort_for_Channel_Raster == 0)
{
// }} ""
// {{ 907 1 0 "6ee94b1e_0502_4138_a3410d879b4e428d" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 908 1 0 "e30d9310_2685_4d99_b26957ec25ad2b0e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 909 1 0 "a7f8232d_cc00_4880_a7ea622e37c85978" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (x1 != prev_x_coord)
{
// }} ""
// {{ 910 1 0 "73c27af6_bcc7_4403_a18ac4716710dd3d" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 911 1 0 "a7f8232d_cc00_4880_a7ea622e37c85978" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 912 1 0 "62353529_271c_4f69_8aba96546b67d1f6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (y1 <= prev_y_coord)
{
// }} ""
// {{ 913 1 0 "1c98b0a1_2d3f_4a07_a747087fa699bd4a" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 914 1 0 "62353529_271c_4f69_8aba96546b67d1f6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 915 1 0 "7882f0d9_65eb_426d_8bafb856a5be1281" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 916 1 0 "080927be_dbae_47c1_b2642ee113a69626" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Sort_File.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Sort_File.RemoveFields();
// }} ""
// {{{ 917 1 0 "4e8a4b35_1859_413c_a797ff35980c2387" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_Sorted_Sequence, lab1, pos1);
// }} ""
// {{{ 918 1 0 "bfa0a541_cda3_47d5_8964cd88f209ab75" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_Sorted_Sequence2, lab2, pos2);
// }} ""
// {{{ 919 1 0 "9ed7647c_f9d4_43e9_ae4c17f8938949dd" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::Set_Channel_Pattern(o_Channel_Pattern, channel_number, 1);
// }} ""
// {{ 920 1 0 "f756f0f5_8f2f_46f7_80d365d2979c35b4" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_line_numbers.AddAsLast(line_number);
// }} ""
// {{ 921 1 0 "32c7489b_2f40_4e36_918a15b7a4ada438" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_x_coord = x1;
// }} ""
// {{ 922 1 0 "0771a0b9_6c0b_496d_a0fc09b50e8bf012" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_y_coord = y1;
// }} ""
// {{ 923 1 0 "f48cdf1b_2596_4821_8d6b2dac858511cb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 924 1 0 "5c42a6e6_e283_4d2d_9e054ab57c49e47a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 925 1 0 "c70d40c7_806b_4858_ada3ea1a5efc8115" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
o_Sorted_Sequence.SetCurrentPosition(1);
// }} ""
// {{ 926 1 0 "d443a023_5368_4a3b_9d17cd43874d5a0a" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
o_Sorted_Sequence2.SetCurrentPosition(1);
// }} ""
// {{ 927 1 0 "139a899b_8ade_403a_93413f5f49136638" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 928 1 0 "06449385_c8f9_4caa_bc88eae3109c1f90" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
num_used=arr_line_numbers.GetSize();
// }} ""
// {{ 929 1 0 "b4a587a3_736a_4521_a328a1b9b64df56d" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
ret_Number_Remaining = num_to_sort - num_used;
// }} ""
// {{ 930 1 0 "e19b530c_0dff_48ac_80a29641d5ff410c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_used == 0)
{
// }} ""
// {{{ 931 1 0 "5ab60e0c_6869_45cf_b02244dd5707a750" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("**********************************  The remaining positions are out of reach for the selected channels!!!!"), Translate(""));
// }} ""
// {{{ 932 1 0 "d5f0d531_48a2_4af0_b8c2b65a13e3017c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("The remaining positions are out of reach for all the selected channels!!!!"));
// }} ""
// {{ 933 1 0 "e19b530c_0dff_48ac_80a29641d5ff410c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 934 1 0 "1d0cb76d_6c82_4501_8658c19a48b78eb5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(Translate("LINE_NUMBER IN("), Translate(""));
// }} ""
// {{ 935 1 0 "1db7edb5_0fde_4b4c_ae47de6749089c2e" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(in_index = 0; in_index < num_used;)
{
in_index = in_index + 1;
// }} ""
// {{ 936 1 0 "0baef3ce_613b_4e9f_bc02fafcafc79174" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
line_number=arr_line_numbers.GetAt(in_index-1);
// }} ""
// {{ 937 1 0 "3f5cfec8_eab3_459d_9e806ce5be144253" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (in_index != 1)
{
// }} ""
// {{{ 938 1 0 "78819e75_2a58_457d_b316bba2b18965d4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(in_group, Translate(", "));
// }} ""
// {{ 939 1 0 "3f5cfec8_eab3_459d_9e806ce5be144253" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 940 1 0 "06ff7f60_9f54_4692_ac7c0936aeee842f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(in_group, line_number);
// }} ""
// {{ 941 1 0 "1db7edb5_0fde_4b4c_ae47de6749089c2e" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 942 1 0 "ba2af7bd_c106_45d1_8eaa64d342fabe9c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(in_group, Translate(")"));
// }} ""
// {{{ 943 1 0 "ec6a7777_6ee5_4504_80e9d9b58b2e0cb3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
update_sql = StrConcat4(Translate("UPDATE SORT SET STATUS = 'DONE' WHERE "), in_group, Translate(""), Translate(""));
// }} ""
// {{ 944 1 0 "b0c3de17_47a5_42a2_b1253d2c74cf889d" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Update_FIle.Open(sort_file + " " + "SORT", hslRead, update_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 945 1 0 "38a000f2_2766_4f2a_82c1922b52a9cdcd" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Update_FIle.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Update_FIle.RemoveFields();
// }} ""
// {{ 946 1 0 "45d05b03_c09e_492e_97fe1ad88673a39d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 947 1 0 "79666003_dcc1_4d1a_88c9eea028435b91" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
count_sql = StrConcat2(Translate("SELECT COUNT(*) AS N FROM SORT WHERE STATUS = 'NOT_DONE'"), Translate(""));
// }} ""
// {{ 948 1 0 "e44f2e10_ed93_4e8f_90f3aa8b28b5dafd" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Count_Available.AddField("N", count_value, hslInteger);
if( 0 == Count_Available.Open(sort_file + " " + "SORT", hslRead, count_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 949 1 0 "fca869a0_fee8_4a34_91f2aace06a7e8c3" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Count_Available.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 950 1 0 "b3ef8df1_3fdb_4d64_a09fed108180cff1" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Count_Available.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Count_Available.RemoveFields();
// }} ""
// {{ 951 1 0 "a5d64f4e_7a05_485e_87429d7740d1afd6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
ret_Number_Remaining = count_value;
// }} ""
// {{ 952 1 0 "4c16932b_ffdc_42f7_aa20300afe712db7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (count_value == 0)
{
// }} ""
// {{{ 953 1 0 "93ceeb6e_4c35_4f75_9936a678540eac38" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(io_Sequence_to_Sort);
// }} ""
// {{{ 954 1 0 "4ca9684a_49cb_41d7_b0b6c88f668a0604" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(io_Sequence_to_Sort2);
// }} ""
// {{ 955 1 0 "4c16932b_ffdc_42f7_aa20300afe712db7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 956 1 0 "27bf09be_052b_4a38_8dba9123d02757b6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
filter_sql = StrConcat2(Translate("SELECT * FROM SORT WHERE STATUS = 'NOT_DONE' ORDER BY LINE_NUMBER ASC"), Translate(""));
// }} ""
// {{{ 957 1 0 "9b6514ed_0b64_450e_96b0f2850b4a958f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(temp_seq1);
// }} ""
// {{{ 958 1 0 "e051ac8e_c6d6_41b9_a95ac3d891f001cb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(temp_seq2);
// }} ""
// {{ 959 1 0 "ab7b762e_bccb_411f_9c6fb636eeea5724" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Sort_File.AddField("LINE_NUMBER", line_number, hslInteger);
Sort_File.AddField("LAB1", lab1, hslString, 255);
Sort_File.AddField("POS1", pos1, hslString, 255);
Sort_File.AddField("LAB2", lab2, hslString, 255);
Sort_File.AddField("POS2", pos2, hslString, 255);
Sort_File.AddField("VAL1", not_used, hslString, 255);
Sort_File.AddField("VAL2", not_used, hslString, 255);
Sort_File.AddField("X1", x1, hslFloat);
Sort_File.AddField("Y1", y1, hslFloat);
Sort_File.AddField("X2", x2, hslFloat);
Sort_File.AddField("Y2", y2, hslFloat);
Sort_File.AddField("STATUS", status, hslString, 255);
if( 0 == Sort_File.Open(sort_file + " " + "SORT", hslRead, filter_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 960 1 0 "405b0654_32ed_4c34_8a6eb2505cde9ab5" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
while (
   (Sort_File.Eof() == 0)
)
{
// }} ""
// {{ 961 1 0 "56556423_1bc0_4aed_827fe9a770951ef5" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Sort_File.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{{ 962 1 0 "152cdf71_b24d_40da_82a10a8e523f629b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(temp_seq1, lab1, pos1);
// }} ""
// {{{ 963 1 0 "369d6c27_127e_4fe8_91ef4365f759554c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(temp_seq2, lab2, pos2);
// }} ""
// {{ 964 1 0 "405b0654_32ed_4c34_8a6eb2505cde9ab5" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 965 1 0 "05408058_ffa2_4b6b_8ca2b4f94e19be5e" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Sort_File.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Sort_File.RemoveFields();
// }} ""
// {{ 966 1 0 "d9b0502f_ddba_4815_a8032d210ff32315" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
temp_seq1.SetCurrentPosition(1);
// }} ""
// {{ 967 1 0 "383a52cb_9ea9_4c62_b137018566581b3a" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
temp_seq2.SetCurrentPosition(1);
// }} ""
// {{{ 968 1 0 "3cb79c03_075d_41aa_b1242a9ecfd2222d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqCopySequence(io_Sequence_to_Sort, temp_seq1);
// }} ""
// {{{ 969 1 0 "c899d938_1474_4a27_8f3c1201ebcb6403" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqCopySequence(io_Sequence_to_Sort2, temp_seq2);
// }} ""
// {{ 970 1 0 "4c16932b_ffdc_42f7_aa20300afe712db7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 971 1 0 "63a09525_d512_444e_bfac0374d0426505" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 973 1 0 "63a09525_d512_444e_bfac0374d0426505" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 974 1 0 "76a45130_0459_4ce3_b574ad612bff03c0" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_Number_Remaining);
// }} ""
// {{{ 5 "CHAN_ACCESS_Sort2Sequences" "End"
}
// }} ""
// {{{ 5 "CHAN_ACCESS_Sort2Sequences1Array" "Begin"
function CHAN_ACCESS_Sort2Sequences1Array( device & ML_STAR, sequence & io_Sequence_to_Sort, sequence & io_Sequence_to_Sort2, variable & io_Array_of_Variables[], variable i_Channel_Type, variable i_Sort_by_Labware, variable i_Sort_by_XY, variable i_Sort_for_Channel_Raster, variable i_Max_Channel, sequence & o_Sorted_Sequence, sequence & o_Sorted_Sequence2, variable & o_Sorted_Array[], variable & o_Channel_Pattern ) variable {
// }} ""
private variable channel_raster;
private variable status;
private variable used_exclusion;
private variable pos1;
private variable in_group;
private variable num_to_sort;
private variable restriction_raster;
private variable num_used;
private variable pos2;
private variable in_index;
private variable y_min;
private variable num_to_sort2;
private variable update_sql;
private variable y_max;
private variable val1;
private variable ret_Number_Remaining;
private variable num_in_array;
private variable value_equal;
private variable num_labhand_channels;
private variable sequence_name2;
private variable total_channels;
private variable file_index;
private variable restriction1;
private variable null;
private variable restriction2;
private variable not_used;
private variable lab1;
private variable sort_file;
private variable lab2;
private variable filter_sql;
private variable count_sql;
private variable num_1mL_channels;
private variable prev_y_coord;
private variable prev_x_coord;
private variable order_by;
private variable num_5mL_channels;
private variable is_string;
private variable count_value;
private variable val_type1;
private variable y1;
private variable channel_number;
private variable y2;
private variable x1;
private variable is_integer;
private variable x2;
private variable line_number;
private variable sequence_name;
private variable is_float;
private sequence temp_seq1;
private sequence temp_seq2;
private file Count_Available;
private file Update_FIle;
private file Sort_File;
private variable arr_temp_array1[];
private variable arr_Y_Min[];
private variable arr_Y_Max[];
private variable arr_line_numbers[];
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable bool_FileExists;
private variable int_Count;
// {{ 5 "CHAN_ACCESS_Sort2Sequences1Array" "InitLocals"
{ sequence __temp; o_Sorted_Sequence = __temp; }
{ sequence __temp; o_Sorted_Sequence2 = __temp; }
o_Sorted_Array.SetSize( 0);
o_Channel_Pattern = 0;
// }} ""
// {{ 976 1 0 "f57f6b31_4cf8_4660_b3a9f4f217f4c7f0" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 977 1 0 "8ccf9d2d_0c7b_4782_887f0b0673d43f11" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 979 1 0 "61b75823_8cc2_4314_80fdf86abcca1cb9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 980 1 0 "8101c6fe_0b67_4dc6_b05df5b3e7af826c" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 981 1 0 "6db86073_be00_43c1_bf17eb37bfb21fd0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 982 1 0 "c96420be_f013_47c0_9b2667eace8f2b45" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 983 1 0 "8e099521_accf_47a4_82d9f837b2ecd744" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 985 1 0 "f57f6b31_4cf8_4660_b3a9f4f217f4c7f0" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 986 1 0 "bc0b6ddf_91b4_4a82_80e3b20c790372b7" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 987 1 0 "f36c0800_6cb7_43c9_a775cc090ccedbf5" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 988 1 0 "ad046114_8c7c_4921_b6e66859558124c4" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 989 1 0 "37522b27_0c7e_4afa_a3ca5eb9e393240e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_1mL_channels = DevGetCfgValueWithKey(ML_STAR, 1);
// }} ""
// {{{ 990 1 0 "aee83e04_a03c_4ee0_a68adda93506e214" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_5mL_channels = DevGetCfgValueWithKey(ML_STAR, 43);
// }} ""
// {{{ 991 1 0 "6ce15483_4ad1_4afb_862e848f194defa4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_labhand_channels = DevGetCfgValueWithKey(ML_STAR, 47);
// }} ""
// {{{ 992 1 0 "9bfee936_b18c_42b1_83f35ad816fe1e7c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Channel_Type = StrConcat2(i_Channel_Type, Translate(""));
// }} ""
// {{{ 993 1 0 "e2732a65_d62e_439c_81ab39b155eeaad2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Channel_Type = StrIVal(i_Channel_Type);
// }} ""
// {{ 994 1 0 "b957161a_4d81_482c_830e37bca6160800" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type < 0)
{
// }} ""
// {{{ 995 1 0 "9248f8c6_9fb0_415c_bcc31dfea9af7f25" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("***************  Channel type of "), i_Channel_Type, Translate(" is not recognized by this library!!!!"), Translate(""));
// }} ""
// {{ 996 1 0 "d82a236d_27a0_4a2b_bd41db25cf30d776" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = 0;
// }} ""
// {{ 997 1 0 "b957161a_4d81_482c_830e37bca6160800" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 998 1 0 "8870bd98_7508_49c3_8ef41d118b597e01" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type > 2)
{
// }} ""
// {{{ 999 1 0 "5ab92afb_9bfe_4cc0_b38f716fec86e080" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("***************  Channel type of "), i_Channel_Type, Translate(" is not recognized by this library!!!!"), Translate(""));
// }} ""
// {{ 1000 1 0 "6e2e67c9_e9f1_4aa5_929c3705b71b0886" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = 0;
// }} ""
// {{ 1001 1 0 "8870bd98_7508_49c3_8ef41d118b597e01" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1002 1 0 "d00caa78_053a_494a_841736e358456e3f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 0)
{
// }} ""
// {{ 1003 1 0 "29662209_7e0c_41d5_833c85cd2ca8ab94" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = num_1mL_channels;
// }} ""
// {{ 1004 1 0 "d00caa78_053a_494a_841736e358456e3f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1005 1 0 "be1009fb_f32f_4c5a_bdc89e0894596fe3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 1)
{
// }} ""
// {{ 1006 1 0 "30020bc0_8916_4df2_87d9b078a6d57599" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = num_5mL_channels;
// }} ""
// {{ 1007 1 0 "be1009fb_f32f_4c5a_bdc89e0894596fe3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1008 1 0 "fb078e4a_c14b_4fa7_b59e248cd2ccf461" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 2)
{
// }} ""
// {{ 1009 1 0 "ccbb948f_6918_4cde_906fb9ef7958498c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = num_labhand_channels;
// }} ""
// {{ 1010 1 0 "fb078e4a_c14b_4fa7_b59e248cd2ccf461" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1011 1 0 "f36c0800_6cb7_43c9_a775cc090ccedbf5" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1012 1 0 "6c1db780_9bb9_41cf_b6e9382d0b24eac0" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1013 1 0 "6d483b25_96d3_4f77_a40d871d69df925d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_Channel_Pattern = Translate("");
// }} ""
// {{ 1014 1 0 "79b3af70_ff6c_4a35_b95b1d962b0374bf" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (total_channels == 0)
{
// }} ""
// {{ 1015 1 0 "9774c213_b406_42cb_831ae3351da10c17" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 0)
{
// }} ""
// {{{ 1016 1 0 "29c9affe_4139_4474_85537a234985d18c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no 1 mL channels installed!"), Translate(""));
// }} ""
// {{{ 1017 1 0 "80512fbe_fbab_4268_b89c43e058ab2e3b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No 1 mL channels installed!!"));
// }} ""
// {{ 1018 1 0 "9774c213_b406_42cb_831ae3351da10c17" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1019 1 0 "fc0b4b49_3725_4f62_b1d9ec7d95e63bf2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 1)
{
// }} ""
// {{{ 1020 1 0 "fe6837c9_e6fe_4196_853021ee6715970f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no 5 mL channels installed!"), Translate(""));
// }} ""
// {{{ 1021 1 0 "fd5ab874_8fd6_443c_a7e393e4185f14ed" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No 5 mL channels installed!!"));
// }} ""
// {{ 1022 1 0 "fc0b4b49_3725_4f62_b1d9ec7d95e63bf2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1023 1 0 "dccf0cab_4669_4eaa_a31e792b83cdbe98" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 2)
{
// }} ""
// {{{ 1024 1 0 "19fb8ce7_3f67_41e0_87a19258f3cf2735" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no Lab Handler channels installed!"), Translate(""));
// }} ""
// {{{ 1025 1 0 "29bcef8c_37dd_4414_af67cf7d9a8bb420" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No Lab Handler channels installed!!"));
// }} ""
// {{ 1026 1 0 "dccf0cab_4669_4eaa_a31e792b83cdbe98" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1027 1 0 "79b3af70_ff6c_4a35_b95b1d962b0374bf" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1028 1 0 "91975aa4_f7ee_46f3_8e9de4e2956265f8" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::RemoveTruncatedSequencePositions(ML_STAR, io_Sequence_to_Sort);
// }} ""
// {{{ 1029 1 0 "c1bddf1d_eb88_4969_b533ab2c7c7f70ff" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::RemoveTruncatedSequencePositions(ML_STAR, io_Sequence_to_Sort2);
// }} ""
// {{{ 1030 1 0 "9fff71ca_3068_4ab7_8a314d82950ff383" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::Set_Channel_Pattern(o_Channel_Pattern, total_channels, 0);
// }} ""
// {{{ 1031 1 0 "f0c7fb1a_4ce3_48b5_913ea902d65941d6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Max_Channel = StrConcat2(i_Max_Channel, Translate(""));
// }} ""
// {{{ 1032 1 0 "ef1fe6b7_9a7d_4043_8d937f8aef3f270d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Max_Channel = StrIVal(i_Max_Channel);
// }} ""
// {{ 1033 1 0 "746bf271_50aa_44f3_bf12efac41ed774b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Max_Channel <= 0)
{
// }} ""
// {{ 1034 1 0 "5bc82123_b2dd_49a5_996ce7862512549c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
i_Max_Channel = total_channels;
// }} ""
// {{ 1035 1 0 "746bf271_50aa_44f3_bf12efac41ed774b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1036 1 0 "d50b50aa_f4d4_487f_8e969ee46180ce6b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Max_Channel > total_channels)
{
// }} ""
// {{ 1037 1 0 "7c04686a_a90a_4aea_ba23781212daac62" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
i_Max_Channel = total_channels;
// }} ""
// {{ 1038 1 0 "d50b50aa_f4d4_487f_8e969ee46180ce6b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1039 1 0 "f4345204_7811_40bc_b99f695313f6be8d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
ret_Number_Remaining = 0;
// }} ""
// {{{ 1040 1 0 "783c974b_994f_4f7c_8ff36ad39f646d31" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(o_Sorted_Sequence);
// }} ""
// {{{ 1041 1 0 "e3a5442f_6e8c_4ad6_b7eac6aaa29c9100" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(o_Sorted_Sequence2);
// }} ""
// {{ 1042 1 0 "80a9b4f6_abb2_46fe_bbcb62b966540ede" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_Sorted_Array.SetSize(i_Max_Channel);
// }} ""
// {{ 1043 1 0 "de156c02_b9fa_4f11_904f43f62d6142e7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 0)
{
// }} ""
// {{ 1044 1 0 "f031d828_3180_478f_a85f082f28108146" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Max=G_ARR_FW_PIP_COM_YMax;
// }} ""
// {{ 1045 1 0 "1a18de02_05f6_4c58_9e096ead22a5a37e" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Min=G_ARR_FW_PIP_COM_YMin;
// }} ""
// {{ 1046 1 0 "1d6711fb_be21_4b87_af7f93c14454d1b3" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
channel_raster = G_FW_PIP_COM_Raster;
// }} ""
// {{ 1047 1 0 "de156c02_b9fa_4f11_904f43f62d6142e7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1048 1 0 "ef854889_3110_4fbc_96eb2cc4a18b477d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 1)
{
// }} ""
// {{ 1049 1 0 "cd565ed0_ca84_4eb7_8be3caca7ab2baed" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Max=G_ARR_FW_XL_COM_YMax;
// }} ""
// {{ 1050 1 0 "3850d160_3717_4eed_825efee0154e5a02" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Min=G_ARR_FW_XL_COM_YMin;
// }} ""
// {{ 1051 1 0 "c27e8ad1_3582_4cee_a65d1af0a1ad60a1" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
channel_raster = G_FW_XL_COM_Raster;
// }} ""
// {{ 1052 1 0 "ef854889_3110_4fbc_96eb2cc4a18b477d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1053 1 0 "605f6f90_47b0_4615_9415021bdecad78e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 2)
{
// }} ""
// {{{ 1054 1 0 "d083b56d_c4ff_48f3_902a7553e8e83837" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetChannelLimits(ML_STAR, i_Channel_Type, arr_Y_Max, arr_Y_Min, channel_raster);
// }} ""
// {{ 1055 1 0 "605f6f90_47b0_4615_9415021bdecad78e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1056 1 0 "ea235d98_077a_4fc3_aab1ed1b7902dc5a" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1057 1 0 "797c23fa_96f5_4d8e_9e7a3e9d775851b3" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetTempSortingFilePath(sort_file);
// }} ""
// {{{ 1058 1 0 "e743c719_883d_4b9f_bb887c05a8cbb8fe" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bool_FileExists = HSLExtensions::File::Exists(sort_file);
// }} ""
// {{ 1059 1 0 "ea723d9b_553f_48e0_b5dc81ad8a91b033" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bool_FileExists == 1)
{
// }} ""
// {{{ 1060 1 0 "b663953c_d341_46e9_9040bf15a8df1ca3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLExtensions::File::Delete(sort_file);
// }} ""
// {{ 1061 1 0 "ea723d9b_553f_48e0_b5dc81ad8a91b033" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1062 1 0 "993d10ce_e5cc_4dc6_93877a5e04a7d27a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_to_sort = SeqGetTotal(io_Sequence_to_Sort);
// }} ""
// {{{ 1063 1 0 "e2107629_642f_4166_82fc758f4ec7b86a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_to_sort2 = SeqGetTotal(io_Sequence_to_Sort2);
// }} ""
// {{{ 1064 1 0 "7e52bea4_c7f5_4ef4_9f9c7a5a7f3ce319" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
sequence_name = SeqGetName(io_Sequence_to_Sort);
// }} ""
// {{{ 1065 1 0 "70804ea4_688d_4e7b_80985cd5bc34d517" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
sequence_name2 = SeqGetName(io_Sequence_to_Sort2);
// }} ""
// {{ 1066 1 0 "fec33be9_2744_4384_9913594099197eb4" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
num_in_array=io_Array_of_Variables.GetSize();
// }} ""
// {{ 1067 1 0 "e41e1f02_a263_47cf_b906096fa3fe7845" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
value_equal = 0;
// }} ""
if(num_to_sort == num_in_array && num_to_sort == num_to_sort2) value_equal = 1;
// {{ 1069 1 0 "649119e1_d67a_4035_b780cb3a0cfea38b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_to_sort == 0)
{
// }} ""
// {{{ 1070 1 0 "1b2684f4_fa7e_4f06_b687020d1382c182" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_Number_Remaining);
// }} ""
// {{ 1071 1 0 "649119e1_d67a_4035_b780cb3a0cfea38b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1072 1 0 "9699c3d3_67ca_432d_8966c8706ccce7d3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (value_equal == 0)
{
// }} ""
// {{{ 1073 1 0 "17db9f18_4ff4_4914_a0a9aec304c9f69d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("##############  SEQUENCES AND ARRAY DO NOT HAVE THE SAME NUMBER OF POSITIONS."), Translate(""));
// }} ""
// {{{ 1074 1 0 "b454fcf6_6eb4_4442_85829c0ae8fae98c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("Sequences and array do not have the same number of positions."));
// }} ""
// {{ 1075 1 0 "9699c3d3_67ca_432d_8966c8706ccce7d3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 1076 1 0 "3dbad4fc_4ebb_4ee6_bcc7b43ef0d3b84e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("________________________________________________________"), Translate(""));
// }} ""
// {{{ 1077 1 0 "b0356b45_7966_43ed_8c285d072df548c1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate(""), Translate(""));
// }} ""
// {{{ 1078 1 0 "b4ccc780_e053_451e_947a07c6a9c922de" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("           Sequence to Sort:  "), sequence_name, Translate("     Second Sequence to Sort:  "), sequence_name2);
// }} ""
// {{{ 1079 1 0 "bda287cb_2c1a_44dd_b9a51458ebec8431" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Number of Positions in Sequence:  "), num_to_sort);
// }} ""
// {{{ 1080 1 0 "b2d4e5a5_9cac_444d_aef8f6f1bf0dea79" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sort by Labware:  "), i_Sort_by_Labware);
// }} ""
// {{{ 1081 1 0 "dc76577f_c9b1_4d64_a033becc2cf8e850" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sort by XY:  "), i_Sort_by_XY);
// }} ""
// {{{ 1082 1 0 "dc496c7d_acd5_4518_9e9f4ed82791f59a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sort for Channel Raster:  "), i_Sort_for_Channel_Raster);
// }} ""
// {{{ 1083 1 0 "02263a9b_0855_488e_bf4e44ee06eb2d50" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Channel Raster:  "), channel_raster);
// }} ""
// {{{ 1084 1 0 "7886f9cb_e03a_47cc_b93043450d139dbf" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Maximum Channel:  "), i_Max_Channel);
// }} ""
if(i_Channel_Type == 0) Trace("           Channel Type:  1 mL");
else if(i_Channel_Type == 1) Trace("           Channel Type:  5 mL");
else if(i_Channel_Type == 2) Trace("           Channel Type:  Labware Handler");
// {{{ 1086 1 0 "936560ac_818a_428d_a61274092d626c7d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("________________________________________________________"), Translate(""));
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 1087 1 0 "ab5f49a1_3a30_4920_b4153a3170916996" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1088 1 0 "af35687a_c6e6_4bad_876c8e27daa9531d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
is_float = HSLExtensions::Array::IsFloatArray(io_Array_of_Variables);
// }} ""
// {{{ 1089 1 0 "64bb9744_df9c_4f83_b8ad452cbaafd03b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
is_integer = HSLExtensions::Array::IsIntegerArray(io_Array_of_Variables);
// }} ""
// {{{ 1090 1 0 "7a1f1fbf_22a2_4d9e_945369f7727d8c13" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
is_string = HSLExtensions::Array::IsStringArray(io_Array_of_Variables);
// }} ""
// {{ 1091 1 0 "2695c76b_1e23_4b18_a4ab83851de72e17" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
val_type1 = 0;
// }} ""
if(is_float == 1) val_type1 = 1;
else if(is_integer == 1) val_type1 = 2;
// {{ 1093 1 0 "8bb6ae81_09e8_4a0d_8bf5fb84255aad30" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1094 1 0 "a82d841a_ae30_4d06_a1b8af558edf9f64" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Sort_File.AddField("LINE_NUMBER", line_number, hslInteger);
Sort_File.AddField("LAB1", lab1, hslString, 255);
Sort_File.AddField("POS1", pos1, hslString, 255);
Sort_File.AddField("LAB2", lab2, hslString, 255);
Sort_File.AddField("POS2", pos2, hslString, 255);
Sort_File.AddField("VAL1", val1, hslString, 255);
Sort_File.AddField("VAL2", not_used, hslString, 255);
Sort_File.AddField("X1", x1, hslFloat);
Sort_File.AddField("Y1", y1, hslFloat);
Sort_File.AddField("X2", x2, hslFloat);
Sort_File.AddField("Y2", y2, hslFloat);
Sort_File.AddField("STATUS", status, hslString, 255);
if( 0 == Sort_File.Open(sort_file + " " + "SORT", hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 1095 1 0 "20606247_e15f_482b_aa62fa1407aa5f9c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
not_used = Translate("-----");
// }} ""
// {{ 1096 1 0 "e3e0bf49_7365_4e09_a936ee8c3200127f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
status = Translate("NOT_DONE");
// }} ""
// {{ 1097 1 0 "eb3931c8_f944_4c14_af01bb3a38ebdf06" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(line_number = 0; line_number < num_to_sort;)
{
line_number = line_number + 1;
// }} ""
// {{ 1098 1 0 "1f42d01f_2f71_42fb_b1c4191a3a27816f" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
io_Sequence_to_Sort.SetCurrentPosition(line_number);
// }} ""
// {{ 1099 1 0 "48976863_8161_477b_bda77f3b50d939e7" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
io_Sequence_to_Sort2.SetCurrentPosition(line_number);
// }} ""
// {{{ 1100 1 0 "67926329_6b70_4063_a5eea28f906a3637" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
lab1 = SeqGetLabwareId(io_Sequence_to_Sort);
// }} ""
// {{{ 1101 1 0 "8aef6f58_ca96_4b11_b5a773eb3c3898c5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
pos1 = SeqGetPositionId(io_Sequence_to_Sort);
// }} ""
// {{{ 1102 1 0 "43e2eb4c_016d_460b_a88a3e3c85ce4baf" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
lab2 = SeqGetLabwareId(io_Sequence_to_Sort2);
// }} ""
// {{{ 1103 1 0 "e0268ee4_c01e_4abc_9d9c9bd7f2ba2056" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
pos2 = SeqGetPositionId(io_Sequence_to_Sort2);
// }} ""
// {{{ 1104 1 0 "b51bc0f1_8ef0_4736_80ba136a56b077dc" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, lab1, pos1, x1, y1, null, null);
// }} ""
// {{{ 1105 1 0 "34270127_ae23_432a_b080b67b349063a3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, lab2, pos2, x2, y2, null, null);
// }} ""
// {{ 1106 1 0 "cbd086ec_dafd_44bb_9cb2a6794a2f9826" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
val1=io_Array_of_Variables.GetAt(line_number-1);
// }} ""
// {{ 1107 1 0 "ad0797ba_9782_46d7_b27b6442e3dd8807" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Sort_File.WriteRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 1108 1 0 "eb3931c8_f944_4c14_af01bb3a38ebdf06" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1109 1 0 "3677170f_fa76_4692_89db41f1eb2a4810" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Sort_File.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Sort_File.RemoveFields();
// }} ""
// {{ 1110 1 0 "1d45bfab_7ea2_4428_8e2ab86d420e4a50" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_line_numbers.SetSize(0);
// }} ""
// {{ 1111 1 0 "9845a95a_a032_4aec_96d86da26f174bb2" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_x_coord = 0.0;
// }} ""
// {{ 1112 1 0 "2858cbd1_92af_4f99_bd14d6ed66bdffb5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_y_coord = 999.0;
// }} ""
// {{ 1113 1 0 "8aae9017_7ee1_4446_88a24b3229905d0a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(channel_number = 0; channel_number < i_Max_Channel;)
{
channel_number = channel_number + 1;
// }} ""
// {{ 1114 1 0 "2d2819e3_42b1_494a_a1dd3972f710a006" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
prev_y_coord = prev_y_coord - channel_raster;
// }} ""
// {{{ 1115 1 0 "63151a2b_c4f8_4616_9a50d0480ec72039" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
restriction_raster = StrConcat8(Translate("AND (X1"), Translate(" = "), prev_x_coord, Translate(" AND "), Translate("Y1"), Translate(" <= "), prev_y_coord, Translate(")"));
// }} ""
// {{ 1116 1 0 "95857976_fe14_465f_bc14c96ab35268a1" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1117 1 0 "07a12e40_432b_4b83_91edbd14cb075546" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
y_max=arr_Y_Max.GetAt(channel_number-1);
// }} ""
// {{ 1118 1 0 "f9894c0b_29a8_46dc_a7e28624ce018607" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
y_min=arr_Y_Min.GetAt(channel_number-1);
// }} ""
// {{{ 1119 1 0 "3843383f_1b60_4420_b4ba3b79f2ca6ba2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
restriction1 = StrConcat8(Translate("(Y1 "), Translate(">= "), y_min, Translate(" AND "), Translate("Y1 "), Translate("<= "), y_max, Translate(")"));
// }} ""
// {{{ 1120 1 0 "ccda9ff6_ddb6_4365_869810ff0da994b9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
restriction2 = StrConcat8(Translate("(Y2 "), Translate(">= "), y_min, Translate(" AND "), Translate("Y2 "), Translate("<= "), y_max, Translate(")"));
// }} ""
// {{ 1121 1 0 "11a39da5_afee_4c12_99d36721c09eae65" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1122 1 0 "2cca8815_9832_47a6_9dd130d9741e739f" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
num_used=arr_line_numbers.GetSize();
// }} ""
// {{ 1123 1 0 "a43607f9_d55f_426e_89b21428fda5d741" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_used == 0)
{
// }} ""
// {{ 1124 1 0 "5f64db6a_0c04_4ccb_a8fee1e2a8894cae" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
used_exclusion = Translate("");
// }} ""
// {{ 1125 1 0 "a43607f9_d55f_426e_89b21428fda5d741" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 1126 1 0 "500b08c2_3aca_46b1_a9d86dfd13302234" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(Translate("AND LINE_NUMBER NOT IN("), Translate(""));
// }} ""
// {{ 1127 1 0 "10098597_070e_4d54_8e4fb9800f940454" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(in_index = 0; in_index < num_used;)
{
in_index = in_index + 1;
// }} ""
// {{ 1128 1 0 "1a0da0d8_47b2_472e_a461896098f0393a" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
line_number=arr_line_numbers.GetAt(in_index-1);
// }} ""
// {{ 1129 1 0 "d9bb8e5e_0a9e_41c3_84efb7f95fe4af06" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (in_index != 1)
{
// }} ""
// {{{ 1130 1 0 "736870cf_d443_42dc_ba33c5ace6367f12" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(used_exclusion, Translate(", "));
// }} ""
// {{ 1131 1 0 "d9bb8e5e_0a9e_41c3_84efb7f95fe4af06" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1132 1 0 "a49e7669_125c_4784_9935c1c7b9ebfc30" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(used_exclusion, line_number);
// }} ""
// {{ 1133 1 0 "10098597_070e_4d54_8e4fb9800f940454" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 1134 1 0 "02984ed6_3a15_40e9_85f55cfcdc0c6b31" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(used_exclusion, Translate(")"));
// }} ""
// {{ 1135 1 0 "a43607f9_d55f_426e_89b21428fda5d741" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1136 1 0 "190d4729_71ad_4e8d_aa41d51043871b92" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1137 1 0 "05c8042e_7d47_4ec4_ad58f480f293899e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
order_by = Translate("");
// }} ""
if(i_Sort_by_Labware == 1 && i_Sort_by_XY == 1)
{
   order_by = "ORDER BY LAB1 ASC, X1 ASC, Y1 DESC";
}
else if(i_Sort_by_Labware == 1 && i_Sort_by_XY == 0)
{
   order_by = "ORDER BY LAB1 ASC, LINE_NUMBER ASC";
}
else if(i_Sort_by_Labware == 0 && i_Sort_by_XY == 1)
{
   order_by = "ORDER BY X1 ASC, Y1 DESC";
}
else 
{
   order_by = "ORDER BY LINE_NUMBER ASC";
}
// {{ 1139 1 0 "0a3203ff_7671_4787_947171c246a5644e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1140 1 0 "bed9b525_8107_495c_8dc16f64da4af833" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
count_sql = StrConcat12(Translate("SELECT COUNT(*) AS N FROM SORT WHERE "), restriction1, Translate(" AND "), restriction2, Translate(" "), used_exclusion, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), restriction_raster);
// }} ""
// {{ 1141 1 0 "77216d38_e07d_4f2e_a253311960e0a457" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Count_Available.AddField("N", count_value, hslInteger);
if( 0 == Count_Available.Open(sort_file + " " + "SORT", hslRead, count_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 1142 1 0 "aeee44f5_3952_4c66_abadc274c1ad4ad6" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Count_Available.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 1143 1 0 "5f1e9a76_1a9a_4424_a65798d22e96196f" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Count_Available.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Count_Available.RemoveFields();
// }} ""
// {{ 1144 1 0 "1e8eb8bf_205a_42ae_bb5a13e8760375a8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (count_value == 0)
{
// }} ""
// {{ 1145 1 0 "c46a332f_6d5c_4ed0_a7cf4a6780a8fe3b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_x_coord = 0.0;
// }} ""
// {{ 1146 1 0 "1e8eb8bf_205a_42ae_bb5a13e8760375a8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1147 1 0 "ba0a183e_225b_4f57_823b50ab4f876b8d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1148 1 0 "bb44259e_ca5d_4193_81de0459339be8f9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
count_sql = StrConcat12(Translate("SELECT COUNT(*) AS N FROM SORT WHERE "), restriction1, Translate(" AND "), restriction2, Translate(" "), used_exclusion, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 1149 1 0 "8fa018aa_4e3c_40cc_a6f7f31d6ad82e74" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Count_Available.AddField("N", count_value, hslInteger);
if( 0 == Count_Available.Open(sort_file + " " + "SORT", hslRead, count_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 1150 1 0 "bb271a19_1be6_432c_aee269712acbbcb6" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Count_Available.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 1151 1 0 "3a4fe840_2053_4f8d_8b9c3d77229d3a5f" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Count_Available.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Count_Available.RemoveFields();
// }} ""
// {{ 1152 1 0 "eff287c4_8ea6_4697_97842ac97c7d7d5a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (count_value > 0)
{
// }} ""
// {{ 1153 1 0 "495d0cd0_c158_44d5_af6e90d036d64e87" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1154 1 0 "5d2b77d3_d85a_47cd_89fdc7b9fba72771" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
filter_sql = StrConcat12(Translate("SELECT * FROM SORT WHERE "), restriction1, Translate(" AND "), restriction2, Translate(""), Translate(""), Translate(""), Translate(""), Translate(" "), used_exclusion, Translate(" "), order_by);
// }} ""
// {{ 1155 1 0 "a530d9b2_9222_43c0_9b442475efbffbfd" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Sort_File.AddField("LINE_NUMBER", line_number, hslInteger);
Sort_File.AddField("LAB1", lab1, hslString, 255);
Sort_File.AddField("POS1", pos1, hslString, 255);
Sort_File.AddField("LAB2", lab2, hslString, 255);
Sort_File.AddField("POS2", pos2, hslString, 255);
Sort_File.AddField("VAL1", val1, hslString, 255);
Sort_File.AddField("VAL2", not_used, hslString, 255);
Sort_File.AddField("X1", x1, hslFloat);
Sort_File.AddField("Y1", y1, hslFloat);
Sort_File.AddField("X2", x2, hslFloat);
Sort_File.AddField("Y2", y2, hslFloat);
Sort_File.AddField("STATUS", status, hslString, 255);
if( 0 == Sort_File.Open(sort_file + " " + "SORT", hslRead, filter_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 1156 1 0 "1bffb287_eed2_4fd7_be0cffce97fe5c78" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
file_index = 0;
while (
   (Sort_File.Eof() == 0)
)
{
file_index = file_index + 1;
// }} ""
// {{ 1157 1 0 "bf90f2d3_6262_4d2b_b8660f527e24d783" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Sort_File.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 1158 1 0 "464589a5_5089_4cbf_8b5979ba70c64925" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Sort_for_Channel_Raster == 0)
{
// }} ""
// {{ 1159 1 0 "f4829396_4697_43a6_a347474316c4b43a" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 1160 1 0 "464589a5_5089_4cbf_8b5979ba70c64925" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1161 1 0 "3d1cb9ed_cd3f_42e3_9926f160b489aae0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (x1 != prev_x_coord)
{
// }} ""
// {{ 1162 1 0 "2ddffe87_e7cf_4cb7_8321a73ec8793aba" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 1163 1 0 "3d1cb9ed_cd3f_42e3_9926f160b489aae0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1164 1 0 "e8d80961_6e0f_4b6d_a24958b2f51d6df0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (y1 <= prev_y_coord)
{
// }} ""
// {{ 1165 1 0 "d1c73e95_81f8_4c04_80b721853d2904bf" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 1166 1 0 "e8d80961_6e0f_4b6d_a24958b2f51d6df0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1167 1 0 "1bffb287_eed2_4fd7_be0cffce97fe5c78" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1168 1 0 "76a2d5d0_e9a9_4044_9499be6f4e907119" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Sort_File.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Sort_File.RemoveFields();
// }} ""
// This converts the array values back to their original state

if(val_type1 == 1) val1 = FVal(val1);
else if(val_type1 == 2) val1 = IVal(val1); 
// {{{ 1170 1 0 "1a4088a4_69dc_4b0e_b94110a042ccd0ad" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_Sorted_Sequence, lab1, pos1);
// }} ""
// {{{ 1171 1 0 "18fecddc_f635_4e9a_b10edc45161087b6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_Sorted_Sequence2, lab2, pos2);
// }} ""
// {{{ 1172 1 0 "50fc6fcc_c00b_4200_bd1d10f02dcca2ba" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::Set_Channel_Pattern(o_Channel_Pattern, channel_number, 1);
// }} ""
// {{ 1173 1 0 "5ca9da10_9f52_42a3_96d1fba13ed021c7" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_Sorted_Array.SetAt(channel_number-1, val1);
// }} ""
// {{ 1174 1 0 "31061999_1ca7_4550_a356ada0c9aba99f" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_line_numbers.AddAsLast(line_number);
// }} ""
// {{ 1175 1 0 "bfebd84b_458b_45a1_9da0e5bd4119375b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_x_coord = x1;
// }} ""
// {{ 1176 1 0 "466c1041_f5c7_40dd_acf056ac1f574acf" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_y_coord = y1;
// }} ""
// {{ 1177 1 0 "eff287c4_8ea6_4697_97842ac97c7d7d5a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1178 1 0 "cdde6572_0894_4934_b4291dfe56d963dc" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
val1 = Translate("0");
// }} ""
// This converts the array values back to their original state

if(val_type1 == 1) val1 = FVal(val1);
else if(val_type1 == 2) val1 = IVal(val1); 
// {{ 1180 1 0 "e5f822b0_207c_42d4_bdfe82946f1e5e76" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_Sorted_Array.SetAt(channel_number-1, val1);
// }} ""
// {{ 1181 1 0 "eff287c4_8ea6_4697_97842ac97c7d7d5a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1182 1 0 "8aae9017_7ee1_4446_88a24b3229905d0a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1183 1 0 "0d4eebd5_64d9_4e6c_a2749989a33af625" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
o_Sorted_Sequence.SetCurrentPosition(1);
// }} ""
// {{ 1184 1 0 "3cfde14f_c4fc_40bd_bb51f692b9da7ed5" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
o_Sorted_Sequence2.SetCurrentPosition(1);
// }} ""
// {{ 1185 1 0 "f0266df3_530a_4a78_b146b56635aa5450" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1186 1 0 "142f8e16_3187_4cf5_bfc768432accdaf0" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
num_used=arr_line_numbers.GetSize();
// }} ""
// {{ 1187 1 0 "cf1df8c3_2f2c_4a8f_bc34d348eae22250" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
ret_Number_Remaining = num_to_sort - num_used;
// }} ""
// {{ 1188 1 0 "b0463a8d_5165_42cf_b01971f96aacbb5b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_used == 0)
{
// }} ""
// {{{ 1189 1 0 "47f37ef9_b0fd_485b_a4491252ac560833" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("**********************************  The remaining positions are out of reach for the selected channels!!!!"), Translate(""));
// }} ""
// {{{ 1190 1 0 "1747499c_cec7_4e16_804760cdea0999f6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("The remaining positions are out of reach for all the selected channels!!!!"));
// }} ""
// {{ 1191 1 0 "b0463a8d_5165_42cf_b01971f96aacbb5b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1192 1 0 "0c08e170_2fdc_4366_8d1b4ab3ff663b8d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(Translate("LINE_NUMBER IN("), Translate(""));
// }} ""
// {{ 1193 1 0 "673ef581_0d5e_4a82_8d1b0d5895f08332" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(in_index = 0; in_index < num_used;)
{
in_index = in_index + 1;
// }} ""
// {{ 1194 1 0 "cc7c042b_a4fd_49ba_b290770e3eb9b02d" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
line_number=arr_line_numbers.GetAt(in_index-1);
// }} ""
// {{ 1195 1 0 "7c7f9600_e425_4f1d_a2c835f29e568af4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (in_index != 1)
{
// }} ""
// {{{ 1196 1 0 "3399a1df_2722_4021_abae3ab2678fe8c1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(in_group, Translate(", "));
// }} ""
// {{ 1197 1 0 "7c7f9600_e425_4f1d_a2c835f29e568af4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1198 1 0 "f0b1fdf0_1ed7_4be8_942db1ea8ef49bb4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(in_group, line_number);
// }} ""
// {{ 1199 1 0 "673ef581_0d5e_4a82_8d1b0d5895f08332" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 1200 1 0 "3273e2f8_6949_4393_875a8b98f4fc3a6e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(in_group, Translate(")"));
// }} ""
// {{{ 1201 1 0 "94d85f56_92b8_4123_8a846947cac96234" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
update_sql = StrConcat4(Translate("UPDATE SORT SET STATUS = 'DONE' WHERE "), in_group, Translate(""), Translate(""));
// }} ""
// {{ 1202 1 0 "43626c63_9aca_4778_b606ced7a781c16e" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Update_FIle.Open(sort_file + " " + "SORT", hslRead, update_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 1203 1 0 "3c2e2f74_579b_4410_bd602e16cd923e6a" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Update_FIle.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Update_FIle.RemoveFields();
// }} ""
// {{ 1204 1 0 "700f1df4_d185_4f7a_9056e1a9323f289e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1205 1 0 "a8dc546f_928f_4a7e_92c3ad4596333c08" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
count_sql = StrConcat2(Translate("SELECT COUNT(*) AS N FROM SORT WHERE STATUS = 'NOT_DONE'"), Translate(""));
// }} ""
// {{ 1206 1 0 "111d9bc3_2de2_43bc_9ac2f89e97609023" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Count_Available.AddField("N", count_value, hslInteger);
if( 0 == Count_Available.Open(sort_file + " " + "SORT", hslRead, count_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 1207 1 0 "c779716a_c35b_4679_9a8ea2fe38d2a623" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Count_Available.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 1208 1 0 "e56d75bd_5382_427d_bb0533208e6d948b" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Count_Available.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Count_Available.RemoveFields();
// }} ""
// {{ 1209 1 0 "40eb4133_ae76_48da_86dfdd6f877ba443" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
ret_Number_Remaining = count_value;
// }} ""
// {{ 1210 1 0 "3eb2eac6_13fc_446a_b52dd5fc88dabeb9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (count_value == 0)
{
// }} ""
// {{{ 1211 1 0 "54810d6f_5a92_41c5_acfbbae37f9209f5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(io_Sequence_to_Sort);
// }} ""
// {{{ 1212 1 0 "d694f333_c021_49a8_bb97f776c06e38c7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(io_Sequence_to_Sort2);
// }} ""
// {{ 1213 1 0 "4705342e_571b_42f7_aa6f93ea327872f3" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
io_Array_of_Variables.SetSize(0);
// }} ""
// {{ 1214 1 0 "3eb2eac6_13fc_446a_b52dd5fc88dabeb9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 1215 1 0 "74202f87_3711_43da_803b616b9a5cc078" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
filter_sql = StrConcat2(Translate("SELECT * FROM SORT WHERE STATUS = 'NOT_DONE' ORDER BY LINE_NUMBER ASC"), Translate(""));
// }} ""
// {{{ 1216 1 0 "bc4043c7_87ac_491f_801fdde44c537503" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(temp_seq1);
// }} ""
// {{{ 1217 1 0 "abcdf94f_00db_45ad_800004c0e838a962" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(temp_seq2);
// }} ""
// {{ 1218 1 0 "ab657f87_5b95_422d_99220227544b62b9" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_temp_array1.SetSize(0);
// }} ""
// {{ 1219 1 0 "8024356f_ca57_4011_a11e67cfabec3646" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Sort_File.AddField("LINE_NUMBER", line_number, hslInteger);
Sort_File.AddField("LAB1", lab1, hslString, 255);
Sort_File.AddField("POS1", pos1, hslString, 255);
Sort_File.AddField("LAB2", lab2, hslString, 255);
Sort_File.AddField("POS2", pos2, hslString, 255);
Sort_File.AddField("VAL1", val1, hslString, 255);
Sort_File.AddField("VAL2", not_used, hslString, 255);
Sort_File.AddField("X1", x1, hslFloat);
Sort_File.AddField("Y1", y1, hslFloat);
Sort_File.AddField("X2", x2, hslFloat);
Sort_File.AddField("Y2", y2, hslFloat);
Sort_File.AddField("STATUS", status, hslString, 255);
if( 0 == Sort_File.Open(sort_file + " " + "SORT", hslRead, filter_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 1220 1 0 "4d57f00e_9efc_4bb5_b3035fc6d8e02c88" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
while (
   (Sort_File.Eof() == 0)
)
{
// }} ""
// {{ 1221 1 0 "7f05889b_afe3_4174_98be8e4223f6c151" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Sort_File.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// This converts the array values back to their original state

if(val_type1 == 1) val1 = FVal(val1);
else if(val_type1 == 2) val1 = IVal(val1); 
// {{ 1223 1 0 "bb73039f_e5f7_4bd9_9b0b05e3f9bad9e1" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_temp_array1.AddAsLast(val1);
// }} ""
// {{{ 1224 1 0 "836e368a_47a2_4230_9f8653656e75cf37" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(temp_seq1, lab1, pos1);
// }} ""
// {{{ 1225 1 0 "679a0e07_10c6_48a2_9a59ce7df39a77de" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(temp_seq2, lab2, pos2);
// }} ""
// {{ 1226 1 0 "4d57f00e_9efc_4bb5_b3035fc6d8e02c88" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1227 1 0 "41ec2a34_a5d5_47e9_9b48058d0b6cb094" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Sort_File.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Sort_File.RemoveFields();
// }} ""
// {{ 1228 1 0 "b024b7b1_5571_477d_90db2a7d8fef0b59" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
temp_seq1.SetCurrentPosition(1);
// }} ""
// {{ 1229 1 0 "b5cd384b_45be_4302_a5f50680736c287b" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
temp_seq2.SetCurrentPosition(1);
// }} ""
// {{{ 1230 1 0 "13632985_705b_4410_b73c41dd3da9d689" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqCopySequence(io_Sequence_to_Sort, temp_seq1);
// }} ""
// {{{ 1231 1 0 "6899547e_995a_49e5_a523b2171732c5e8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqCopySequence(io_Sequence_to_Sort2, temp_seq2);
// }} ""
// {{ 1232 1 0 "d3dbe404_fa38_4e88_9e08be84889f09d5" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
io_Array_of_Variables=arr_temp_array1;
// }} ""
// {{ 1233 1 0 "3eb2eac6_13fc_446a_b52dd5fc88dabeb9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1234 1 0 "225cb460_269d_4b0c_b9a6a09bdf1d9d34" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 1236 1 0 "225cb460_269d_4b0c_b9a6a09bdf1d9d34" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1237 1 0 "5adfaaf4_cb83_4b9c_9ae7fabdba049ee3" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_Number_Remaining);
// }} ""
// {{{ 5 "CHAN_ACCESS_Sort2Sequences1Array" "End"
}
// }} ""
// {{{ 5 "CHAN_ACCESS_Sort2Sequences2Arrays" "Begin"
function CHAN_ACCESS_Sort2Sequences2Arrays( device & ML_STAR, sequence & io_Sequence_to_Sort, sequence & io_Sequence_to_Sort2, variable & io_Array_of_Variables[], variable & io_Array_of_Variables2[], variable i_Channel_Type, variable i_Sort_by_Labware, variable i_Sort_by_XY, variable i_Sort_for_Channel_Raster, variable i_Max_Channel, sequence & o_Sorted_Sequence, sequence & o_Sorted_Sequence2, variable & o_Sorted_Array[], variable & o_Sorted_Array2[], variable & o_Channel_Pattern ) variable {
// }} ""
private variable status;
private variable channel_raster;
private variable used_exclusion;
private variable num_in_array2;
private variable in_group;
private variable num_to_sort;
private variable pos1;
private variable is_string2;
private variable pos2;
private variable restriction_raster;
private variable num_used;
private variable in_index;
private variable num_to_sort2;
private variable update_sql;
private variable y_min;
private variable is_float2;
private variable val1;
private variable ret_Number_Remaining;
private variable y_max;
private variable value_equal;
private variable sequence_name2;
private variable total_channels;
private variable num_in_array;
private variable num_labhand_channels;
private variable val2;
private variable file_index;
private variable null;
private variable restriction1;
private variable not_used;
private variable sort_file;
private variable restriction2;
private variable lab1;
private variable lab2;
private variable is_integer2;
private variable prev_y_coord;
private variable filter_sql;
private variable num_1mL_channels;
private variable prev_x_coord;
private variable count_sql;
private variable order_by;
private variable num_5mL_channels;
private variable val_type1;
private variable is_string;
private variable y1;
private variable count_value;
private variable channel_number;
private variable val_type2;
private variable y2;
private variable x1;
private variable is_integer;
private variable x2;
private variable line_number;
private variable is_float;
private variable sequence_name;
private sequence temp_seq1;
private sequence temp_seq2;
private file Count_Available;
private file Update_FIle;
private file Sort_File;
private variable arr_temp_array1[];
private variable arr_temp_array2[];
private variable arr_Y_Min[];
private variable arr_Y_Max[];
private variable arr_line_numbers[];
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable bool_FileExists;
private variable int_Count;
// {{ 5 "CHAN_ACCESS_Sort2Sequences2Arrays" "InitLocals"
{ sequence __temp; o_Sorted_Sequence = __temp; }
{ sequence __temp; o_Sorted_Sequence2 = __temp; }
o_Sorted_Array.SetSize( 0);
o_Sorted_Array2.SetSize( 0);
o_Channel_Pattern = 0;
// }} ""
// {{ 1239 1 0 "8e64663d_3a12_41ec_b8d5bad22487df1e" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1240 1 0 "ea78c2fe_ec36_49c1_95c8e5410d3f6972" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 1242 1 0 "19560468_8386_4b5a_b16746f005871328" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 1243 1 0 "0bff90ce_5236_4835_a65adcba7686d8dd" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 1244 1 0 "e66bab0d_4ece_4775_b12daf6bd0bfb4d5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 1245 1 0 "955f2883_91b6_4e2c_ae223ea2d35bf74c" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 1246 1 0 "28e69e63_6426_4c24_9914b6c0d07d242a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 1248 1 0 "8e64663d_3a12_41ec_b8d5bad22487df1e" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1249 1 0 "4ad4108e_613d_48e1_b037f781ff2cfc3d" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 1250 1 0 "6e2bb588_f5bd_408c_a79076470b18099e" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1251 1 0 "bec2fdfd_bd08_4d98_b19fcd98aa0a2f98" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1252 1 0 "a3e20884_340d_4b99_b572da80fa3fa967" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_1mL_channels = DevGetCfgValueWithKey(ML_STAR, 1);
// }} ""
// {{{ 1253 1 0 "5d5df72a_b3d7_40f6_b2cb92f1bbd3571f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_5mL_channels = DevGetCfgValueWithKey(ML_STAR, 43);
// }} ""
// {{{ 1254 1 0 "3250a0cd_34c8_444b_9784649949a2dd79" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_labhand_channels = DevGetCfgValueWithKey(ML_STAR, 47);
// }} ""
// {{{ 1255 1 0 "85f16578_663c_42fd_bbdede83ca7c697e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Channel_Type = StrConcat2(i_Channel_Type, Translate(""));
// }} ""
// {{{ 1256 1 0 "12b1c7b8_7b05_4ceb_a3572bbf963d69b7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Channel_Type = StrIVal(i_Channel_Type);
// }} ""
// {{ 1257 1 0 "703c9f19_61f8_46e1_ae8d4db0f1bcc93a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type < 0)
{
// }} ""
// {{{ 1258 1 0 "83998bb5_67e9_4bbf_bce1ac048ff25073" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("***************  Channel type of "), i_Channel_Type, Translate(" is not recognized by this library!!!!"), Translate(""));
// }} ""
// {{ 1259 1 0 "a4804f8f_2819_4e3c_940090586ed430a1" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = 0;
// }} ""
// {{ 1260 1 0 "703c9f19_61f8_46e1_ae8d4db0f1bcc93a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1261 1 0 "b014d099_dde1_4e82_8205b83923be9af7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type > 2)
{
// }} ""
// {{{ 1262 1 0 "ebc4b6d3_343e_464d_92607a297e3bfde0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("***************  Channel type of "), i_Channel_Type, Translate(" is not recognized by this library!!!!"), Translate(""));
// }} ""
// {{ 1263 1 0 "29aac073_7dd2_4599_846d1a82d044aa1f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = 0;
// }} ""
// {{ 1264 1 0 "b014d099_dde1_4e82_8205b83923be9af7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1265 1 0 "bbf885cf_8ed6_4219_8d8ed570190509b9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 0)
{
// }} ""
// {{ 1266 1 0 "9a26e26b_7660_4795_b39b83056806ef92" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = num_1mL_channels;
// }} ""
// {{ 1267 1 0 "bbf885cf_8ed6_4219_8d8ed570190509b9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1268 1 0 "df5284ab_dff6_4ea0_a31875bc92311584" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 1)
{
// }} ""
// {{ 1269 1 0 "99bfb87f_4a58_4f6e_966aef017a8fb839" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = num_5mL_channels;
// }} ""
// {{ 1270 1 0 "df5284ab_dff6_4ea0_a31875bc92311584" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1271 1 0 "7448d39f_bc68_4ec6_89a20ec3be57525c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 2)
{
// }} ""
// {{ 1272 1 0 "800343da_d1a5_4b20_a6614ed3119bacab" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
total_channels = num_labhand_channels;
// }} ""
// {{ 1273 1 0 "7448d39f_bc68_4ec6_89a20ec3be57525c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1274 1 0 "6e2bb588_f5bd_408c_a79076470b18099e" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1275 1 0 "fd41469c_fe50_4acc_b8c02d7916c563e9" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1276 1 0 "430ba026_5d5c_4f6c_a8e2a96dbb76749c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_Channel_Pattern = Translate("");
// }} ""
// {{ 1277 1 0 "f0186af0_1b39_4767_b6c71b63804891e5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (total_channels == 0)
{
// }} ""
// {{ 1278 1 0 "566820af_6088_49b5_8214fb0fa64f8009" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 0)
{
// }} ""
// {{{ 1279 1 0 "cd469db9_08f4_4581_8f933201b4b2dbdf" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no 1 mL channels installed!"), Translate(""));
// }} ""
// {{{ 1280 1 0 "7b47b8e9_beb8_4f94_845ba1947ec71a41" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No 1 mL channels installed!!"));
// }} ""
// {{ 1281 1 0 "566820af_6088_49b5_8214fb0fa64f8009" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1282 1 0 "9469a7c2_83d7_40ec_a3ac7238beb24832" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 1)
{
// }} ""
// {{{ 1283 1 0 "fee41faa_9283_4193_a185db7b2dba9ab4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no 5 mL channels installed!"), Translate(""));
// }} ""
// {{{ 1284 1 0 "ae526001_4144_4783_becc5aaad0f6176d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No 5 mL channels installed!!"));
// }} ""
// {{ 1285 1 0 "9469a7c2_83d7_40ec_a3ac7238beb24832" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1286 1 0 "43f5ddf4_b8f2_4de2_9b18eca1a0de0374" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 2)
{
// }} ""
// {{{ 1287 1 0 "373744ab_fa89_48b3_9bacd63e0743485e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no Lab Handler channels installed!"), Translate(""));
// }} ""
// {{{ 1288 1 0 "fab6c08e_71cc_468f_a5d29891585c02a4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No Lab Handler channels installed!!"));
// }} ""
// {{ 1289 1 0 "43f5ddf4_b8f2_4de2_9b18eca1a0de0374" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1290 1 0 "f0186af0_1b39_4767_b6c71b63804891e5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1291 1 0 "58726945_c8e4_4098_bf59f14e7207abe7" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::RemoveTruncatedSequencePositions(ML_STAR, io_Sequence_to_Sort);
// }} ""
// {{{ 1292 1 0 "bb1078e8_4135_4051_b9d84b939b04af10" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::RemoveTruncatedSequencePositions(ML_STAR, io_Sequence_to_Sort2);
// }} ""
// {{{ 1293 1 0 "8b844b7f_13db_4d92_8b8981e64741eef3" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::Set_Channel_Pattern(o_Channel_Pattern, total_channels, 0);
// }} ""
// {{{ 1294 1 0 "8da5bb6c_4a7a_49d1_b2b8cb206ca2a4c2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Max_Channel = StrConcat2(i_Max_Channel, Translate(""));
// }} ""
// {{{ 1295 1 0 "d1fbb1b9_0e01_4e8b_9c2ac0eaca7682b7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_Max_Channel = StrIVal(i_Max_Channel);
// }} ""
// {{ 1296 1 0 "8cfe9eac_5d67_4ea6_b5dbb6329092f2a3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Max_Channel <= 0)
{
// }} ""
// {{ 1297 1 0 "637be79f_4731_4c81_8f05d35dc6f5512e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
i_Max_Channel = total_channels;
// }} ""
// {{ 1298 1 0 "8cfe9eac_5d67_4ea6_b5dbb6329092f2a3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1299 1 0 "a0c65768_240c_41ac_974b1161ee99dc8b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Max_Channel > total_channels)
{
// }} ""
// {{ 1300 1 0 "11041a58_4788_4ca7_ac91e051c993ea46" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
i_Max_Channel = total_channels;
// }} ""
// {{ 1301 1 0 "a0c65768_240c_41ac_974b1161ee99dc8b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1302 1 0 "46255588_aa8e_4f84_ba54b3e60ad05fb6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
ret_Number_Remaining = 0;
// }} ""
// {{{ 1303 1 0 "30ab6711_2419_4fdc_bfd6a75c0f2fed87" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(o_Sorted_Sequence);
// }} ""
// {{{ 1304 1 0 "a14bdf8f_5893_41af_ab830ab35e34f807" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(o_Sorted_Sequence2);
// }} ""
// {{ 1305 1 0 "37634588_2215_4a47_811122e602da1b1c" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_Sorted_Array.SetSize(i_Max_Channel);
// }} ""
// {{ 1306 1 0 "96954cb1_b7a1_41f8_8ed2ccfb63f0ba4b" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_Sorted_Array2.SetSize(i_Max_Channel);
// }} ""
// {{ 1307 1 0 "891bc6f2_44d1_4d27_a20265d956200988" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 0)
{
// }} ""
// {{ 1308 1 0 "f134e264_5541_42ea_90685d2fdc053633" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Max=G_ARR_FW_PIP_COM_YMax;
// }} ""
// {{ 1309 1 0 "d6271242_21cb_4ee6_bbfe976791b6f305" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Min=G_ARR_FW_PIP_COM_YMin;
// }} ""
// {{ 1310 1 0 "9e2a014b_44ef_470a_96ed1cb7148d8f94" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
channel_raster = G_FW_PIP_COM_Raster;
// }} ""
// {{ 1311 1 0 "891bc6f2_44d1_4d27_a20265d956200988" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1312 1 0 "ea6e8b57_1de5_4be7_9ebc3e82d2eb0bed" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 1)
{
// }} ""
// {{ 1313 1 0 "b4de3d7e_9b11_4776_b615db6759177ad4" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Max=G_ARR_FW_XL_COM_YMax;
// }} ""
// {{ 1314 1 0 "23661192_b49a_4939_980a305fb311e79e" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
arr_Y_Min=G_ARR_FW_XL_COM_YMin;
// }} ""
// {{ 1315 1 0 "a425a701_ad3c_4d30_8c2befe0270b44b0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
channel_raster = G_FW_XL_COM_Raster;
// }} ""
// {{ 1316 1 0 "ea6e8b57_1de5_4be7_9ebc3e82d2eb0bed" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1317 1 0 "119810d2_a079_448e_a3c26c99217b5f94" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Channel_Type == 2)
{
// }} ""
// {{{ 1318 1 0 "6ee6bae3_f7ed_4283_a4cc4d7b68a57ef6" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetChannelLimits(ML_STAR, i_Channel_Type, arr_Y_Max, arr_Y_Min, channel_raster);
// }} ""
// {{ 1319 1 0 "119810d2_a079_448e_a3c26c99217b5f94" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1320 1 0 "a16e3a3b_1fff_4ece_a734c2795859a1c4" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1321 1 0 "01466f15_045b_4012_ad60c7a7f9d1c16c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetTempSortingFilePath(sort_file);
// }} ""
// {{{ 1322 1 0 "b666188b_02f7_460c_88f7c5f359175588" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bool_FileExists = HSLExtensions::File::Exists(sort_file);
// }} ""
// {{ 1323 1 0 "3dd374c9_613c_4a88_93c1c2ee88a8f35b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bool_FileExists == 1)
{
// }} ""
// {{{ 1324 1 0 "08109037_9256_4884_b06e3820d65a91b2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLExtensions::File::Delete(sort_file);
// }} ""
// {{ 1325 1 0 "3dd374c9_613c_4a88_93c1c2ee88a8f35b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1326 1 0 "8876c9fb_6ac1_462b_95bc0e3ec2b1ddd4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_to_sort = SeqGetTotal(io_Sequence_to_Sort);
// }} ""
// {{{ 1327 1 0 "68bf6699_1f52_4291_9a55635b06f7260f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_to_sort2 = SeqGetTotal(io_Sequence_to_Sort2);
// }} ""
// {{{ 1328 1 0 "cbf06196_ad27_485f_a19e44e52957e9ba" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
sequence_name = SeqGetName(io_Sequence_to_Sort);
// }} ""
// {{{ 1329 1 0 "dccd5ed1_48db_428f_8a0ddabd429872de" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
sequence_name2 = SeqGetName(io_Sequence_to_Sort2);
// }} ""
// {{ 1330 1 0 "6c5ae403_6300_4e25_85349450110f8bdb" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
num_in_array=io_Array_of_Variables.GetSize();
// }} ""
// {{ 1331 1 0 "d9566ca2_84d6_46d7_91a24162844be0c3" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
num_in_array2=io_Array_of_Variables2.GetSize();
// }} ""
// {{ 1332 1 0 "cbc8a930_9018_4407_ae16624e048b8cf4" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
value_equal = 0;
// }} ""
if(num_to_sort == num_in_array && num_to_sort == num_in_array2 && num_to_sort == num_to_sort2) value_equal = 1;
// {{ 1334 1 0 "a0654358_c0e2_4c70_96f61ccb182cc402" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_to_sort == 0)
{
// }} ""
// {{{ 1335 1 0 "3cc8a056_2083_4fbe_8e7e674c9f896b6c" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_Number_Remaining);
// }} ""
// {{ 1336 1 0 "a0654358_c0e2_4c70_96f61ccb182cc402" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1337 1 0 "9c24d28e_a308_4555_84b08d2c1a69aae7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (value_equal == 0)
{
// }} ""
// {{{ 1338 1 0 "51ba0509_9932_415b_a4823acf319d4d3f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("##############  SEQUENCES AND ARRAYS DO NOT HAVE THE SAME NUMBER OF POSITIONS."), Translate(""));
// }} ""
// {{{ 1339 1 0 "1f5fecb5_8b68_4878_9f3d9138796b5b90" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("Sequences and arrays do not have the same number of positions."));
// }} ""
// {{ 1340 1 0 "9c24d28e_a308_4555_84b08d2c1a69aae7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 1341 1 0 "9c1d5724_c4af_4da6_903d8163e0601aae" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("________________________________________________________"), Translate(""));
// }} ""
// {{{ 1342 1 0 "e10a8375_e823_4596_97bbe897814cba0e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate(""), Translate(""));
// }} ""
// {{{ 1343 1 0 "60a93b23_e55e_4e16_b854c6265f8c78c3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("           Sequence to Sort:  "), sequence_name, Translate("     Second Sequence to Sort:  "), sequence_name2);
// }} ""
// {{{ 1344 1 0 "329264d0_2a39_4f01_b7a7a1148ed094d3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Number of Positions in Sequence:  "), num_to_sort);
// }} ""
// {{{ 1345 1 0 "8ff20552_33cb_448b_860c63c527b9fbfe" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sort by Labware:  "), i_Sort_by_Labware);
// }} ""
// {{{ 1346 1 0 "49d5d6db_b4f0_4849_bbf9ec3aac7116ca" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sort by XY:  "), i_Sort_by_XY);
// }} ""
// {{{ 1347 1 0 "6cb6815f_5026_4d68_99fb775a41ce2f01" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Sort for Channel Raster:  "), i_Sort_for_Channel_Raster);
// }} ""
// {{{ 1348 1 0 "d5cfdbfd_7630_4835_9aaa606bda9b4bc1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Channel Raster:  "), channel_raster);
// }} ""
// {{{ 1349 1 0 "0cb8931b_69c5_4935_a6e0df0ec2d5fff1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("           Maximum Channel:  "), i_Max_Channel);
// }} ""
if(i_Channel_Type == 0) Trace("           Channel Type:  1 mL");
else if(i_Channel_Type == 1) Trace("           Channel Type:  5 mL");
else if(i_Channel_Type == 2) Trace("           Channel Type:  Labware Handler");
// {{{ 1351 1 0 "c84e4052_253d_411b_9c190cfe31a359c3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("________________________________________________________"), Translate(""));
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 1352 1 0 "e4b29af2_80f2_4519_8a4af06690e49c90" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1353 1 0 "28e600a5_726f_41a9_a0d1837f87b79e2f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
is_float = HSLExtensions::Array::IsFloatArray(io_Array_of_Variables);
// }} ""
// {{{ 1354 1 0 "9fe34c61_8962_47fd_bc17a159b5a1afd6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
is_integer = HSLExtensions::Array::IsIntegerArray(io_Array_of_Variables);
// }} ""
// {{{ 1355 1 0 "767d5aa9_ed7d_4678_91e41cd36572ddbe" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
is_string = HSLExtensions::Array::IsStringArray(io_Array_of_Variables);
// }} ""
// {{{ 1356 1 0 "edc2e8f1_6bd8_42ac_9adb0cb84acd2613" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
is_float2 = HSLExtensions::Array::IsFloatArray(io_Array_of_Variables2);
// }} ""
// {{{ 1357 1 0 "3e2973e7_df8b_41d6_8a5200fc85404499" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
is_integer2 = HSLExtensions::Array::IsIntegerArray(io_Array_of_Variables2);
// }} ""
// {{{ 1358 1 0 "aeb68d89_9056_4163_9ca89f26a2c7b93b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
is_string2 = HSLExtensions::Array::IsStringArray(io_Array_of_Variables2);
// }} ""
// {{ 1359 1 0 "34f0a73f_c599_4695_af4b6a1f11753967" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
val_type1 = 0;
// }} ""
// {{ 1360 1 0 "54a64584_cb80_43ee_9719278a3c2bf1dc" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
val_type2 = 0;
// }} ""
if(is_float == 1) val_type1 = 1;
else if(is_integer == 1) val_type1 = 2;

if(is_float2 == 1) val_type2 = 1;
else if(is_integer2 == 1) val_type2 = 2;
// {{ 1362 1 0 "869e598c_7182_4d58_b094b37d6672b252" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1363 1 0 "4ffa4a46_e7b3_4e4d_aac5bd257f91e04a" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Sort_File.AddField("LINE_NUMBER", line_number, hslInteger);
Sort_File.AddField("LAB1", lab1, hslString, 255);
Sort_File.AddField("POS1", pos1, hslString, 255);
Sort_File.AddField("LAB2", lab2, hslString, 255);
Sort_File.AddField("POS2", pos2, hslString, 255);
Sort_File.AddField("VAL1", val1, hslString, 255);
Sort_File.AddField("VAL2", val2, hslString, 255);
Sort_File.AddField("X1", x1, hslFloat);
Sort_File.AddField("Y1", y1, hslFloat);
Sort_File.AddField("X2", x2, hslFloat);
Sort_File.AddField("Y2", y2, hslFloat);
Sort_File.AddField("STATUS", status, hslString, 255);
if( 0 == Sort_File.Open(sort_file + " " + "SORT", hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 1364 1 0 "4662172e_cd5f_4151_ab2b594c27ea1599" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
not_used = Translate("-----");
// }} ""
// {{ 1365 1 0 "dd6293fb_7c03_4ed4_869e8ee77bccf5a2" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
status = Translate("NOT_DONE");
// }} ""
// {{ 1366 1 0 "a8bddbd5_b7a5_407e_8e7fbcc9e719aa86" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(line_number = 0; line_number < num_to_sort;)
{
line_number = line_number + 1;
// }} ""
// {{ 1367 1 0 "73f4ed07_9b87_4f6d_99ece4ce9a8d5b3a" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
io_Sequence_to_Sort.SetCurrentPosition(line_number);
// }} ""
// {{ 1368 1 0 "535a2841_b06e_4619_8f164815a6ca71ba" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
io_Sequence_to_Sort2.SetCurrentPosition(line_number);
// }} ""
// {{{ 1369 1 0 "272d1d0f_2ece_4110_bd399ced9aed037a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
lab1 = SeqGetLabwareId(io_Sequence_to_Sort);
// }} ""
// {{{ 1370 1 0 "f5fd6206_74b7_4d20_a41f4ed3e03f587a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
pos1 = SeqGetPositionId(io_Sequence_to_Sort);
// }} ""
// {{{ 1371 1 0 "1a6f95e1_b9a2_4524_81d09fcc23b723e1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
lab2 = SeqGetLabwareId(io_Sequence_to_Sort2);
// }} ""
// {{{ 1372 1 0 "40cb07d9_4029_46dc_8e21cf8f9a3ab5b1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
pos2 = SeqGetPositionId(io_Sequence_to_Sort2);
// }} ""
// {{{ 1373 1 0 "47ca805a_80cc_4942_b6417ec44d3ab2ac" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, lab1, pos1, x1, y1, null, null);
// }} ""
// {{{ 1374 1 0 "1ca82882_2785_4101_a3e3e378e2715720" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, lab2, pos2, x2, y2, null, null);
// }} ""
// {{ 1375 1 0 "4941ec47_24be_459a_a7dba58726bea274" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
val1=io_Array_of_Variables.GetAt(line_number-1);
// }} ""
// {{ 1376 1 0 "83c045de_11c2_41fe_896ea6ffe6c8930e" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
val2=io_Array_of_Variables2.GetAt(line_number-1);
// }} ""
// {{ 1377 1 0 "74789bb3_bdab_4101_8da9b78f833b08aa" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Sort_File.WriteRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 1378 1 0 "a8bddbd5_b7a5_407e_8e7fbcc9e719aa86" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1379 1 0 "e077479e_4cdd_4ae7_a3a6f26252bb1e18" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Sort_File.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Sort_File.RemoveFields();
// }} ""
// {{ 1380 1 0 "59dcc6ff_3946_4f3f_a6ad52b95eda61a9" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_line_numbers.SetSize(0);
// }} ""
// {{ 1381 1 0 "9cd23aee_303e_44c4_8ce9ccd40eaf6de8" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_x_coord = 0.0;
// }} ""
// {{ 1382 1 0 "72d63116_19ad_4ea2_a693a2854ae2d138" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_y_coord = 999.0;
// }} ""
// {{ 1383 1 0 "5547d174_8230_4b26_8118b8baab684e59" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(channel_number = 0; channel_number < i_Max_Channel;)
{
channel_number = channel_number + 1;
// }} ""
// {{ 1384 1 0 "541a6a9b_fe6d_4cbf_98fc43e88e4d8652" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
prev_y_coord = prev_y_coord - channel_raster;
// }} ""
// {{{ 1385 1 0 "c879ed7f_79e7_486d_95c229e6465d0414" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
restriction_raster = StrConcat8(Translate("AND (X1"), Translate(" = "), prev_x_coord, Translate(" AND "), Translate("Y1"), Translate(" <= "), prev_y_coord, Translate(")"));
// }} ""
// {{ 1386 1 0 "90b96ed0_dc7b_42cb_8c36e65781e1da5b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1387 1 0 "bce833bd_ca25_46c5_922978f6c0e3d575" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
y_max=arr_Y_Max.GetAt(channel_number-1);
// }} ""
// {{ 1388 1 0 "06226992_ad86_47ce_93b1e437f45d9e83" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
y_min=arr_Y_Min.GetAt(channel_number-1);
// }} ""
// {{{ 1389 1 0 "c8d7e09d_544b_431a_933a829a34caa5e4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
restriction1 = StrConcat8(Translate("(Y1 "), Translate(">= "), y_min, Translate(" AND "), Translate("Y1 "), Translate("<= "), y_max, Translate(")"));
// }} ""
// {{{ 1390 1 0 "0920d297_7168_494d_8cbfa223f7cd9c6f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
restriction2 = StrConcat8(Translate("(Y2 "), Translate(">= "), y_min, Translate(" AND "), Translate("Y2 "), Translate("<= "), y_max, Translate(")"));
// }} ""
// {{ 1391 1 0 "e207e1a7_c4a9_4e43_b6cccc35601bafeb" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1392 1 0 "afa30a28_3e2f_4085_bbddf49dae406386" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
num_used=arr_line_numbers.GetSize();
// }} ""
// {{ 1393 1 0 "b2b9d489_13ca_40c3_9d038a8942f710c1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_used == 0)
{
// }} ""
// {{ 1394 1 0 "2beb1f38_2264_4a3f_89ccaf77d4441d65" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
used_exclusion = Translate("");
// }} ""
// {{ 1395 1 0 "b2b9d489_13ca_40c3_9d038a8942f710c1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 1396 1 0 "76601d6f_6041_44b3_a8131cc72f99ddf7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(Translate("AND LINE_NUMBER NOT IN("), Translate(""));
// }} ""
// {{ 1397 1 0 "ec0ed496_e9e4_41a7_b32c7480433ab956" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(in_index = 0; in_index < num_used;)
{
in_index = in_index + 1;
// }} ""
// {{ 1398 1 0 "488a43e3_9dc5_4b50_ac5d9a4527f2da21" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
line_number=arr_line_numbers.GetAt(in_index-1);
// }} ""
// {{ 1399 1 0 "c480ec6f_df15_4e14_a4822a54ebb6fdc0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (in_index != 1)
{
// }} ""
// {{{ 1400 1 0 "b07d7bf5_fc6b_4a2f_927bd1670034d218" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(used_exclusion, Translate(", "));
// }} ""
// {{ 1401 1 0 "c480ec6f_df15_4e14_a4822a54ebb6fdc0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1402 1 0 "b8f001e0_83fb_479f_a494e23371ab153e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(used_exclusion, line_number);
// }} ""
// {{ 1403 1 0 "ec0ed496_e9e4_41a7_b32c7480433ab956" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 1404 1 0 "31ae1aa1_795d_45b0_bab295122b90caa0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
used_exclusion = StrConcat2(used_exclusion, Translate(")"));
// }} ""
// {{ 1405 1 0 "b2b9d489_13ca_40c3_9d038a8942f710c1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1406 1 0 "119a9c72_4f32_406b_b2149e020f7637bb" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1407 1 0 "501e5f7a_c22b_4495_99da22ff2c4e3983" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
order_by = Translate("");
// }} ""
if(i_Sort_by_Labware == 1 && i_Sort_by_XY == 1)
{
   order_by = "ORDER BY LAB1 ASC, X1 ASC, Y1 DESC";
}
else if(i_Sort_by_Labware == 1 && i_Sort_by_XY == 0)
{
   order_by = "ORDER BY LAB1 ASC, LINE_NUMBER ASC";
}
else if(i_Sort_by_Labware == 0 && i_Sort_by_XY == 1)
{
   order_by = "ORDER BY X1 ASC, Y1 DESC";
}
else 
{
   order_by = "ORDER BY LINE_NUMBER ASC";
}
// {{ 1409 1 0 "5eff79c5_2f18_4fa9_8d96b78be2c76536" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1410 1 0 "82055f9e_077b_470a_a13f43d7260215c7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
count_sql = StrConcat12(Translate("SELECT COUNT(*) AS N FROM SORT WHERE "), restriction1, Translate(" AND "), restriction2, Translate(" "), used_exclusion, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), restriction_raster);
// }} ""
// {{ 1411 1 0 "b29bb188_e89a_4538_9a8f0c132566de07" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Count_Available.AddField("N", count_value, hslInteger);
if( 0 == Count_Available.Open(sort_file + " " + "SORT", hslRead, count_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 1412 1 0 "494a689b_edc6_4d45_93d65c467694ecc3" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Count_Available.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 1413 1 0 "a0c742c2_61cf_4cf2_a0a6030ef7f7cf2d" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Count_Available.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Count_Available.RemoveFields();
// }} ""
// {{ 1414 1 0 "522db406_6e3e_40a8_b2c4a70d4022a1d9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (count_value == 0)
{
// }} ""
// {{ 1415 1 0 "7e1b1508_36bd_479f_a247c8cb6fe9e7fd" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_x_coord = 0.0;
// }} ""
// {{ 1416 1 0 "522db406_6e3e_40a8_b2c4a70d4022a1d9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1417 1 0 "5c9b8bc7_5410_4190_adec5c528278f7ce" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1418 1 0 "ebf4819f_5ddf_4bba_bc4dd71405d26e25" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
count_sql = StrConcat12(Translate("SELECT COUNT(*) AS N FROM SORT WHERE "), restriction1, Translate(" AND "), restriction2, Translate(" "), used_exclusion, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 1419 1 0 "6439096f_6011_4d7c_b209362292c546d7" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Count_Available.AddField("N", count_value, hslInteger);
if( 0 == Count_Available.Open(sort_file + " " + "SORT", hslRead, count_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 1420 1 0 "26b24db6_03fc_4046_bb0d0dd5f1cb0120" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Count_Available.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 1421 1 0 "a70b3f06_c363_4f6b_90c011df8e39f102" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Count_Available.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Count_Available.RemoveFields();
// }} ""
// {{ 1422 1 0 "33910428_3def_47ee_8aa7c37d7a569cbb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (count_value > 0)
{
// }} ""
// {{ 1423 1 0 "1bd6eec8_3061_4f09_b48172b7e97e33e9" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1424 1 0 "005ba677_1bd0_4abb_8b4605796453c802" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
filter_sql = StrConcat12(Translate("SELECT * FROM SORT WHERE "), restriction1, Translate(" AND "), restriction2, Translate(""), Translate(""), Translate(""), Translate(""), Translate(" "), used_exclusion, Translate(" "), order_by);
// }} ""
// {{ 1425 1 0 "21a473ba_6e8a_411f_bfb3a76a3620d990" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Sort_File.AddField("LINE_NUMBER", line_number, hslInteger);
Sort_File.AddField("LAB1", lab1, hslString, 255);
Sort_File.AddField("POS1", pos1, hslString, 255);
Sort_File.AddField("LAB2", lab2, hslString, 255);
Sort_File.AddField("POS2", pos2, hslString, 255);
Sort_File.AddField("VAL1", val1, hslString, 255);
Sort_File.AddField("VAL2", val2, hslString, 255);
Sort_File.AddField("X1", x1, hslFloat);
Sort_File.AddField("Y1", y1, hslFloat);
Sort_File.AddField("X2", x2, hslFloat);
Sort_File.AddField("Y2", y2, hslFloat);
Sort_File.AddField("STATUS", status, hslString, 255);
if( 0 == Sort_File.Open(sort_file + " " + "SORT", hslRead, filter_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 1426 1 0 "b9247005_4c63_41ad_bc30f8d7eec195ba" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
file_index = 0;
while (
   (Sort_File.Eof() == 0)
)
{
file_index = file_index + 1;
// }} ""
// {{ 1427 1 0 "c9caa5bf_af96_4f7d_b7a3e4e78cd74e9c" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Sort_File.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 1428 1 0 "be3d3cf0_09cb_48b6_a07b59cd47afa3dd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_Sort_for_Channel_Raster == 0)
{
// }} ""
// {{ 1429 1 0 "2a5367a4_edfe_4a4e_aaffc404d0ae02fb" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 1430 1 0 "be3d3cf0_09cb_48b6_a07b59cd47afa3dd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1431 1 0 "3e50c5a9_531a_4ba8_85961556439e6989" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (x1 != prev_x_coord)
{
// }} ""
// {{ 1432 1 0 "5178f29a_a887_4d3e_88a24ec1dd70deff" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 1433 1 0 "3e50c5a9_531a_4ba8_85961556439e6989" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1434 1 0 "351c04ac_5d59_4a66_b6a48c47e74bd045" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (y1 <= prev_y_coord)
{
// }} ""
// {{ 1435 1 0 "3ddc35ff_67cd_4e0f_ae24b890ae5a8095" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 1436 1 0 "351c04ac_5d59_4a66_b6a48c47e74bd045" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1437 1 0 "b9247005_4c63_41ad_bc30f8d7eec195ba" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1438 1 0 "98319eb3_e2c4_4925_96ba278376148a70" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Sort_File.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Sort_File.RemoveFields();
// }} ""
// This converts the array values back to their original state

if(val_type1 == 1) val1 = FVal(val1);
else if(val_type1 == 2) val1 = IVal(val1); 

if(val_type2 == 1) val2 = FVal(val2);
else if(val_type2 == 2) val2 = IVal(val2); 
// {{{ 1440 1 0 "b071f251_d9e7_4caa_9b9c9118edbc914c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_Sorted_Sequence, lab1, pos1);
// }} ""
// {{{ 1441 1 0 "56abc579_d539_49a0_9ee092c4d0db9722" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_Sorted_Sequence2, lab2, pos2);
// }} ""
// {{{ 1442 1 0 "5135156b_aa5c_4419_9529102c07a7e6fc" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::Set_Channel_Pattern(o_Channel_Pattern, channel_number, 1);
// }} ""
// {{ 1443 1 0 "3d8bc82a_710e_4f07_969bc22c714a59e2" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_Sorted_Array.SetAt(channel_number-1, val1);
// }} ""
// {{ 1444 1 0 "c0785354_9cdb_4a92_82b0692c4de82cc4" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_Sorted_Array2.SetAt(channel_number-1, val2);
// }} ""
// {{ 1445 1 0 "15b296fd_6940_4c2e_81d303e614f4526f" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_line_numbers.AddAsLast(line_number);
// }} ""
// {{ 1446 1 0 "44a776ab_c062_43ec_a9efe6c828e83d35" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_x_coord = x1;
// }} ""
// {{ 1447 1 0 "3d9550b8_99a4_42db_b2ca49fea1377ebe" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
prev_y_coord = y1;
// }} ""
// {{ 1448 1 0 "33910428_3def_47ee_8aa7c37d7a569cbb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1449 1 0 "f6224fd5_a1d3_495e_a292089dee1cfbc5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
val1 = Translate("0");
// }} ""
// {{ 1450 1 0 "9a36909b_d308_4b93_9ecc56d18556ee0c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
val2 = Translate("0");
// }} ""
// This converts the array values back to their original state

if(val_type1 == 1) val1 = FVal(val1);
else if(val_type1 == 2) val1 = IVal(val1); 

if(val_type2 == 1) val2 = FVal(val2);
else if(val_type2 == 2) val2 = IVal(val2); 
// {{ 1452 1 0 "1326456a_c6d6_4767_999a7c960f5510da" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_Sorted_Array.SetAt(channel_number-1, val1);
// }} ""
// {{ 1453 1 0 "c550ec3a_94f7_4752_bae87a253339ec42" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_Sorted_Array2.SetAt(channel_number-1, val2);
// }} ""
// {{ 1454 1 0 "33910428_3def_47ee_8aa7c37d7a569cbb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1455 1 0 "5547d174_8230_4b26_8118b8baab684e59" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1456 1 0 "c08df4a1_d0eb_46db_8e9f4da0ab635376" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
o_Sorted_Sequence.SetCurrentPosition(1);
// }} ""
// {{ 1457 1 0 "cbdabc11_57e0_4105_a4d302d1d94eb8dc" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
o_Sorted_Sequence2.SetCurrentPosition(1);
// }} ""
// {{ 1458 1 0 "4f882251_53f5_4f39_893b69abccf851d5" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1459 1 0 "ca2ecbfe_233f_462d_894aa33141d7140f" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
num_used=arr_line_numbers.GetSize();
// }} ""
// {{ 1460 1 0 "133afc40_89c3_493c_a97614f0b68b360c" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
ret_Number_Remaining = num_to_sort - num_used;
// }} ""
// {{ 1461 1 0 "05713312_e98b_4da9_b0e3c4508d7c2133" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_used == 0)
{
// }} ""
// {{{ 1462 1 0 "925c2c0a_7f66_452d_8234689ce4338ec3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("**********************************  The remaining positions are out of reach for the selected channels!!!!"), Translate(""));
// }} ""
// {{{ 1463 1 0 "faf017e8_c733_4b23_b705350390dfdd72" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("The remaining positions are out of reach for all the selected channels!!!!"));
// }} ""
// {{ 1464 1 0 "05713312_e98b_4da9_b0e3c4508d7c2133" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1465 1 0 "3e407516_d1aa_40ae_b318b95f2c7bba18" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(Translate("LINE_NUMBER IN("), Translate(""));
// }} ""
// {{ 1466 1 0 "bb88fc1f_057a_463e_9606b431f2af9ec1" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(in_index = 0; in_index < num_used;)
{
in_index = in_index + 1;
// }} ""
// {{ 1467 1 0 "dc6f3266_9f3c_48c8_9b90239e7f2672a8" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
line_number=arr_line_numbers.GetAt(in_index-1);
// }} ""
// {{ 1468 1 0 "f99c2a83_aa50_4af0_b1dc4071417c1817" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (in_index != 1)
{
// }} ""
// {{{ 1469 1 0 "3ae4aeea_c3bf_4237_a6d35d601f74e0f4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(in_group, Translate(", "));
// }} ""
// {{ 1470 1 0 "f99c2a83_aa50_4af0_b1dc4071417c1817" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1471 1 0 "44bc1347_122c_4cb7_b4b6aaad212a91f8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(in_group, line_number);
// }} ""
// {{ 1472 1 0 "bb88fc1f_057a_463e_9606b431f2af9ec1" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 1473 1 0 "77b415e5_e3b6_42a4_aa21cad6a8c2fb4b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
in_group = StrConcat2(in_group, Translate(")"));
// }} ""
// {{{ 1474 1 0 "653481af_9996_498f_8bf9a57aea1d4f16" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
update_sql = StrConcat4(Translate("UPDATE SORT SET STATUS = 'DONE' WHERE "), in_group, Translate(""), Translate(""));
// }} ""
// {{ 1475 1 0 "29a61488_1d93_422d_a7d2d22a73c0bf25" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Update_FIle.Open(sort_file + " " + "SORT", hslRead, update_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 1476 1 0 "9245d259_a4e9_4b50_87223c2330ad146f" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Update_FIle.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Update_FIle.RemoveFields();
// }} ""
// {{ 1477 1 0 "f4ea0571_0c41_4200_a82ab8ae420182e2" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1478 1 0 "68125a50_991e_4e43_89015f148f480b2f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
count_sql = StrConcat2(Translate("SELECT COUNT(*) AS N FROM SORT WHERE STATUS = 'NOT_DONE'"), Translate(""));
// }} ""
// {{ 1479 1 0 "607a45aa_dc01_402f_b1594db59d0e214f" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Count_Available.AddField("N", count_value, hslInteger);
if( 0 == Count_Available.Open(sort_file + " " + "SORT", hslRead, count_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 1480 1 0 "534b07c1_c77e_4179_bff9e6ed62270be8" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Count_Available.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 1481 1 0 "b3fc62f3_acd0_4c5e_a0571fcc58346d89" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Count_Available.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Count_Available.RemoveFields();
// }} ""
// {{ 1482 1 0 "7e26b349_d014_42a5_a485929344bb1ce7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
ret_Number_Remaining = count_value;
// }} ""
// {{ 1483 1 0 "cd023051_7937_4914_9513249618124e15" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (count_value == 0)
{
// }} ""
// {{{ 1484 1 0 "d2a9e660_4bf5_40d0_b6e3da7ac4faec96" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(io_Sequence_to_Sort);
// }} ""
// {{{ 1485 1 0 "c4a22bcc_e66c_4124_80c8e278e4b5e7d8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(io_Sequence_to_Sort2);
// }} ""
// {{ 1486 1 0 "29d5955c_ab63_4d8d_9facd0b6862b6a91" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
io_Array_of_Variables.SetSize(0);
// }} ""
// {{ 1487 1 0 "e50ed0a7_4ab1_48cb_bf042be5885705ee" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
io_Array_of_Variables2.SetSize(0);
// }} ""
// {{ 1488 1 0 "cd023051_7937_4914_9513249618124e15" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 1489 1 0 "45a701cb_c9b3_4a23_b426f510994400c5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
filter_sql = StrConcat2(Translate("SELECT * FROM SORT WHERE STATUS = 'NOT_DONE' ORDER BY LINE_NUMBER ASC"), Translate(""));
// }} ""
// {{{ 1490 1 0 "76d48976_d57d_4f07_9b199dfe6ee8218d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(temp_seq1);
// }} ""
// {{{ 1491 1 0 "bed6f154_6eef_43e3_9ac635b059885242" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(temp_seq2);
// }} ""
// {{ 1492 1 0 "73026b2f_f42b_4f0d_b7daec049e2f0c7a" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_temp_array1.SetSize(0);
// }} ""
// {{ 1493 1 0 "b0bf7652_a388_4d44_9c2f696ee9befdf1" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_temp_array2.SetSize(0);
// }} ""
// {{ 1494 1 0 "c3273d5b_73e1_4eab_92b304fd1d677327" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
Sort_File.AddField("LINE_NUMBER", line_number, hslInteger);
Sort_File.AddField("LAB1", lab1, hslString, 255);
Sort_File.AddField("POS1", pos1, hslString, 255);
Sort_File.AddField("LAB2", lab2, hslString, 255);
Sort_File.AddField("POS2", pos2, hslString, 255);
Sort_File.AddField("VAL1", val1, hslString, 255);
Sort_File.AddField("VAL2", val2, hslString, 255);
Sort_File.AddField("X1", x1, hslFloat);
Sort_File.AddField("Y1", y1, hslFloat);
Sort_File.AddField("X2", x2, hslFloat);
Sort_File.AddField("Y2", y2, hslFloat);
Sort_File.AddField("STATUS", status, hslString, 255);
if( 0 == Sort_File.Open(sort_file + " " + "SORT", hslRead, filter_sql) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 1495 1 0 "1509e5e3_3654_4066_a66e644d4d9b4402" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
while (
   (Sort_File.Eof() == 0)
)
{
// }} ""
// {{ 1496 1 0 "85b4b232_d86c_4bf7_99c3d971101d1e60" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == Sort_File.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// This converts the array values back to their original state

if(val_type1 == 1) val1 = FVal(val1);
else if(val_type1 == 2) val1 = IVal(val1); 

if(val_type2 == 1) val2 = FVal(val2);
else if(val_type2 == 2) val2 = IVal(val2); 
// {{ 1498 1 0 "02218d0a_a63b_4fde_846f197afa3eca14" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_temp_array1.AddAsLast(val1);
// }} ""
// {{ 1499 1 0 "9f5b9ad5_fe60_4066_a7580511049f0d7c" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_temp_array2.AddAsLast(val2);
// }} ""
// {{{ 1500 1 0 "e9682f55_0196_4479_b74ca04282cfbca4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(temp_seq1, lab1, pos1);
// }} ""
// {{{ 1501 1 0 "c5f153f7_5c2a_4519_a7b25d82cd991832" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(temp_seq2, lab2, pos2);
// }} ""
// {{ 1502 1 0 "1509e5e3_3654_4066_a66e644d4d9b4402" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1503 1 0 "fbb8df3b_f29d_4bc1_8353ba7c35774934" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != Sort_File.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
Sort_File.RemoveFields();
// }} ""
// {{ 1504 1 0 "160eb761_a6f4_4dd9_a0c3dfe04214c2f8" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
temp_seq1.SetCurrentPosition(1);
// }} ""
// {{ 1505 1 0 "b1a2a763_cc81_46ac_b254de4c7c9a4c97" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
temp_seq2.SetCurrentPosition(1);
// }} ""
// {{{ 1506 1 0 "f729cbeb_0fd8_4163_bf71da891ae913d8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqCopySequence(io_Sequence_to_Sort, temp_seq1);
// }} ""
// {{{ 1507 1 0 "1a5f47b4_fe9b_422b_9f4d3751ef00299f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqCopySequence(io_Sequence_to_Sort2, temp_seq2);
// }} ""
// {{ 1508 1 0 "1282fe00_14d1_4ccc_b7e3ec87dbf4153a" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
io_Array_of_Variables=arr_temp_array1;
// }} ""
// {{ 1509 1 0 "76ad685f_5795_407b_92557593042945ec" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
io_Array_of_Variables2=arr_temp_array2;
// }} ""
// {{ 1510 1 0 "cd023051_7937_4914_9513249618124e15" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1511 1 0 "be296dcc_7640_4015_bdc3a549488186c3" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 1513 1 0 "be296dcc_7640_4015_bdc3a549488186c3" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1514 1 0 "5c6666bb_f508_42a8_a7ca3857c253fe6b" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_Number_Remaining);
// }} ""
// {{{ 5 "CHAN_ACCESS_Sort2Sequences2Arrays" "End"
}
// }} ""
// {{{ 5 "TRAVEL_LANES_MoveChannelsWithTravelLanes" "Begin"
function TRAVEL_LANES_MoveChannelsWithTravelLanes( device & ML_STAR, sequence i_seq_TargetSequence, variable i_flt_XOffsetFromOrigin ) void {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable int_Count;
private variable str_LabID;
private variable bool_SequenceValid;
private variable str_PosID;
private variable flt_X_Origin;
private variable flt_NotUsed;
private variable flt_StartLocation;
// {{ 5 "TRAVEL_LANES_MoveChannelsWithTravelLanes" "InitLocals"
// }} ""
// {{ 2404 1 0 "bf4ddb1c_a293_42e0_95cb90c8ac169433" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2405 1 0 "8b3fdca2_48dd_4f8d_b3fcc426305a3adf" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 2407 1 0 "cb6c3374_d1e9_43b5_ab3186ca0a13739a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 2408 1 0 "135389ad_e810_4148_a38ce5a5ca2e83c2" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 2409 1 0 "534e71ac_abe8_4cda_8d3902f667e84e25" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 2410 1 0 "7f2d5c0e_9626_4b23_882e36bcee38d551" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 2411 1 0 "72d489fc_e0b4_401b_b4543e4447d3ca9b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 2413 1 0 "bf4ddb1c_a293_42e0_95cb90c8ac169433" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 2414 1 0 "244b25ab_abad_47da_996e66c237b1e4ed" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 2415 1 0 "ce476cc4_c4fd_47b5_bd2a0ce616ead4f8" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2416 1 0 "e563f5ea_8350_48f5_ae3cb5aab6d56d1e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 2418 1 0 "846cb307_b45a_48a4_94bd8810d0c38cb8" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bool_SequenceValid = _GetSequencePosition(ML_STAR, i_seq_TargetSequence, str_LabID, str_PosID);
// }} ""
// {{ 2419 1 0 "522f5b02_0ee4_459d_b6abf77178cff1b3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bool_SequenceValid == 0)
{
// }} ""
// {{{ 2420 1 0 "7111678b_e5c1_4221_86a413021a8f1cce" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_FunctionError(strFunctionName, Translate("No more sequence positions!"));
// }} ""
// {{ 2421 1 0 "522f5b02_0ee4_459d_b6abf77178cff1b3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2422 1 0 "ce476cc4_c4fd_47b5_bd2a0ce616ead4f8" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2423 1 0 "5eda256a_fe0b_4c9a_a86410c4f04ef44a" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 2424 1 0 "4dcee46f_a67b_4079_b61a3c78b9cd2b4e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TRAVEL_LANES::MoveChannelsToTravelLanes(ML_STAR);
// }} ""
// {{ 2425 1 0 "4d993f30_bac7_4c58_972ff3b143ad2798" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 2426 1 0 "7fe0857b_60e3_4b68_84c444a5ee8eee09" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetLabwareOrigin(ML_STAR, str_LabID, flt_X_Origin, flt_NotUsed, flt_NotUsed);
// }} ""
// {{ 2427 1 0 "460c6ecc_6329_49ea_86f3ba493489b927" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_StartLocation = flt_X_Origin + i_flt_XOffsetFromOrigin;
// }} ""
// {{ 2428 1 0 "b45e1913_9e87_421a_be30448ebec5c7af" "ML_STAR:{81DA4252-3BA9-11d4-AE21-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._81DA4252_3BA9_11d4_AE21_0004ACB1DCB2("b45e1913_9e87_421a_be30448ebec5c7af"); // MoveToPosition
}
// }} ""
// {{ 2429 1 0 "695c426f_0f33_4815_9d39270592f5495f" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 2430 1 0 "efde072d_df7c_4c3b_a284df36d20057d8" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TRAVEL_LANES::MoveChannelsToSequencePosition(ML_STAR, i_seq_TargetSequence);
// }} ""
// {{ 2431 1 0 "d0057c50_76b8_4593_8b601f1a3eecabce" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 2433 1 0 "d0057c50_76b8_4593_8b601f1a3eecabce" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "TRAVEL_LANES_MoveChannelsWithTravelLanes" "End"
}
// }} ""
// {{{ 5 "_FunctionError" "Begin"
private function _FunctionError( variable i_str_FunctionName, variable i_str_ErrorDescription ) void {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable str_ErrorDescription;
private variable strFunctionName;
private variable int_Count;
// {{ 5 "_FunctionError" "InitLocals"
// }} ""
// {{{ 2498 1 0 "4f1f4204_fa0f_4836_852c13ab74fd4ac3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(i_str_FunctionName, Translate(":"));
// }} ""
// {{ 2499 1 0 "ddcaeb51_ff64_4582_9ad14fc284d8b9ab" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 2500 1 0 "fec2f6d1_c945_4b45_b892b44989105008" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(i_str_FunctionName);
// }} ""
// {{ 2501 1 0 "dc668a2e_0ee3_46fe_bd3a121e591187b0" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 2502 1 0 "5d098416_aa31_4411_95a586acfa8fbe76" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName = StrMid(i_str_FunctionName, int_Count, int_CutNum);
// }} ""
// {{{ 2503 1 0 "55e7b209_1529_4065_b2c49b584d33a85b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_ErrorDescription = StrConcat8(strFunctionName, Translate("\n\n"), i_str_ErrorDescription, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{{ 2504 1 0 "e94b7eb2_e816_409a_a59584104b658f96" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, str_ErrorDescription);
// }} ""
// {{{ 5 "_FunctionError" "End"
}
// }} ""
// {{{ 5 "_GetSequencePosition" "Begin"
private function _GetSequencePosition( device & Instrument, sequence i_seq_LabwareSequence, variable & o_str_LabID, variable & o_str_PosID ) variable {
// }} ""
private variable bool_SequenceValid;
// {{ 5 "_GetSequencePosition" "InitLocals"
o_str_LabID = 0;
o_str_PosID = 0;
// }} ""
// {{ 2506 1 0 "c09074ad_c581_4c0c_8a7417467584b19d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bool_SequenceValid = 1;
// }} ""
// {{ 2507 1 0 "df0ca6e0_acf2_4736_9dd18e05e4fb2a9a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_str_LabID = Translate("");
// }} ""
// {{ 2508 1 0 "84858757_be4b_480e_84e134f939fbe72f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_str_PosID = Translate("");
// }} ""
// {{ 2509 1 0 "3864929d_a041_4ba5_bbc35adda5dc5f4c" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
onerror goto errLabel_8D69442271644f4385C6843541353BFB ;
err.Clear();
// }} ""
// {{{ 2510 1 0 "ae3ca308_a91e_4be0_9e564f41095d9f36" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_str_LabID = SeqGetLabwareId(i_seq_LabwareSequence);
// }} ""
// {{{ 2511 1 0 "afa15363_acb6_4c59_a0e2ed6f1c8a0601" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_str_PosID = SeqGetPositionId(i_seq_LabwareSequence);
// }} ""
// {{ 2512 1 0 "a7ed179b_13c8_45d4_95ed96b0908b2578" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (o_str_LabID == "")
{
// }} ""
// {{ 2513 1 0 "3df2ed9f_4e16_4ce3_ad1f6062e09f4a74" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bool_SequenceValid = 0;
// }} ""
// {{ 2514 1 0 "a7ed179b_13c8_45d4_95ed96b0908b2578" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2515 1 0 "3864929d_a041_4ba5_bbc35adda5dc5f4c" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
errLabel_8D69442271644f4385C6843541353BFB : {}
onerror goto 0;
if (err.GetId() != 0)   /* skip handler if no error */
{
// }} ""
// {{ 2516 1 0 "945969a2_4636_47a4_b9125299d6e4abc9" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bool_SequenceValid = 0;
// }} ""
// {{ 2517 1 0 "3864929d_a041_4ba5_bbc35adda5dc5f4c" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
}   /* end if from skip handler if no error */
// }} ""
// {{{ 2518 1 0 "36ed66b9_0ea5_4647_b95f80410a552359" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (bool_SequenceValid);
// }} ""
// {{{ 5 "_GetSequencePosition" "End"
}
// }} ""
// {{{ 5 "TRAVEL_LANES_MoveChannelsToTravelLanes" "Begin"
function TRAVEL_LANES_MoveChannelsToTravelLanes( device & ML_STAR ) void {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable int_Count;
// {{ 5 "TRAVEL_LANES_MoveChannelsToTravelLanes" "InitLocals"
// }} ""
// {{ 2312 1 0 "e0db3e76_d835_4bb2_ad0889ffdc25b57b" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2313 1 0 "6ad1e181_c756_4697_a33ca88706afc479" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 2315 1 0 "90911ddc_85fd_4e02_91a457567d25f25a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 2316 1 0 "4fdf90bb_3070_4ae1_95d4d699344147ec" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 2317 1 0 "65c33834_8481_4e44_9875bf56bfa0d371" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 2318 1 0 "4515826d_f24e_4d5d_bb01f8974ad8cf0d" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 2319 1 0 "86723a23_a7bb_42cb_b08bc8481468a6d6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 2321 1 0 "e0db3e76_d835_4bb2_ad0889ffdc25b57b" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 2322 1 0 "fa57a0d5_c2a5_43ae_9c80b575198fb356" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 2323 1 0 "c2124bf2_ebf8_47c3_bb8fbe16305cbe80" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 2324 1 0 "37002039_ba32_435c_874f2d9bf6a6a485" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TRAVEL_LANES::MoveChannelsToTravelLanes(ML_STAR);
// }} ""
// {{ 2325 1 0 "f1e8f90f_e461_4c3b_a708bf7718d1afad" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 2327 1 0 "f1e8f90f_e461_4c3b_a708bf7718d1afad" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "TRAVEL_LANES_MoveChannelsToTravelLanes" "End"
}
// }} ""
// {{{ 5 "TRAVEL_LANES_SingleSource_ChannelDisplacement" "Begin"
function TRAVEL_LANES_SingleSource_ChannelDisplacement( device & ML_STAR, variable i_strStepReturn ) void {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable int_Count;
// {{ 5 "TRAVEL_LANES_SingleSource_ChannelDisplacement" "InitLocals"
// }} ""
// {{ 2466 1 0 "476875ee_fa36_450e_bb4cb2a730d0cf9c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2467 1 0 "f9fc1ef3_e820_4e49_8fd1db6249210d16" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 2469 1 0 "1da74f45_397a_40fc_8c95e1a969720e17" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 2470 1 0 "7d1b0598_5932_4d68_ae490495d24e8087" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 2471 1 0 "fdfd19ee_68f6_4512_a3c127016f6ba8c0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 2472 1 0 "53d41a14_1764_4b03_aa895200da844956" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 2473 1 0 "c044d1df_8788_41f5_951c2cd4f700db8c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 2475 1 0 "476875ee_fa36_450e_bb4cb2a730d0cf9c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 2476 1 0 "9bb212d3_a1a4_4dff_904f57a21e2d0bea" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{{ 2477 1 0 "015ece5e_cc9f_42d9_b226bdcb72b6362c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TRAVEL_LANES::MoveUsedChannel(ML_STAR, i_strStepReturn);
// }} ""
// {{ 2478 1 0 "8f12ad1b_a0a6_41bd_a93edfa7b6f59d04" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 2480 1 0 "8f12ad1b_a0a6_41bd_a93edfa7b6f59d04" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "TRAVEL_LANES_SingleSource_ChannelDisplacement" "End"
}
// }} ""
// {{{ 5 "LIQUID_LEVEL_ReturnVolumesFromLiquidLevel" "Begin"
function LIQUID_LEVEL_ReturnVolumesFromLiquidLevel( device & ML_STAR, variable i_str_PipettingReturn, variable i_str_LiquidLevelReturn, variable i_bool_ConvertTouL, variable & o_arr_VolumesMeasured[] ) void {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable int_Count;
private variable int_Total1mLChannels;
private variable int_Channel;
private variable str_LabID;
private variable flt_LiquidHeight;
private variable flt_Volume;
private variable str_PosID;
private variable stringPos;
private sequence seq_Temp;
// {{ 5 "LIQUID_LEVEL_ReturnVolumesFromLiquidLevel" "InitLocals"
o_arr_VolumesMeasured.SetSize( 0);
// }} ""
// {{ 1568 1 0 "5d8c49e2_629a_4c59_b88d2a749c32d7a8" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1569 1 0 "cbc44d4f_8b36_43ca_a4f0b3adf1447e87" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 1571 1 0 "75f68a0a_c74c_4a36_a3bfa8bbfcef67f7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 1572 1 0 "5b84d377_8b6a_497e_a229aa03630c31ba" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 1573 1 0 "ab00b6c1_4fff_4fa5_a25a7f083768d8fb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 1574 1 0 "9314a499_1174_4843_bca848c123586603" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 1575 1 0 "a572640a_36db_42bc_bc9a05dbeb4d55bd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 1577 1 0 "5d8c49e2_629a_4c59_b88d2a749c32d7a8" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1578 1 0 "52da0230_79b5_4df6_b99326e9b3602b5a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 1579 1 0 "12a11a3f_fd76_44b0_9d921440d2b607a8" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1580 1 0 "1a44948e_4f44_485c_8d7df456a77e3671" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1581 1 0 "54365205_3052_4237_bbd700dcb6468e6b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Total1mLChannels = DevGetCfgValueWithKey(ML_STAR, 1);
// }} ""
Trace("     ","Total Channels:  ",int_Total1mLChannels);
// {{ 1583 1 0 "1f759726_990d_4640_a2b30be6fabde8d1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Total1mLChannels == 0)
{
// }} ""
// {{ 1584 1 0 "dacae122_4729_4dea_91efe5147dd3b319" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("=========================================\n\nNO 1mL CHANNELS ARE LOADED ON THE SYSTEM!\n\n========================================="));
// }} ""
// {{ 1585 1 0 "6cc4ec6c_5e1a_46fc_b7168036c1fb3dc7" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 1587 1 0 "6cc4ec6c_5e1a_46fc_b7168036c1fb3dc7" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1588 1 0 "fa31f0f3_a1cd_4f47_9085200eaa4560ac" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 1589 1 0 "1f759726_990d_4640_a2b30be6fabde8d1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1590 1 0 "12a11a3f_fd76_44b0_9d921440d2b607a8" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1591 1 0 "680166e5_7283_4969_8c5f3f950f811c2a" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1592 1 0 "81b5c21d_9c55_4643_b54a7e7762471436" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_VolumesMeasured.SetSize(0);
// }} ""
// {{ 1593 1 0 "0f0a9fec_2e32_493d_a66cd159dfce3ff1" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_Channel = 0; int_Channel < int_Total1mLChannels;)
{
int_Channel = int_Channel + 1;
// }} ""
// {{ 1594 1 0 "daaf08ce_d656_452b_9624b3368cc8947a" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_VolumesMeasured.AddAsLast(0.0);
// }} ""
// {{ 1595 1 0 "0f0a9fec_2e32_493d_a66cd159dfce3ff1" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1596 1 0 "b09bca09_6e86_4012_bbcddb8d9f32c557" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_Channel = 0; int_Channel < int_Total1mLChannels;)
{
int_Channel = int_Channel + 1;
// }} ""
// {{{ 1597 1 0 "6e8bb6a1_7b51_4acf_84b66aa2eed16a33" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
stringPos = StepReturn::GetPositionFromNum(int_Channel, i_str_PipettingReturn);
// }} ""
// {{{ 1598 1 0 "939d1013_4451_46e0_a7ff6c0d7790ffee" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = StepReturn::GetLabwareId(stringPos, i_str_PipettingReturn);
// }} ""
// {{{ 1599 1 0 "216f5377_b1aa_4d9a_acee856aea25997c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_PosID = StepReturn::GetPositionId(stringPos, i_str_PipettingReturn);
// }} ""
// {{{ 1600 1 0 "2e21edef_ae0f_4f27_96ca6114482c47ec" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(str_LabID);
// }} ""
// {{ 1601 1 0 "98f03a7b_50df_4ebc_abf24b16fd7e24f6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Length > 0)
{
// }} ""
// {{{ 1602 1 0 "1e216a92_f4bf_49c4_8afd0988f3ee3d80" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(seq_Temp);
// }} ""
// {{{ 1603 1 0 "bf849a0d_a41c_4282_85e73f7d228c56a2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(seq_Temp, str_LabID, str_PosID);
// }} ""
// {{ 1604 1 0 "abe74597_41a7_49cc_b143085a9a520ddb" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
seq_Temp.SetCurrentPosition(1);
// }} ""
// {{{ 1605 1 0 "7ae82dcc_c57a_4317_a487e3c66604493d" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
LIQUID_LEVEL_CHECK::FindLiquidHeight(ML_STAR, i_str_LiquidLevelReturn, seq_Temp, int_Channel, flt_LiquidHeight);
// }} ""
// {{{ 1606 1 0 "8f717acb_f81d_4da8_a31a4d29cae3cdd2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
flt_Volume = DevComputeContainerVolume2(ML_STAR, str_LabID, str_PosID, flt_LiquidHeight, 0, 0);
// }} ""
// {{ 1607 1 0 "d1862b21_4c77_40e1_985d370a475950c6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_bool_ConvertTouL == 1)
{
// }} ""
// {{ 1608 1 0 "b955d6e7_02da_4438_96c53a1ee8389a62" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_Volume = flt_Volume * 1000.0;
// }} ""
Trace("**************",str_LabID," - ",str_PosID,": ",flt_Volume," uL");
// {{ 1610 1 0 "d1862b21_4c77_40e1_985d370a475950c6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
Trace("**************",str_LabID," - ",str_PosID,": ",flt_Volume," mL");
// {{ 1612 1 0 "d1862b21_4c77_40e1_985d370a475950c6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1613 1 0 "7d722da5_d4f3_4c45_ba9389c2a9dc9b5c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (flt_Volume > 0.0)
{
// }} ""
// {{ 1614 1 0 "ffeaa817_4b9f_41e3_9fd9e5e13635ba19" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_VolumesMeasured.SetAt(int_Channel-1, flt_Volume);
// }} ""
// {{ 1615 1 0 "7d722da5_d4f3_4c45_ba9389c2a9dc9b5c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1616 1 0 "98f03a7b_50df_4ebc_abf24b16fd7e24f6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1617 1 0 "b09bca09_6e86_4012_bbcddb8d9f32c557" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 1618 1 0 "0bf5181d_f091_459e_bc0a80fe7c169a7e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("Volumes detected"), o_arr_VolumesMeasured);
// }} ""
// {{ 1619 1 0 "6656d704_cffc_48a5_8c99df1ffb9b0257" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 1621 1 0 "6656d704_cffc_48a5_8c99df1ffb9b0257" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "LIQUID_LEVEL_ReturnVolumesFromLiquidLevel" "End"
}
// }} ""
// {{{ 5 "TRAVEL_LANES_MoveChannelsToTravelLanes_5mL" "Begin"
function TRAVEL_LANES_MoveChannelsToTravelLanes_5mL( device & ML_STAR ) void {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable int_Count;
// {{ 5 "TRAVEL_LANES_MoveChannelsToTravelLanes_5mL" "InitLocals"
// }} ""
// {{ 2329 1 0 "1c8e731f_ed6c_4d02_8231f4883d0440ac" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2330 1 0 "c4613bbc_4081_4202_abf2d0b0034d0758" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 2332 1 0 "7517399c_e5da_42a7_a8330da301655d63" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 2333 1 0 "25e6c906_df83_4a00_911c57aad5cd4a3a" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 2334 1 0 "16b67053_449a_42c2_b4decdd19d4bdebd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 2335 1 0 "9c9b411c_ccba_4733_877ccd0935e6a7b5" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 2336 1 0 "dee8e34b_a267_4af1_b67f5f2176581804" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 2338 1 0 "1c8e731f_ed6c_4d02_8231f4883d0440ac" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 2339 1 0 "dd1120aa_95ca_4c9a_b547a902506c654f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 2340 1 0 "5d72ba88_a305_4397_87ef4de30d18d072" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 2341 1 0 "38638aa3_173f_4344_a850d5a6673d0da8" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TRAVEL_LANES::MoveChannelsToTravelLanes_5mL(ML_STAR);
// }} ""
// {{ 2342 1 0 "b1971a97_28f6_41d8_85d3a857e77d8be7" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 2344 1 0 "b1971a97_28f6_41d8_85d3a857e77d8be7" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "TRAVEL_LANES_MoveChannelsToTravelLanes_5mL" "End"
}
// }} ""
// {{{ 5 "TRAVEL_LANES_MoveChannelsWithTravelLanes_5mL" "Begin"
function TRAVEL_LANES_MoveChannelsWithTravelLanes_5mL( device & ML_STAR, sequence i_seq_TargetSequence, variable i_flt_XOffsetFromOrigin ) void {
// }} ""
private variable flt_X_Origin;
private variable int_CutNum;
private variable int_Length;
private variable flt_NotUsed;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable str_LabID;
private variable int_Count;
private variable bool_SequenceValid;
private variable str_PosID;
private variable flt_StartLocation;
// {{ 5 "TRAVEL_LANES_MoveChannelsWithTravelLanes_5mL" "InitLocals"
// }} ""
// {{ 2435 1 0 "9905122d_99c1_446d_9555d07406841f84" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2436 1 0 "ec87f470_b2d3_40ef_be897bea3a875f69" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 2438 1 0 "8cd1b679_3401_4aba_a74dcd4cdedf376e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 2439 1 0 "ffd59b8a_75b7_44d3_8b83d2fa71f771e4" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 2440 1 0 "b4a728cc_24ad_4f4c_aec09a88cd7bdd9b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 2441 1 0 "2fdea5c8_f1d9_472e_b3c4b5d6d6e8aba5" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 2442 1 0 "4ff3d8b8_94d9_4e51_9644eec627a35a09" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 2444 1 0 "9905122d_99c1_446d_9555d07406841f84" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 2445 1 0 "26d924f0_a37c_487f_9d70d384f916a72c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 2446 1 0 "85727115_88b5_449f_ac6be1b0ba31e1a9" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2447 1 0 "a3b0ca0e_7f8c_4fd2_b2736a6bd820f5ba" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 2449 1 0 "bda87633_a7a2_4979_b211dfe85ebcaa40" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bool_SequenceValid = _GetSequencePosition(ML_STAR, i_seq_TargetSequence, str_LabID, str_PosID);
// }} ""
// {{ 2450 1 0 "571b0649_4846_448e_88b38b07121018c1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bool_SequenceValid == 0)
{
// }} ""
// {{{ 2451 1 0 "7b216f99_31b2_4caf_8461fcf4a4642e4c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_FunctionError(strFunctionName, Translate("No more sequence positions!"));
// }} ""
// {{ 2452 1 0 "571b0649_4846_448e_88b38b07121018c1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2453 1 0 "85727115_88b5_449f_ac6be1b0ba31e1a9" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2454 1 0 "146e542c_ac45_49f0_932761aa8ff7a220" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 2455 1 0 "73ff85cf_c297_4ed3_bae226a5583cf9e5" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TRAVEL_LANES::MoveChannelsToTravelLanes_5mL(ML_STAR);
// }} ""
// {{ 2456 1 0 "82a943b7_0178_419c_91550ef4da7540a1" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 2457 1 0 "42052c9a_06f0_4335_93e710bb133dceaa" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetLabwareOrigin(ML_STAR, str_LabID, flt_X_Origin, flt_NotUsed, flt_NotUsed);
// }} ""
// {{ 2458 1 0 "48a43e0f_432c_4306_afd2e46a99850f01" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_StartLocation = flt_X_Origin + i_flt_XOffsetFromOrigin;
// }} ""
// {{ 2459 1 0 "9ae5fdd2_4548_4ff7_adea4c534f02c9c3" "ML_STAR:{55AA8CFA-FB6C-4691-8C8C-8D410E2123FD}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._55AA8CFA_FB6C_4691_8C8C_8D410E2123FD("9ae5fdd2_4548_4ff7_adea4c534f02c9c3"); // XLMoveToPosition
}
// }} ""
// {{ 2460 1 0 "13ea8db0_fa95_4b82_8b41a2065be7bf9e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 2461 1 0 "c8dba057_71fc_4fa7_b061557a278aa4d6" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TRAVEL_LANES::MoveChannelsToSequencePosition_5mL(ML_STAR, i_seq_TargetSequence);
// }} ""
// {{ 2462 1 0 "cb02c00d_dd07_47d6_965b326a407f5a84" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 2464 1 0 "cb02c00d_dd07_47d6_965b326a407f5a84" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "TRAVEL_LANES_MoveChannelsWithTravelLanes_5mL" "End"
}
// }} ""
// {{{ 5 "TRAVEL_LANES_SingleSource_ChannelDisplacement_5mL" "Begin"
function TRAVEL_LANES_SingleSource_ChannelDisplacement_5mL( device & ML_STAR, variable i_strStepReturn ) void {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable int_Count;
// {{ 5 "TRAVEL_LANES_SingleSource_ChannelDisplacement_5mL" "InitLocals"
// }} ""
// {{ 2482 1 0 "1997dfed_338e_4835_be62e8df12d601c6" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2483 1 0 "c9f2d50a_7c05_46d6_a7c26cded779b080" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 2485 1 0 "55a3887f_f5cf_48e3_adce2126b073ea81" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 2486 1 0 "12b61462_102f_43d0_819b1dfa57a945a9" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 2487 1 0 "076fd5bb_955c_4921_b710b0dc3598d6ec" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 2488 1 0 "ce89aaa2_1f27_40a5_a9857a033e85c453" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 2489 1 0 "ee4b7088_740f_403b_b7be623f5deb6661" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 2491 1 0 "1997dfed_338e_4835_be62e8df12d601c6" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 2492 1 0 "ea353674_7f93_41f1_86efcc100af8bea9" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{{ 2493 1 0 "5bec3981_8de0_41c8_bed0ec0b874d5d92" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TRAVEL_LANES::MoveUsedChannel_5mL(ML_STAR, i_strStepReturn);
// }} ""
// {{ 2494 1 0 "fb533517_b192_471c_aed38e1461e19086" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 2496 1 0 "fb533517_b192_471c_aed38e1461e19086" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "TRAVEL_LANES_SingleSource_ChannelDisplacement_5mL" "End"
}
// }} ""
// {{{ 5 "QUERY_GetChannelPosition" "Begin"
function QUERY_GetChannelPosition( device & ML_STAR, variable i_int_ChNumber, variable & o_flt_XCoord, variable & o_flt_YCoord, variable & o_flt_ZCoord ) void {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable int_Count;
private variable o_flt_Zcoord;
// {{ 5 "QUERY_GetChannelPosition" "InitLocals"
o_flt_XCoord = 0;
o_flt_YCoord = 0;
o_flt_ZCoord = 0;
// }} ""
// {{ 2026 1 0 "72722324_df01_4fbb_9a5e7339234ec121" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2027 1 0 "0b965eb8_11a4_4c20_893fdf46498b8af7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 2029 1 0 "f5c61f92_e288_4116_8ee6d09170c0cbe4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 2030 1 0 "6a83cbd7_53dc_4f36_ae0f9c25c6b8a171" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 2031 1 0 "4880a01f_c88b_45b9_83e1813f90f3bd4a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 2032 1 0 "17622dc7_c425_4d61_b6cf115767f1d68b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 2033 1 0 "d68915e2_5f30_4561_91c3a99d982f106c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 2035 1 0 "72722324_df01_4fbb_9a5e7339234ec121" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 2036 1 0 "9c406e26_ffe0_4139_94891bcb9ada6184" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 2037 1 0 "39743ecc_4198_4cd6_b1e1a4c277d4698e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (G_FW_PIP_COM_InstrumentType <= 2)
{
// }} ""
// {{{ 2038 1 0 "db6dc089_6dd9_4a2d_b2985a4001fc42f0" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
STAR_CHANNEL_MOVEMENT_TOOLS::Get_Channel_Position_1mL(ML_STAR, i_int_ChNumber, o_flt_XCoord, o_flt_YCoord, o_flt_ZCoord);
// }} ""
// {{ 2039 1 0 "39743ecc_4198_4cd6_b1e1a4c277d4698e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 2040 1 0 "e8f3d2d8_77e1_46ac_806cc1696e8e5cbb" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VANTAGE_CHANNEL_MOVEMENT_TOOLS::Get_Channel_Position(ML_STAR, i_int_ChNumber, o_flt_XCoord, o_flt_YCoord, o_flt_Zcoord);
// }} ""
// {{ 2041 1 0 "39743ecc_4198_4cd6_b1e1a4c277d4698e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2042 1 0 "9b16f8f8_d8d4_46ef_850b157590032a00" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 2044 1 0 "9b16f8f8_d8d4_46ef_850b157590032a00" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "QUERY_GetChannelPosition" "End"
}
// }} ""
// {{{ 5 "QUERY_GetChannelPosition_5mL" "Begin"
function QUERY_GetChannelPosition_5mL( device & ML_STAR, variable i_int_ChNumber, variable & o_flt_XCoord, variable & o_flt_YCoord, variable & o_flt_ZCoord ) void {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable int_Count;
// {{ 5 "QUERY_GetChannelPosition_5mL" "InitLocals"
o_flt_XCoord = 0;
o_flt_YCoord = 0;
o_flt_ZCoord = 0;
// }} ""
// {{ 2046 1 0 "9d392352_ad2d_49d5_a32eca074e3c5bbe" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2047 1 0 "6601c893_583f_4d2c_a6ed455f740d4578" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 2049 1 0 "34fbc5df_b10b_409e_adb51397dce46d2b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 2050 1 0 "3cd1c59d_93e9_4fcc_882398b4eb45b1a6" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 2051 1 0 "a804ed53_86f5_4d56_8a9d2574891b5f41" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 2052 1 0 "e397751f_950f_4261_9fb1bcc92b88ea01" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 2053 1 0 "78f88e58_aff6_443a_b8444f2adfc581ad" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 2055 1 0 "9d392352_ad2d_49d5_a32eca074e3c5bbe" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 2056 1 0 "e42ee1ff_99ed_4602_8cb912728fc9458e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 2057 1 0 "2fca23b1_5599_4958_9b64c4c9688a55db" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (G_FW_PIP_COM_InstrumentType <= 2)
{
// }} ""
// {{{ 2058 1 0 "4be6a263_3ac2_4603_9a5ea322df818d22" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
STAR_CHANNEL_MOVEMENT_TOOLS::Get_Channel_Position_5mL(ML_STAR, i_int_ChNumber, o_flt_XCoord, o_flt_YCoord, o_flt_ZCoord);
// }} ""
// {{ 2059 1 0 "2fca23b1_5599_4958_9b64c4c9688a55db" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 2060 1 0 "d5b846ad_3bce_44a7_b4f594aecac73574" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VANTAGE_CHANNEL_MOVEMENT_TOOLS::Get_Channel_Position_5mL(ML_STAR, i_int_ChNumber, o_flt_XCoord, o_flt_YCoord, o_flt_ZCoord);
// }} ""
// {{ 2061 1 0 "2fca23b1_5599_4958_9b64c4c9688a55db" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2062 1 0 "50448636_540d_4bef_9cda906a0064e630" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 2064 1 0 "50448636_540d_4bef_9cda906a0064e630" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "QUERY_GetChannelPosition_5mL" "End"
}
// }} ""
// {{{ 5 "QUERY_GetTipVolume" "Begin"
function QUERY_GetTipVolume( device & ML_STAR, variable i_int_ChNumber, variable & o_flt_MaxVolume, variable & o_flt_CurrentChannelVolume ) void {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable int_Count;
// {{ 5 "QUERY_GetTipVolume" "InitLocals"
o_flt_MaxVolume = 0;
o_flt_CurrentChannelVolume = 0;
// }} ""
// {{ 2106 1 0 "167f8bc4_aa65_47d9_a33ffc5d74d1bc6f" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2107 1 0 "82abed3e_d8be_41e6_9e31ee9f13366808" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 2109 1 0 "ea9354c1_880a_4aad_81decef55c0482d3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 2110 1 0 "35675577_b9d1_43a4_86a75c1300262073" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 2111 1 0 "ce832223_d451_4f9d_876d78a508733246" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 2112 1 0 "ad5f5f94_3458_4970_8d35c1c2b701603c" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 2113 1 0 "0c974540_97c9_43f1_bf81536ceed66cbd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 2115 1 0 "167f8bc4_aa65_47d9_a33ffc5d74d1bc6f" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 2116 1 0 "5abc886b_3cc0_4b9e_b621985fbd5d8060" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 2117 1 0 "19b4a863_3ca9_43ff_b614c248949e5c97" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (G_FW_PIP_COM_InstrumentType <= 2)
{
// }} ""
// {{{ 2118 1 0 "521be414_3797_4e9e_aa7f765da0005b1f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
STAR_CHANNEL_MOVEMENT_TOOLS::Get_Tip_Volume_1mL(ML_STAR, i_int_ChNumber, o_flt_MaxVolume, o_flt_CurrentChannelVolume);
// }} ""
// {{ 2119 1 0 "19b4a863_3ca9_43ff_b614c248949e5c97" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 2120 1 0 "ded09f28_1c06_489d_a2aadf24f98c71e0" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VANTAGE_CHANNEL_MOVEMENT_TOOLS::Get_Tip_Volume_1mL(ML_STAR, i_int_ChNumber, o_flt_MaxVolume, o_flt_CurrentChannelVolume);
// }} ""
// {{ 2121 1 0 "19b4a863_3ca9_43ff_b614c248949e5c97" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2122 1 0 "a83a3d7b_7531_4460_8d85a0741683bc78" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 2124 1 0 "a83a3d7b_7531_4460_8d85a0741683bc78" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "QUERY_GetTipVolume" "End"
}
// }} ""
// {{{ 5 "QUERY_GetTipVolume_5mL" "Begin"
function QUERY_GetTipVolume_5mL( device & ML_STAR, variable i_int_ChNumber, variable & o_flt_MaxVolume, variable & o_flt_CurrentChannelVolume ) void {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable int_Count;
// {{ 5 "QUERY_GetTipVolume_5mL" "InitLocals"
o_flt_MaxVolume = 0;
o_flt_CurrentChannelVolume = 0;
// }} ""
// {{ 2126 1 0 "7c3933d3_8813_4c06_9c222e0bf4b56ca9" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2127 1 0 "d0d259b1_0e07_40a1_b1b6a17d828a740a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 2129 1 0 "9cf35723_3f7b_4321_a70ae43db4d261e8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 2130 1 0 "e18bdcd2_90c1_499d_8a2bd34d185e3309" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 2131 1 0 "4c44995b_b38c_45de_951a4d3e42842da3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 2132 1 0 "6242026b_115d_47d8_8429709fcf63d316" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 2133 1 0 "b2249dad_81bc_4eae_a9a10603f549d4fd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 2135 1 0 "7c3933d3_8813_4c06_9c222e0bf4b56ca9" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 2136 1 0 "e28823ee_054e_4d64_91c089ee2861cff0" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 2137 1 0 "cc306e8c_93b3_4fd4_aae27ea8dd3d59a1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (G_FW_PIP_COM_InstrumentType <= 2)
{
// }} ""
// {{{ 2138 1 0 "85b4a486_d7c1_47c1_9f9100fab1a2ea4f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
STAR_CHANNEL_MOVEMENT_TOOLS::Get_Tip_Volume_5mL(ML_STAR, i_int_ChNumber, o_flt_MaxVolume, o_flt_CurrentChannelVolume);
// }} ""
// {{ 2139 1 0 "cc306e8c_93b3_4fd4_aae27ea8dd3d59a1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 2140 1 0 "47645d5b_9349_4013_809523db83d991bb" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VANTAGE_CHANNEL_MOVEMENT_TOOLS::Get_Tip_Volume_5mL(ML_STAR, i_int_ChNumber, o_flt_MaxVolume, o_flt_CurrentChannelVolume);
// }} ""
// {{ 2141 1 0 "cc306e8c_93b3_4fd4_aae27ea8dd3d59a1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2142 1 0 "dd62cd02_9b61_4e82_a9ed271918b2d709" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 2144 1 0 "dd62cd02_9b61_4e82_a9ed271918b2d709" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "QUERY_GetTipVolume_5mL" "End"
}
// }} ""
// {{{ 5 "QUERY_GetTipPresentState" "Begin"
function QUERY_GetTipPresentState( device & ML_STAR, variable i_int_ChNumber, variable & o_bln_TipPresent ) void {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable int_Count;
// {{ 5 "QUERY_GetTipPresentState" "InitLocals"
o_bln_TipPresent = 0;
// }} ""
// {{ 2066 1 0 "ff9e33bf_39d3_4598_b730452b6d07c356" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2067 1 0 "0583602a_a0d5_4fb8_bb6b34ff0dd823f1" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 2069 1 0 "abef674f_42d8_427d_8c41e7594334fa1a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 2070 1 0 "8e15d31b_c925_48a2_8396d368b51499a1" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 2071 1 0 "5fcdc589_ea69_48a0_9275de70f65bb898" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 2072 1 0 "d018fdcc_bbc4_4db5_b2635eb886d551b1" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 2073 1 0 "ba2f6192_ef79_4aac_8eb97cdd47565d2b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 2075 1 0 "ff9e33bf_39d3_4598_b730452b6d07c356" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 2076 1 0 "94926528_e639_465a_a1ae149ab4ef6e7a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 2077 1 0 "9ecf898c_4cae_461c_a5b9fe76a04c6386" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (G_FW_PIP_COM_InstrumentType <= 2)
{
// }} ""
// {{{ 2078 1 0 "53d2ad4b_007d_4ffa_94ff968b0af18a3a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
STAR_CHANNEL_MOVEMENT_TOOLS::Get_Tip_Present_1mL(ML_STAR, i_int_ChNumber, o_bln_TipPresent);
// }} ""
// {{ 2079 1 0 "9ecf898c_4cae_461c_a5b9fe76a04c6386" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 2080 1 0 "1a009cee_4e14_4779_aa70319c96c07857" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VANTAGE_CHANNEL_MOVEMENT_TOOLS::Get_Tip_Present_1mL(ML_STAR, i_int_ChNumber, o_bln_TipPresent);
// }} ""
// {{ 2081 1 0 "9ecf898c_4cae_461c_a5b9fe76a04c6386" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2082 1 0 "d31cced9_2755_4393_ae1f3fe391c351d5" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 2084 1 0 "d31cced9_2755_4393_ae1f3fe391c351d5" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "QUERY_GetTipPresentState" "End"
}
// }} ""
// {{{ 5 "QUERY_GetTipPresentState_5mL" "Begin"
function QUERY_GetTipPresentState_5mL( device & ML_STAR, variable i_int_ChNumber, variable & o_bln_TipPresent ) void {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable int_Count;
// {{ 5 "QUERY_GetTipPresentState_5mL" "InitLocals"
o_bln_TipPresent = 0;
// }} ""
// {{ 2086 1 0 "5aaeea72_c66c_4521_81c54f3c24f9557b" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2087 1 0 "726cb224_3b62_4426_b3353fa676973475" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 2089 1 0 "b38fe88f_ee59_47d0_ae7c15fd490355a1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 2090 1 0 "6f80ee81_0321_4d29_b47389b9ffd804cc" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 2091 1 0 "f15087f3_a0bb_4438_8648a44235a97fe7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 2092 1 0 "ee3a6cd3_fdf7_4c2f_ab89d2b2f5da041b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 2093 1 0 "d8d509e4_aa2e_44f5_a812f44a6a71d524" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 2095 1 0 "5aaeea72_c66c_4521_81c54f3c24f9557b" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 2096 1 0 "b9c5bfde_60b1_4d54_a990274421304bb1" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 2097 1 0 "d01f9470_bd09_4471_b675eaab2085ff93" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (G_FW_PIP_COM_InstrumentType <= 2)
{
// }} ""
// {{{ 2098 1 0 "2f88c98d_8497_4c32_8c559c9b35c656bf" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
STAR_CHANNEL_MOVEMENT_TOOLS::Get_Tip_Present_5mL(ML_STAR, i_int_ChNumber, o_bln_TipPresent);
// }} ""
// {{ 2099 1 0 "d01f9470_bd09_4471_b675eaab2085ff93" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 2100 1 0 "61b4e2ab_01c1_448e_a51800745ae8b00e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VANTAGE_CHANNEL_MOVEMENT_TOOLS::Get_Tip_Present_5mL(ML_STAR, i_int_ChNumber, o_bln_TipPresent);
// }} ""
// {{ 2101 1 0 "d01f9470_bd09_4471_b675eaab2085ff93" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2102 1 0 "3e47cfd4_823d_4c65_8486595bfc94109c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 2104 1 0 "3e47cfd4_823d_4c65_8486595bfc94109c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "QUERY_GetTipPresentState_5mL" "End"
}
// }} ""
// {{{ 5 "MOVE_InitDispenseDrive" "Begin"
function MOVE_InitDispenseDrive( device & ML_STAR, variable i_int_ChNumber ) void {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable int_Count;
// {{ 5 "MOVE_InitDispenseDrive" "InitLocals"
// }} ""
// {{ 1910 1 0 "8442783a_6ff8_4a68_82caecc5258e13da" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1911 1 0 "7afce8ff_cebb_4cb8_b85690e40cc610b7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 1913 1 0 "14d6bd6e_f5a8_42b9_b9db726248c00885" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 1914 1 0 "2449c0fc_6551_4729_bcf198b2c321999e" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 1915 1 0 "f73fc0f3_ccd7_4687_992990225d0215e1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 1916 1 0 "aeb9d229_2268_4e49_8cece5210cf66038" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 1917 1 0 "e6db9cba_5fe8_448b_a83c6b5c15e78b4b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 1919 1 0 "8442783a_6ff8_4a68_82caecc5258e13da" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1920 1 0 "1fff5c50_a7a4_45df_be58f4e7b317c6ee" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 1921 1 0 "0b014b11_c777_420a_95ccf6f25e10eb99" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (G_FW_PIP_COM_InstrumentType <= 2)
{
// }} ""
// {{{ 1922 1 0 "71b54651_31cc_4217_853ca69d71bcca71" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
STAR_CHANNEL_MOVEMENT_TOOLS::InitializeDispenseDrive_1mL(ML_STAR, i_int_ChNumber);
// }} ""
// {{ 1923 1 0 "0b014b11_c777_420a_95ccf6f25e10eb99" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 1924 1 0 "d5c2858d_f903_46c2_ab48b5689876efe5" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VANTAGE_CHANNEL_MOVEMENT_TOOLS::InitializeDispenseDrive_1mL(ML_STAR, i_int_ChNumber);
// }} ""
// {{ 1925 1 0 "0b014b11_c777_420a_95ccf6f25e10eb99" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1926 1 0 "c4065a1f_4a90_415c_8a0a5ab462579bf6" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 1928 1 0 "c4065a1f_4a90_415c_8a0a5ab462579bf6" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "MOVE_InitDispenseDrive" "End"
}
// }} ""
// {{{ 5 "MOVE_InitDispenseDrive_5mL" "Begin"
function MOVE_InitDispenseDrive_5mL( device & ML_STAR, variable i_int_ChNumber ) void {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable int_Count;
// {{ 5 "MOVE_InitDispenseDrive_5mL" "InitLocals"
// }} ""
// {{ 1930 1 0 "3a063988_5943_4537_bd2696022c61173d" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1931 1 0 "44b8134b_fc67_48e7_a1d37186f6e1e83c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 1933 1 0 "4fc7d04c_b70c_4e2f_9716911916acb3d1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 1934 1 0 "ef27ae45_e951_487e_ba4139a3b7eb6b87" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 1935 1 0 "5546710b_1432_4953_be755a9d042c48ac" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 1936 1 0 "139b58fb_f23c_4264_b960db65afd927d2" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 1937 1 0 "253636b2_1205_49fa_9d6e09209ee0eb2d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 1939 1 0 "3a063988_5943_4537_bd2696022c61173d" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1940 1 0 "6a23f7e8_6a30_48d4_918f0094b1b4a8dd" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 1941 1 0 "50012eb3_7934_431c_9fe42213f00e4e4d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (G_FW_PIP_COM_InstrumentType <= 2)
{
// }} ""
// {{{ 1942 1 0 "d44f4c47_6df3_4aba_9520dc759ad3dbf1" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
STAR_CHANNEL_MOVEMENT_TOOLS::InitializeDispenseDrive_5mL(ML_STAR, i_int_ChNumber);
// }} ""
// {{ 1943 1 0 "50012eb3_7934_431c_9fe42213f00e4e4d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 1944 1 0 "ef2a9dd3_6dea_471b_9b417cae0e1f6c4a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VANTAGE_CHANNEL_MOVEMENT_TOOLS::InitializeDispenseDrive_5mL(ML_STAR, i_int_ChNumber);
// }} ""
// {{ 1945 1 0 "50012eb3_7934_431c_9fe42213f00e4e4d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1946 1 0 "7c2ddbe4_1ebb_4c3b_b5e3fb8cfeb31bc6" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 1948 1 0 "7c2ddbe4_1ebb_4c3b_b5e3fb8cfeb31bc6" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "MOVE_InitDispenseDrive_5mL" "End"
}
// }} ""
// {{{ 5 "MOVE_CheckPlateWithTwoChannels" "Begin"
function MOVE_CheckPlateWithTwoChannels( device & ML_STAR, variable i_int_FrontMostChannel, sequence i_seq_PlateToCheck, variable i_flt_TapWidth ) variable {
// }} ""
private variable ret_PlateExists;
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable int_Count;
private variable num_1mL_channels;
private variable str_LabID;
private variable int_BackChannel;
private variable bln_TipPresentBack;
private variable bln_TipPresentFront;
private variable str_ReturnValue;
private variable str_FWParameter;
private variable flt_ZSpeed;
private variable str_FWCommand;
private variable flt_SearchSpeed;
private variable flt_ZIncremenToMM;
private variable int_ZSpeed;
private variable str_ZV;
private variable str_ZSpeed;
private variable flt_NotUsed;
private variable flt_ZBottom;
private variable flt_RackClearance;
private variable flt_RackHeight;
private variable flt_MinimumSearchHeight;
private variable flt_XCenter;
private variable flt_YCenter;
private variable bln_PlateFound;
private variable arr_ChPattern[];
private variable arr_YPosition[];
private variable arr_ZPosition[];
private variable int_ChIndex;
private variable flt_BackChannel_X;
private variable flt_BackChannel_Y;
private variable flt_BackChannel_Z;
private variable flt_FrontChannel_X;
private variable flt_FrontChannel_Y;
private variable flt_FrontChannel_Z;
private variable str_ChPattern;
private variable arr_XPosition[];
private variable flt_FrontChannel_YCenter;
private variable flt_BackChannel_YCenter;
private variable bln_SimMode;
private variable flt_YOffset;
// {{ 5 "MOVE_CheckPlateWithTwoChannels" "InitLocals"
// }} ""
// {{ 1735 1 0 "f8128114_7776_45c6_a5b34d02922ce2ed" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
ret_PlateExists = 0;
// }} ""
// {{ 1736 1 0 "3c407e65_755c_44c4_baa793f614b76054" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1737 1 0 "49a0d5f6_12cb_4960_b1141548956c41ae" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 1739 1 0 "0f031814_6d1c_4ea7_bb4e38c57a85bf0c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 1740 1 0 "77e77e3f_3868_480a_918e25f1c9aae386" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 1741 1 0 "15fc934b_228c_40e9_b868a60d393f309e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 1742 1 0 "6c1c7195_6b25_4114_a15a1074ed258d3e" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 1743 1 0 "289c2da6_38f3_450f_834da9d24a465419" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 1745 1 0 "3c407e65_755c_44c4_baa793f614b76054" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1746 1 0 "f789843d_0585_42d0_bf79bf0d50eeaed5" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{{ 1747 1 0 "174b16ab_b0a1_4454_950275c50c22a850" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
bln_SimMode = Util::GetSimulationMode();
// }} ""
// {{ 1748 1 0 "77778bbe_57f2_4c3e_bfb8659e18910fc2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_flt_TapWidth < 9.0)
{
// }} ""
// {{ 1749 1 0 "482e7814_e91d_4360_a764a81a1ab1faaf" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
i_flt_TapWidth = 9.0;
// }} ""
// {{ 1750 1 0 "77778bbe_57f2_4c3e_bfb8659e18910fc2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1751 1 0 "aab23d9c_4940_47c0_a01037bf4b72d1b1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_flt_TapWidth > 128.0)
{
// }} ""
// {{ 1752 1 0 "778211c4_3e84_47ae_bc59457ff9a64d28" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
i_flt_TapWidth = 128.0;
// }} ""
// {{ 1753 1 0 "aab23d9c_4940_47c0_a01037bf4b72d1b1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1754 1 0 "11a4de8d_793c_4165_ad2f02126240a483" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_ZIncremenToMM = 0.01072765;
// }} ""
// {{ 1755 1 0 "b6cb2e4b_d6fa_41b7_8c00e3b7b29e66d9" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_SearchSpeed = 45.0;
// }} ""
// {{ 1756 1 0 "b3122941_5027_4aad_833c9f488e725116" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1757 1 0 "cc6355e3_ab1f_46cb_bd40d0fa15cf79aa" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_1mL_channels = DevGetCfgValueWithKey(ML_STAR, 1);
// }} ""
// {{{ 1758 1 0 "84ad6767_c59e_4a7e_bcdac9a760889cdb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(i_seq_PlateToCheck);
// }} ""
// {{{ 1759 1 0 "33ab6396_0e3c_4c9f_96658c3c8c3a5308" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(str_LabID);
// }} ""
// {{ 1760 1 0 "5cfe5832_7859_489e_9356eba9b3f3bd99" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_1mL_channels == 0)
{
// }} ""
// {{{ 1761 1 0 "a905c17d_9773_41e6_baca14f4d5bd9688" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no 1 mL channels installed!"), Translate(""));
// }} ""
// {{{ 1762 1 0 "d2d137ed_3f5f_4166_81b48e6d8990f2bd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No 1 mL channels installed!!"));
// }} ""
// {{ 1763 1 0 "5cfe5832_7859_489e_9356eba9b3f3bd99" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1764 1 0 "3e575a94_4051_4465_83a96c5cb6ebc2dd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_FrontMostChannel < 2)
{
// }} ""
// {{{ 1765 1 0 "f2846092_4dfe_41c9_b9b7d8b7560b68ab" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  Front channel is less than 2!"), Translate(""));
// }} ""
// {{{ 1766 1 0 "54af4e57_7fb2_4835_b6467e7f12356a5b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("Front channel is less than 2!"));
// }} ""
// {{ 1767 1 0 "3e575a94_4051_4465_83a96c5cb6ebc2dd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1768 1 0 "eef9b580_55b8_4d04_bea05178b3e38901" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_int_FrontMostChannel > num_1mL_channels)
{
// }} ""
// {{{ 1769 1 0 "5e464b80_55ec_4611_80d7e741068f2654" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  Front channel is greater than the number of channels loaded!"), Translate(""));
// }} ""
// {{{ 1770 1 0 "d2e6754b_80f7_4001_a0151332e591f649" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("Front channel is greater than the number of channels loaded!"));
// }} ""
// {{ 1771 1 0 "eef9b580_55b8_4d04_bea05178b3e38901" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1772 1 0 "edcd67cc_bf7f_49e9_bf3f5a95cc4b8c99" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Length == 0)
{
// }} ""
// {{{ 1773 1 0 "6fd5b7ec_4457_40f4_8d7e6a0f8106644e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  Sequence position does not have a labware!"), Translate(""));
// }} ""
// {{{ 1774 1 0 "43599c05_8738_4379_a0ed5f8ef8c7fee5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("Sequence position does not have a labware!"));
// }} ""
// {{ 1775 1 0 "edcd67cc_bf7f_49e9_bf3f5a95cc4b8c99" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1776 1 0 "10536c51_944e_4cc7_9051cb3fee6a9f52" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_BackChannel = i_int_FrontMostChannel - 1;
// }} ""
// {{ 1777 1 0 "9a8df886_e468_4769_b17854fb5fcb7027" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_SimMode == 0)
{
// }} ""
// {{ 1778 1 0 "14157106_d897_4294_83f62c2d0b9a524d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (G_FW_PIP_COM_InstrumentType > 2)
{
// }} ""
// {{{ 1779 1 0 "c9a47bbb_b55b_4ef0_b4436b0f1d629e12" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VANTAGE_CHANNEL_MOVEMENT_TOOLS::Get_Tip_Present_1mL(ML_STAR, int_BackChannel, bln_TipPresentBack);
// }} ""
// {{{ 1780 1 0 "199f2311_0ff5_4dfa_8cc47a09cc969e13" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VANTAGE_CHANNEL_MOVEMENT_TOOLS::Get_Tip_Present_1mL(ML_STAR, i_int_FrontMostChannel, bln_TipPresentFront);
// }} ""
// {{ 1781 1 0 "14157106_d897_4294_83f62c2d0b9a524d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 1782 1 0 "03ad3d52_5c36_4257_806a8ab0bdefd3a8" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
STAR_CHANNEL_MOVEMENT_TOOLS::Get_Tip_Present_1mL(ML_STAR, int_BackChannel, bln_TipPresentBack);
// }} ""
// {{{ 1783 1 0 "2525b4a3_29de_4559_99006aeb2f388488" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
STAR_CHANNEL_MOVEMENT_TOOLS::Get_Tip_Present_1mL(ML_STAR, i_int_FrontMostChannel, bln_TipPresentFront);
// }} ""
// {{ 1784 1 0 "14157106_d897_4294_83f62c2d0b9a524d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1785 1 0 "9a8df886_e468_4769_b17854fb5fcb7027" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1786 1 0 "fb6e2c3e_2239_492c_a0c3b7f5cabbc313" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_TipPresentBack = 1;
// }} ""
// {{ 1787 1 0 "69b82740_1826_4673_be6e4fb276e590e8" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
bln_TipPresentFront = 1;
// }} ""
// {{ 1788 1 0 "9a8df886_e468_4769_b17854fb5fcb7027" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
Trace("Back channel present:  ",bln_TipPresentBack);
Trace("Front channel present:  ",bln_TipPresentFront);
// {{ 1790 1 0 "9cdd36d1_d974_43b3_ac52f17c3242a349" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_TipPresentBack == 0)
{
// }} ""
// {{{ 1791 1 0 "f9385ae4_c948_4e56_a88b94b57e986b3b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  Channel does not have a tip or tool!"), Translate(""));
// }} ""
// {{{ 1792 1 0 "3b9031ec_2753_4edc_8fa0aca20dc59948" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("Channels do not have a tip or tool loaded!"));
// }} ""
// {{ 1793 1 0 "9cdd36d1_d974_43b3_ac52f17c3242a349" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1794 1 0 "2a9621ff_4a5e_4df4_87b5066e60236ee8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bln_TipPresentFront == 0)
{
// }} ""
// {{{ 1795 1 0 "c3275a38_ce5f_4096_9c31b884be9a558f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  Channel does not have a tip or tool!"), Translate(""));
// }} ""
// {{{ 1796 1 0 "b69b0a17_809e_497c_a81c5654c0f3ef38" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("Channels do not have a tip or tool loaded!"));
// }} ""
// {{ 1797 1 0 "2a9621ff_4a5e_4df4_87b5066e60236ee8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1798 1 0 "b3122941_5027_4aad_833c9f488e725116" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1799 1 0 "be15a4fb_7237_440f_87e22544b58f42a3" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
LPQ::LABWARE_GetLabwareOrigin(ML_STAR, i_seq_PlateToCheck, flt_NotUsed, flt_NotUsed, flt_ZBottom);
// }} ""
// {{{ 1800 1 0 "de3b1c39_263b_49c5_92c0dd5d5381b938" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
LPQ::LABWARE_GetRackHeight(ML_STAR, i_seq_PlateToCheck, 1, flt_RackHeight, flt_RackClearance);
// }} ""
// {{{ 1801 1 0 "2896f3f2_b888_455a_a30417a30af1e98b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
LPQ::LABWARE_GetLabwareCenter(ML_STAR, i_seq_PlateToCheck, flt_XCenter, flt_YCenter);
// }} ""
// {{ 1802 1 0 "7a5d5380_60f8_4fea_8c2ef6436458eb30" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_MinimumSearchHeight = flt_RackHeight - flt_ZBottom;
// }} ""
// {{ 1803 1 0 "70757766_3bdc_40d9_94bd3de19988389e" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_MinimumSearchHeight = flt_MinimumSearchHeight / (2 * 1.0);
// }} ""
// {{ 1804 1 0 "280b0f8b_0a79_4ed0_999c6f35b38711c5" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_MinimumSearchHeight = flt_MinimumSearchHeight + flt_ZBottom;
// }} ""
// {{ 1805 1 0 "135e6304_7c0e_44b9_b9b2dbd1f1d39def" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (G_FW_PIP_COM_InstrumentType > 2)
{
// }} ""
// {{{ 1806 1 0 "19498956_820b_4c64_b819663cb4a38bf6" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_PlateFound = VANTAGE_CHANNEL_MOVEMENT_TOOLS::CheckPlateWithTwoChannels(ML_STAR, flt_XCenter, flt_YCenter, flt_MinimumSearchHeight, flt_SearchSpeed, i_flt_TapWidth, 245.0, 245.0, int_BackChannel, i_int_FrontMostChannel, flt_ZBottom);
// }} ""
// {{ 1807 1 0 "450d97e0_084b_45f1_a6c6091bf2dbae25" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 1809 1 0 "450d97e0_084b_45f1_a6c6091bf2dbae25" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
if(bln_PlateFound == 1) ret_PlateExists = hslTrue;
if(bln_PlateFound == 0) ret_PlateExists = hslFalse;
// {{{ 1811 1 0 "c30c2a8b_9013_4288_85d005853128f56f" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_PlateExists);
// }} ""
// {{ 1812 1 0 "135e6304_7c0e_44b9_b9b2dbd1f1d39def" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1813 1 0 "a79175b7_8143_4d8f_b01f627d392d88fa" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1814 1 0 "fef91437_2d02_4a3f_ba873b35c770c8b8" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_ChPattern.SetSize(0);
// }} ""
// {{ 1815 1 0 "ff5764e4_5385_4cb4_8503da005c665523" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_XPosition.SetSize(0);
// }} ""
// {{ 1816 1 0 "3c0e72ef_b7f6_4a7f_830a9f78aec691af" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_YPosition.SetSize(0);
// }} ""
// {{ 1817 1 0 "4223c9a4_b2ff_4057_bf0f5681fc1b1bd2" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_ZPosition.SetSize(0);
// }} ""
// {{ 1818 1 0 "d20faef7_95b6_4e71_970d86321fa75207" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < num_1mL_channels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{ 1819 1 0 "bee2ac36_ac85_4189_9f0085104e63c616" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ChPattern.AddAsLast(0);
// }} ""
// {{ 1820 1 0 "89a47f34_8f54_4b53_bd3776a5f5ad2c5d" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_XPosition.AddAsLast(flt_XCenter);
// }} ""
// {{ 1821 1 0 "f62bda15_f8ec_4e31_92f971fd41d12a43" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_YPosition.AddAsLast(0.0);
// }} ""
// {{ 1822 1 0 "5918befe_42ca_4bba_bc0690f51f129b2a" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ZPosition.AddAsLast(245.0);
// }} ""
// {{ 1823 1 0 "d20faef7_95b6_4e71_970d86321fa75207" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1824 1 0 "7d7878c3_0534_4714_90c01772bcc2ac6b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_YOffset = i_flt_TapWidth / (2.0 * 1.0);
// }} ""
// {{ 1825 1 0 "7603e11d_cbc3_41ea_8fc1444f887ef007" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_YOffset = flt_YOffset + 4.5;
// }} ""
// {{ 1826 1 0 "8279df88_a687_4978_b45d62e8c2973e4a" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_FrontChannel_YCenter = flt_YCenter - flt_YOffset;
// }} ""
// {{ 1827 1 0 "d87dc555_2345_4bf3_9208f361805ea745" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_BackChannel_YCenter = flt_YCenter + flt_YOffset;
// }} ""
// {{ 1828 1 0 "0a316aea_eb1e_45d2_a2b0c5a20f99d785" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ChPattern.SetAt(i_int_FrontMostChannel-1, 1);
// }} ""
// {{ 1829 1 0 "94ce9386_573c_4c39_88d5a626203999d0" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ChPattern.SetAt(int_BackChannel-1, 1);
// }} ""
// {{ 1830 1 0 "b06be25e_38e3_4cd0_94255fdc7c4476ba" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_YPosition.SetAt(i_int_FrontMostChannel-1, flt_FrontChannel_YCenter);
// }} ""
// {{ 1831 1 0 "9abfceb4_136c_4621_b34d39e71b059da9" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_YPosition.SetAt(int_BackChannel-1, flt_BackChannel_YCenter);
// }} ""
// {{ 1832 1 0 "f78f523c_c95f_4458_949581b76878fea3" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_ChPattern = Translate("");
// }} ""
// {{ 1833 1 0 "8e6805be_98d0_4715_9e2b4f6cd7d87864" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < num_1mL_channels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 1834 1 0 "5b428939_3b10_4008_ad0046b61432e0a2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_ChPattern = StrConcat2(str_ChPattern, arr_ChPattern.ElementAt( int_ChIndex -1));
// }} ""
// {{ 1835 1 0 "8e6805be_98d0_4715_9e2b4f6cd7d87864" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 1836 1 0 "c1999267_95e2_4d44_ae73ab9beac689c0" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
STAR_CHANNEL_MOVEMENT_TOOLS::Move_Channels_To_Absolute_Position_1mL(ML_STAR, str_ChPattern, 245.0, arr_XPosition, arr_YPosition, arr_ZPosition);
// }} ""
// {{ 1837 1 0 "a79175b7_8143_4d8f_b01f627d392d88fa" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1838 1 0 "a64f5d99_5871_47f2_a8fcc4a9f5bbecfe" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1839 1 0 "22449654_6170_4eef_ab9ba4910f9f1e12" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_ChPattern.SetSize(0);
// }} ""
// {{ 1840 1 0 "340f6ee9_11ae_40e1_a407a2dfe6c26dab" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_XPosition.SetSize(0);
// }} ""
// {{ 1841 1 0 "a8bd92b2_5731_40ef_8843e67c8bb903bc" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_YPosition.SetSize(0);
// }} ""
// {{ 1842 1 0 "acbea1e5_b7c1_4840_a54fdf16ee978b40" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_ZPosition.SetSize(0);
// }} ""
// {{ 1843 1 0 "bfb735f0_cf4a_45ea_ad2a1133c26f5720" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < num_1mL_channels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{ 1844 1 0 "7ab7e3c3_f3e5_4e4f_bfc6f3def078883b" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ChPattern.AddAsLast(0);
// }} ""
// {{ 1845 1 0 "44e4438d_8945_4241_b193a5a6d7f1c609" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_XPosition.AddAsLast(flt_XCenter);
// }} ""
// {{ 1846 1 0 "d3fdc539_4c47_4ee0_829e1002ffb0b65b" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_YPosition.AddAsLast(0.0);
// }} ""
// {{ 1847 1 0 "2bec60a3_bdd1_40b8_b3a67d4517af0d37" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ZPosition.AddAsLast(245.0);
// }} ""
// {{ 1848 1 0 "bfb735f0_cf4a_45ea_ad2a1133c26f5720" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1849 1 0 "0d860b4b_4db6_4d07_ba3c4fc949d9c92b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_YOffset = i_flt_TapWidth / (2.0 * 1.0);
// }} ""
// {{ 1850 1 0 "758c8e6c_3928_49e3_b41c8226c79fcd78" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_FrontChannel_YCenter = flt_YCenter - flt_YOffset;
// }} ""
// {{ 1851 1 0 "900c7906_792e_4ed3_84fd31f47022c844" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_BackChannel_YCenter = flt_YCenter + flt_YOffset;
// }} ""
// {{ 1852 1 0 "619625e8_223b_4ab2_ae14ce0b42e4c9f8" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ChPattern.SetAt(i_int_FrontMostChannel-1, 1);
// }} ""
// {{ 1853 1 0 "5a7ebbd8_4ce8_45d4_9bc55ea8c7be9318" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ChPattern.SetAt(int_BackChannel-1, 1);
// }} ""
// {{ 1854 1 0 "d24f6245_2a3b_48ce_aa7d0ef494243b75" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_YPosition.SetAt(i_int_FrontMostChannel-1, flt_FrontChannel_YCenter);
// }} ""
// {{ 1855 1 0 "aefb55a1_9fad_429c_a637e406b9650a05" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_YPosition.SetAt(int_BackChannel-1, flt_BackChannel_YCenter);
// }} ""
// {{ 1856 1 0 "821869f6_879a_4841_88a15c56bd462a18" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_ChPattern = Translate("");
// }} ""
// {{ 1857 1 0 "0d6e8bc4_6ca4_4238_844a4bcd8be16110" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < num_1mL_channels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 1858 1 0 "25c11394_e6a6_4ea6_8c9466c16855151f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_ChPattern = StrConcat2(str_ChPattern, arr_ChPattern.ElementAt( int_ChIndex -1));
// }} ""
// {{ 1859 1 0 "0d6e8bc4_6ca4_4238_844a4bcd8be16110" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 1860 1 0 "f1cfdd5a_524e_481e_a0b2c3dd9fe16844" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
STAR_CHANNEL_MOVEMENT_TOOLS::Move_Channels_To_Absolute_Position_1mL(ML_STAR, str_ChPattern, 245.0, arr_XPosition, arr_YPosition, arr_ZPosition);
// }} ""
// {{ 1861 1 0 "a64f5d99_5871_47f2_a8fcc4a9f5bbecfe" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1862 1 0 "1b727554_531f_4e9f_b9f0ace25a28f9ba" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1863 1 0 "381057a9_5831_4de4_868ae4d0a69a3fbf" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("Change Z speed and sensitivity"));
// }} ""
// {{ 1864 1 0 "73827788_e70c_415a_a4156def7f7cf82c" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_ZSpeed = flt_SearchSpeed / (flt_ZIncremenToMM * 1.0);
// }} ""
// {{{ 1865 1 0 "e15c54db_e986_4c4d_aca69ab8588d11a9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_ZSpeed = MthCeiling(flt_ZSpeed);
// }} ""
// {{{ 1866 1 0 "7cabf264_edfe_46e3_9f8c2517507e2eee" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_ZSpeed = StrConcat2(int_ZSpeed, Translate(""));
// }} ""
// {{{ 1867 1 0 "b6b8f20b_b2d9_4dbc_90559324e87dc7e2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_ZSpeed = StrFillLeft(str_ZSpeed, Translate("0"), 5);
// }} ""
// {{{ 1868 1 0 "0433168d_463c_427e_a689a588645692d1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_ZV = StrConcat4(Translate("zv"), str_ZSpeed, Translate(""), Translate(""));
// }} ""
// {{ 1869 1 0 "517ca6a3_f7c0_442f_894b6aae1e5e615b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_FWCommand = Translate("PXAA");
// }} ""
// {{{ 1870 1 0 "680fb508_cfee_4a34_b3845b76c8f8f09f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_FWParameter = StrConcat8(Translate("zr005zw1"), str_ZV, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
Trace("FW Command:  ",str_FWCommand," : ",str_FWParameter);
// {{ 1872 1 0 "ef3e7bb8_57d4_4430_afa6ed39d4d0c578" "ML_STAR:{1FB5DA01-3ACB-11d4-AE1F-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._1FB5DA01_3ACB_11d4_AE1F_0004ACB1DCB2("ef3e7bb8_57d4_4430_afa6ed39d4d0c578"); // FirmwareCommand
	str_ReturnValue = arrRetValues[3];
}
// }} ""
// {{ 1873 1 0 "1b727554_531f_4e9f_b9f0ace25a28f9ba" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1874 1 0 "be321fbc_c0c6_4033_ad37c7c7eb1cdb60" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1875 1 0 "1e3c7be9_6183_457b_9953ea61e9f07afc" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bln_PlateFound = STAR_CHANNEL_MOVEMENT_TOOLS::CheckPlateWithTwoChannels(ML_STAR, flt_XCenter, flt_YCenter, flt_MinimumSearchHeight, flt_SearchSpeed, i_flt_TapWidth, 245.0, flt_MinimumSearchHeight, int_BackChannel, i_int_FrontMostChannel);
// }} ""
// {{ 1876 1 0 "be321fbc_c0c6_4033_ad37c7c7eb1cdb60" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1877 1 0 "fa35a50b_f227_44af_a7c54a8a8e50064b" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1878 1 0 "75168aa0_06d1_400e_ac2f1b41de131df6" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("Reset the speed back to normal"));
// }} ""
// {{ 1879 1 0 "2b2884b1_9684_4448_80cdb31c25dd30fb" "ML_STAR:{1FB5DA01-3ACB-11d4-AE1F-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._1FB5DA01_3ACB_11d4_AE1F_0004ACB1DCB2("2b2884b1_9684_4448_80cdb31c25dd30fb"); // FirmwareCommand
	str_ReturnValue = arrRetValues[3];
}
// }} ""
// {{ 1880 1 0 "fa35a50b_f227_44af_a7c54a8a8e50064b" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1881 1 0 "155bbd3f_33f9_43e5_aba49a4c2aa78e3e" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1882 1 0 "290a2aae_695c_4b08_a11682c45086aaa8" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
STAR_CHANNEL_MOVEMENT_TOOLS::Get_Channel_Position_1mL(ML_STAR, int_BackChannel, flt_BackChannel_X, flt_BackChannel_Y, flt_BackChannel_Z);
// }} ""
// {{{ 1883 1 0 "83b8f0ee_ac0b_469e_b831f30d60c1188b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
STAR_CHANNEL_MOVEMENT_TOOLS::Get_Channel_Position_1mL(ML_STAR, i_int_FrontMostChannel, flt_FrontChannel_X, flt_FrontChannel_Y, flt_FrontChannel_Z);
// }} ""
// {{ 1884 1 0 "d2e73038_8a5e_48c0_9bc4cb208b498383" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_ChPattern.SetSize(0);
// }} ""
// {{ 1885 1 0 "24a58a8c_96aa_440e_b88c631e8bd575fb" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_XPosition.SetSize(0);
// }} ""
// {{ 1886 1 0 "d6a2a54a_769b_41de_990926359f5d67b0" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_YPosition.SetSize(0);
// }} ""
// {{ 1887 1 0 "ed10c26e_ef4b_4d50_a5addfb8312b0c8d" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_ZPosition.SetSize(0);
// }} ""
// {{ 1888 1 0 "87edf40d_590f_4a98_a6f1009aba7b0769" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < num_1mL_channels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{ 1889 1 0 "fe1a2a24_d162_4cda_a3ce84af5842373e" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ChPattern.AddAsLast(0);
// }} ""
// {{ 1890 1 0 "14123640_c2cf_48b9_a1fad4ffb411127c" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_XPosition.AddAsLast(flt_XCenter);
// }} ""
// {{ 1891 1 0 "9c9cfb23_19c1_49a7_95dbdcf2c9eed248" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_YPosition.AddAsLast(0.0);
// }} ""
// {{ 1892 1 0 "7979331a_4448_4f7b_aaaf4dae9b06fc34" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ZPosition.AddAsLast(245.0);
// }} ""
// {{ 1893 1 0 "87edf40d_590f_4a98_a6f1009aba7b0769" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1894 1 0 "bce6ddc1_fbfc_4684_a6c1b1614581462e" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ChPattern.SetAt(i_int_FrontMostChannel-1, 1);
// }} ""
// {{ 1895 1 0 "9907d217_8c8a_4359_abbc2d8f6c17ac71" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ChPattern.SetAt(int_BackChannel-1, 1);
// }} ""
// {{ 1896 1 0 "d001c647_e5bf_45d1_a65ba9323dc1228a" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_YPosition.SetAt(i_int_FrontMostChannel-1, flt_FrontChannel_Y);
// }} ""
// {{ 1897 1 0 "9c34b7e7_062a_4699_9710a045057d0a67" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_YPosition.SetAt(int_BackChannel-1, flt_BackChannel_Y);
// }} ""
// {{ 1898 1 0 "8ab9fd08_ae4f_4f40_b8c3f341f9c2f52a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_ChPattern = Translate("");
// }} ""
// {{ 1899 1 0 "7cf534d4_bf05_4e5a_aaf131d3e64a747c" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < num_1mL_channels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 1900 1 0 "f13a0add_17e3_4e32_86428b91300f9e90" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_ChPattern = StrConcat2(str_ChPattern, arr_ChPattern.ElementAt( int_ChIndex -1));
// }} ""
// {{ 1901 1 0 "7cf534d4_bf05_4e5a_aaf131d3e64a747c" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 1902 1 0 "18d50fd5_5a74_49ab_a602cbb96a14d991" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
STAR_CHANNEL_MOVEMENT_TOOLS::Move_Channels_To_Absolute_Position_1mL(ML_STAR, str_ChPattern, 245.0, arr_XPosition, arr_YPosition, arr_ZPosition);
// }} ""
// {{ 1903 1 0 "155bbd3f_33f9_43e5_aba49a4c2aa78e3e" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1904 1 0 "7834c191_5d0c_4128_a27f59f7f6b43faa" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 1906 1 0 "7834c191_5d0c_4128_a27f59f7f6b43faa" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
if(bln_PlateFound == 1) ret_PlateExists = hslTrue;
if(bln_PlateFound == 0) ret_PlateExists = hslFalse;
// {{{ 1908 1 0 "963aee20_df15_406c_a08adeac4fe315db" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ret_PlateExists);
// }} ""
// {{{ 5 "MOVE_CheckPlateWithTwoChannels" "End"
}
// }} ""
// {{{ 5 "MOVE_ChannelsToSequencePosition" "Begin"
function MOVE_ChannelsToSequencePosition( device & ML_STAR, variable i_str_ChPattern, sequence i_seq_Positions, variable i_flt_ZHeight ) void {
// }} ""
private variable int_CutNum;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable int_Count;
private variable num_1mL_channels;
private variable arr_XCoord[];
private variable arr_ChPattern[];
private variable arr_YCoord[];
private variable arr_ZCoord[];
private variable int_ChIndex;
private variable str_Left;
private variable str_Value;
private variable flt_ZCoord;
private variable flt_YCoord;
private variable flt_XCoord;
private variable str_LabID;
private variable int_Value;
private variable str_ChPattern;
// {{ 5 "MOVE_ChannelsToSequencePosition" "InitLocals"
// }} ""
// {{ 1623 1 0 "31304d52_a026_4718_be61dcbcb7e70d8e" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1624 1 0 "88249d15_8ec9_47c4_b57608c0984b738a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 1626 1 0 "daac1dec_2efc_460c_9cb812ffcb62b563" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 1627 1 0 "c266a97f_2f5c_4f1f_8052e2c552a9a819" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 1628 1 0 "c2dedc14_3396_4230_884cd78a4b5fe075" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 1629 1 0 "58071302_fdbe_4b8b_9fe11351c7b0d568" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 1630 1 0 "a9469aa2_eadb_4fae_bc93812995e6a5b7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 1632 1 0 "31304d52_a026_4718_be61dcbcb7e70d8e" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1633 1 0 "6934bfa8_0b29_41d8_8a78c50ab71f7d28" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 1634 1 0 "b5345ed4_41c5_4eaa_bfd301e29939428a" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1635 1 0 "57b47262_2c7c_4c6b_8ddcbe22be034d1e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_1mL_channels = DevGetCfgValueWithKey(ML_STAR, 1);
// }} ""
// {{ 1636 1 0 "de402e80_5ee1_4f8c_9e39fdd204ad8e23" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_1mL_channels == 0)
{
// }} ""
// {{{ 1637 1 0 "9187c32b_293f_4c47_8cdf69a798defb4c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no 1 mL channels installed!"), Translate(""));
// }} ""
// {{{ 1638 1 0 "ad12c7c6_9344_48e3_bdbd35aa4ef37613" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No 1 mL channels installed!!"));
// }} ""
// {{ 1639 1 0 "de402e80_5ee1_4f8c_9e39fdd204ad8e23" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1640 1 0 "b5345ed4_41c5_4eaa_bfd301e29939428a" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1641 1 0 "eae85b05_567a_49f0_889a194dd593dde1" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_ChPattern.SetSize(0);
// }} ""
// {{ 1642 1 0 "6242f190_81a7_4232_8b746f19f76fa22f" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_XCoord.SetSize(0);
// }} ""
// {{ 1643 1 0 "17f28be2_753e_4284_8e0568ce79744c9e" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_YCoord.SetSize(0);
// }} ""
// {{ 1644 1 0 "d416ae74_b874_4d37_bceef17b61da4c04" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_ZCoord.SetSize(0);
// }} ""
// {{{ 1645 1 0 "bf351f45_44dd_4acc_be528ca1be947002" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_str_ChPattern = StrFillRight(i_str_ChPattern, Translate("0"), num_1mL_channels);
// }} ""
// {{ 1646 1 0 "aab491cc_c353_438f_82541921a5326622" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < num_1mL_channels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 1647 1 0 "adc1e872_5404_4c21_ab22d2c63e1686d9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_Left = StrLeft(i_str_ChPattern, int_ChIndex);
// }} ""
// {{{ 1648 1 0 "ef3f330e_f76d_4d65_90318ff3f6ae6f00" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_Value = StrRight(str_Left, 1);
// }} ""
// {{{ 1649 1 0 "6049adef_1af2_4c23_931643e81424254f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Value = StrIVal(str_Value);
// }} ""
// {{{ 1650 1 0 "d8cf5121_cd12_466c_87e2d8043c12730f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(i_seq_Positions);
// }} ""
// {{{ 1651 1 0 "7297fe0c_a66e_4ed1_bfeb472b8cc6837d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(str_LabID);
// }} ""
// {{ 1652 1 0 "4b495ffa_9b9d_4d06_a0e1a890e2c22dca" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Length > 0)
{
// }} ""
// {{{ 1653 1 0 "658712da_f3db_4aea_ac6a23815835aee2" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
LPQ::LABWARE_GetCurrentPosition(ML_STAR, i_seq_Positions, flt_XCoord, flt_YCoord, flt_ZCoord);
// }} ""
// {{ 1654 1 0 "4b495ffa_9b9d_4d06_a0e1a890e2c22dca" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1655 1 0 "9670aa61_2ae5_400d_8389c9e828f0d0a0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_Value = 0;
// }} ""
// {{ 1656 1 0 "0141b5c3_aa6c_4fc6_8da8232c8c8ece76" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_XCoord = 0.0;
// }} ""
// {{ 1657 1 0 "e716396e_d207_47da_8618e6c39f72bd9e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_YCoord = 0.0;
// }} ""
// {{ 1658 1 0 "bc2f7c24_ea24_4473_bb6ac932ab23e16e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_ZCoord = 0.0;
// }} ""
// {{ 1659 1 0 "4b495ffa_9b9d_4d06_a0e1a890e2c22dca" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1660 1 0 "5dfa1a78_9027_4677_b5f4b9c69a83c5be" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqIncrement(i_seq_Positions, 1);
// }} ""
// {{ 1661 1 0 "63dba962_e9eb_4fdd_8ffa3dee42661402" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ChPattern.AddAsLast(int_Value);
// }} ""
// {{ 1662 1 0 "c3b11d87_8c57_4249_9d4d287075074a15" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_XCoord.AddAsLast(flt_XCoord);
// }} ""
// {{ 1663 1 0 "217d83e0_bf96_432e_a046862bd2810124" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_YCoord.AddAsLast(flt_YCoord);
// }} ""
// {{ 1664 1 0 "636b0004_da2e_4ceb_a1b669b450416f96" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ZCoord.AddAsLast(i_flt_ZHeight);
// }} ""
// {{ 1665 1 0 "aab491cc_c353_438f_82541921a5326622" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1666 1 0 "6943138f_8470_4169_a33ac0d707809f0f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_ChPattern = Translate("");
// }} ""
// {{ 1667 1 0 "764ab6b0_bfd2_4b8e_80d755c000b3c624" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < num_1mL_channels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 1668 1 0 "610d91be_694d_4f30_8798673436589cd5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_ChPattern = StrConcat2(str_ChPattern, arr_ChPattern.ElementAt( int_ChIndex -1));
// }} ""
// {{ 1669 1 0 "764ab6b0_bfd2_4b8e_80d755c000b3c624" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1670 1 0 "aebe89aa_a262_4407_99525d3f464e6963" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (G_FW_PIP_COM_InstrumentType <= 2)
{
// }} ""
// {{{ 1671 1 0 "ad02be1a_329a_4a34_97895a5e0588f054" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
STAR_CHANNEL_MOVEMENT_TOOLS::Move_Channels_To_Absolute_Position_1mL(ML_STAR, str_ChPattern, 245.0, arr_XCoord, arr_YCoord, arr_ZCoord);
// }} ""
// {{ 1672 1 0 "aebe89aa_a262_4407_99525d3f464e6963" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 1673 1 0 "6c2121e1_abcc_4baf_9d8a94b72cee5564" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VANTAGE_CHANNEL_MOVEMENT_TOOLS::Move_Channels_To_Absolute_Position_1mL(ML_STAR, str_ChPattern, 245.0, arr_XCoord, arr_YCoord, arr_ZCoord);
// }} ""
// {{ 1674 1 0 "aebe89aa_a262_4407_99525d3f464e6963" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1675 1 0 "f95272cf_c497_461e_899a6c752ab5546d" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 1677 1 0 "f95272cf_c497_461e_899a6c752ab5546d" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "MOVE_ChannelsToSequencePosition" "End"
}
// }} ""
// {{{ 5 "MOVE_ChannelsToSequencePosition_5mL" "Begin"
function MOVE_ChannelsToSequencePosition_5mL( device & ML_STAR, variable i_str_ChPattern, sequence i_seq_Positions, variable i_flt_ZHeight ) void {
// }} ""
private variable str_Left;
private variable int_CutNum;
private variable int_Length;
private variable flt_ZCoord;
private variable flt_YCoord;
private variable strFunctionName;
private variable flt_XCoord;
private variable str_LabID;
private variable strFunctionName_Cut;
private variable num_1mL_channels;
private variable int_Count;
private variable int_Value;
private variable str_Value;
private variable int_ChIndex;
private variable str_ChPattern;
private variable arr_ChPattern[];
private variable arr_ZCoord[];
private variable arr_YCoord[];
private variable arr_XCoord[];
// {{ 5 "MOVE_ChannelsToSequencePosition_5mL" "InitLocals"
// }} ""
// {{ 1679 1 0 "8de78841_d47a_44e2_80da7eb4bc554659" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1680 1 0 "e904eb74_811c_45f2_91435a76b5ee72cc" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 1682 1 0 "95622491_28c1_45cc_916150064ed83559" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 1683 1 0 "1df0357c_08a8_49ab_9a17dd9fe7510d5b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 1684 1 0 "d2a6dcd3_8c97_4df7_83f84d0e1e159901" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 1685 1 0 "808f366e_a5a9_401c_9857753fc05f440c" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 1686 1 0 "cb07a334_9c10_4760_b309fba1f0eb8068" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 1688 1 0 "8de78841_d47a_44e2_80da7eb4bc554659" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1689 1 0 "c090efc2_d952_4e26_a6a92cb2c6dd74f9" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 1690 1 0 "a817b917_3a35_4965_8c764ab10ae0f2bf" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 1691 1 0 "291b88f5_bca3_4269_8fe8ca48586b8caa" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
num_1mL_channels = DevGetCfgValueWithKey(ML_STAR, 43);
// }} ""
// {{ 1692 1 0 "f9efc355_ef27_4282_9fefebb386506b6c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (num_1mL_channels == 0)
{
// }} ""
// {{{ 1693 1 0 "c430eef5_e60e_422f_8216d53348880909" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("****************************  There are no 1 mL channels installed!"), Translate(""));
// }} ""
// {{{ 1694 1 0 "44256567_0cbc_4ce3_99f6e774bb94bbad" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrRaise(101, Translate("No 1 mL channels installed!!"));
// }} ""
// {{ 1695 1 0 "f9efc355_ef27_4282_9fefebb386506b6c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1696 1 0 "a817b917_3a35_4965_8c764ab10ae0f2bf" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1697 1 0 "6f4d5ac2_a87a_469a_99bce261f2feb166" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_ChPattern.SetSize(0);
// }} ""
// {{ 1698 1 0 "27662369_ada4_46fa_a33bd194d7aa0acd" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_XCoord.SetSize(0);
// }} ""
// {{ 1699 1 0 "65d429be_ffcc_4241_912d3ac267ff38eb" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_YCoord.SetSize(0);
// }} ""
// {{ 1700 1 0 "45421200_1eb4_4016_9e3eedaf5c21c4fb" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_ZCoord.SetSize(0);
// }} ""
// {{{ 1701 1 0 "ea3284ae_3936_40a6_8e176652663d22df" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
i_str_ChPattern = StrFillRight(i_str_ChPattern, Translate("0"), num_1mL_channels);
// }} ""
// {{ 1702 1 0 "d17bab88_2fbd_4174_8f521f50eca01ed5" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < num_1mL_channels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 1703 1 0 "bc6e9c12_4a3e_4678_88e2cd44f82a6be5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_Left = StrLeft(i_str_ChPattern, int_ChIndex);
// }} ""
// {{{ 1704 1 0 "eb0ccc62_2102_43c2_b1d212aa56e87a85" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_Value = StrRight(str_Left, 1);
// }} ""
// {{{ 1705 1 0 "5442ac48_8d5d_4872_82a8ef2beac010fb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Value = StrIVal(str_Value);
// }} ""
// {{{ 1706 1 0 "cea0888b_e5c6_4a39_994614c19c896a1d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_LabID = SeqGetLabwareId(i_seq_Positions);
// }} ""
// {{{ 1707 1 0 "48378fa0_4efc_470a_bfcf2e7a1dd5ada6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(str_LabID);
// }} ""
// {{ 1708 1 0 "5271c792_0f90_4313_b9ee80baddccb754" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_Length > 0)
{
// }} ""
// {{{ 1709 1 0 "da4a5b93_eaf8_4fd1_885a68a7e8ca18df" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
LPQ::LABWARE_GetCurrentPosition(ML_STAR, i_seq_Positions, flt_XCoord, flt_YCoord, flt_ZCoord);
// }} ""
// {{ 1710 1 0 "5271c792_0f90_4313_b9ee80baddccb754" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 1711 1 0 "ba313086_4375_49f6_abd41ca13a4af42a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
int_Value = 0;
// }} ""
// {{ 1712 1 0 "36a94f41_c977_4f12_813350e7e8152da4" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_XCoord = 0.0;
// }} ""
// {{ 1713 1 0 "ffdb4130_6264_4f51_b1f4d27f68299dfd" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_YCoord = 0.0;
// }} ""
// {{ 1714 1 0 "401d3a9e_2bb4_4fd6_bbea004914a9660a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
flt_ZCoord = 0.0;
// }} ""
// {{ 1715 1 0 "5271c792_0f90_4313_b9ee80baddccb754" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 1716 1 0 "49d6074f_a2ca_4d93_bda9e2f1c665dc62" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqIncrement(i_seq_Positions, 1);
// }} ""
// {{ 1717 1 0 "cb8b071e_65a4_4d25_be661f68221bff19" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ChPattern.AddAsLast(int_Value);
// }} ""
// {{ 1718 1 0 "21c9e01d_c8dc_4434_8f8a916f1dea22ca" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_XCoord.AddAsLast(flt_XCoord);
// }} ""
// {{ 1719 1 0 "3c96631d_be07_4409_8aab142150f3a892" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_YCoord.AddAsLast(flt_YCoord);
// }} ""
// {{ 1720 1 0 "f5754da9_aa9e_40dd_bfc66e9e4605195b" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_ZCoord.AddAsLast(i_flt_ZHeight);
// }} ""
// {{ 1721 1 0 "d17bab88_2fbd_4174_8f521f50eca01ed5" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1722 1 0 "bc3248d4_fcfd_4839_9bc70ddc16074dc4" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
str_ChPattern = Translate("");
// }} ""
// {{ 1723 1 0 "fb480bf5_9422_41ad_bf580a332f7c3fb6" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(int_ChIndex = 0; int_ChIndex < num_1mL_channels;)
{
int_ChIndex = int_ChIndex + 1;
// }} ""
// {{{ 1724 1 0 "0169852a_daf0_458d_89a0c96c106a84cd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_ChPattern = StrConcat2(str_ChPattern, arr_ChPattern.ElementAt( int_ChIndex -1));
// }} ""
// {{ 1725 1 0 "fb480bf5_9422_41ad_bf580a332f7c3fb6" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1726 1 0 "cf763692_554d_4c78_b810860624d8ee94" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (G_FW_PIP_COM_InstrumentType <= 2)
{
// }} ""
// {{{ 1727 1 0 "d9a08ca2_ee99_4bc2_9f01f87d3bb051f0" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
STAR_CHANNEL_MOVEMENT_TOOLS::Move_Channels_To_Absolute_Position_5mL(ML_STAR, str_ChPattern, 245.0, arr_XCoord, arr_YCoord, arr_ZCoord);
// }} ""
// {{ 1728 1 0 "cf763692_554d_4c78_b810860624d8ee94" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 1729 1 0 "20681df0_f77b_4b27_8c8e4dcb2ea02521" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VANTAGE_CHANNEL_MOVEMENT_TOOLS::Move_Channels_To_Absolute_Position_5mL(ML_STAR, str_ChPattern, 245.0, arr_XCoord, arr_YCoord, arr_ZCoord);
// }} ""
// {{ 1730 1 0 "cf763692_554d_4c78_b810860624d8ee94" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1731 1 0 "757fcdca_aa6e_480d_94ef90166fff1412" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 1733 1 0 "757fcdca_aa6e_480d_94ef90166fff1412" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "MOVE_ChannelsToSequencePosition_5mL" "End"
}
// }} ""
// {{{ 5 "TRAVEL_LANES_MoveChannelsToYPosition" "Begin"
function TRAVEL_LANES_MoveChannelsToYPosition( device & ML_STAR, sequence i_seq_TargetSequence, variable i_flt_XOffsetFromOrigin ) void {
// }} ""
private variable int_CutNum;
private variable flt_X_Origin;
private variable int_Length;
private variable flt_NotUsed;
private variable strFunctionName;
private variable str_LabID;
private variable strFunctionName_Cut;
private variable int_Count;
private variable str_PosID;
private variable bool_SequenceValid;
private variable flt_StartLocation;
// {{ 5 "TRAVEL_LANES_MoveChannelsToYPosition" "InitLocals"
// }} ""
// {{ 2346 1 0 "fed39cb3_2a41_4b9a_a9e4e6c236680025" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2347 1 0 "b1f8a408_3269_4d5e_ab2e97f0c8631e27" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 2349 1 0 "9e9ca11b_956a_4a40_8f3cf60fa60facc9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 2350 1 0 "e5de5c58_7f02_41a1_95bf73ab49270ec0" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 2351 1 0 "29bb0f72_2259_4145_9e9e81c4d62364fd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 2352 1 0 "98492b2d_94a5_4319_a85b076ba025e9b4" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 2353 1 0 "38a6d658_3421_4bad_94b2665b7d0f3a12" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 2355 1 0 "fed39cb3_2a41_4b9a_a9e4e6c236680025" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 2356 1 0 "082dcee1_295e_435d_ae5670db3d32ca3f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 2357 1 0 "8c839f90_9751_4b29_a5c35aadd4f765a9" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2358 1 0 "452bdd5b_1c52_4e18_b39529d92cf19f45" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 2360 1 0 "59a00f0f_9c26_4e5d_aa90fa7299e9f2d7" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bool_SequenceValid = _GetSequencePosition(ML_STAR, i_seq_TargetSequence, str_LabID, str_PosID);
// }} ""
// {{ 2361 1 0 "ee831eec_df8e_49b2_a24e7498103a4cdc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bool_SequenceValid == 0)
{
// }} ""
// {{{ 2362 1 0 "d689f2b8_d714_4992_842e75ac343c35b3" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_FunctionError(strFunctionName, Translate("No more sequence positions!"));
// }} ""
// {{ 2363 1 0 "ee831eec_df8e_49b2_a24e7498103a4cdc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2364 1 0 "8c839f90_9751_4b29_a5c35aadd4f765a9" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2365 1 0 "ae7dc69c_e9fa_443e_a7608eae4f204890" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 2366 1 0 "d27f7652_0254_4fc2_925d23508dc4ddd0" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetLabwareOrigin(ML_STAR, str_LabID, flt_X_Origin, flt_NotUsed, flt_NotUsed);
// }} ""
// {{ 2367 1 0 "fecd41a2_48a2_4964_9244b97a962667b7" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_StartLocation = flt_X_Origin + i_flt_XOffsetFromOrigin;
// }} ""
// {{ 2368 1 0 "b41e5ae3_fb15_41f0_a047ee194710b0d1" "ML_STAR:{81DA4252-3BA9-11d4-AE21-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._81DA4252_3BA9_11d4_AE21_0004ACB1DCB2("b41e5ae3_fb15_41f0_a047ee194710b0d1"); // MoveToPosition
}
// }} ""
// {{ 2369 1 0 "3e3a9091_3db7_434f_a9b75033462b69ba" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 2370 1 0 "4f585735_c1ef_44ba_b606135f63a37398" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TRAVEL_LANES::MoveChannelsToSequencePosition(ML_STAR, i_seq_TargetSequence);
// }} ""
// {{ 2371 1 0 "6bd02ad1_2a0e_4ff3_b566673bbdb21624" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 2373 1 0 "6bd02ad1_2a0e_4ff3_b566673bbdb21624" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "TRAVEL_LANES_MoveChannelsToYPosition" "End"
}
// }} ""
// {{{ 5 "TRAVEL_LANES_MoveChannelsToYPosition_5mL" "Begin"
function TRAVEL_LANES_MoveChannelsToYPosition_5mL( device & ML_STAR, sequence i_seq_TargetSequence, variable i_flt_XOffsetFromOrigin ) void {
// }} ""
private variable flt_X_Origin;
private variable int_CutNum;
private variable flt_NotUsed;
private variable int_Length;
private variable strFunctionName;
private variable strFunctionName_Cut;
private variable str_LabID;
private variable int_Count;
private variable str_PosID;
private variable bool_SequenceValid;
private variable flt_StartLocation;
// {{ 5 "TRAVEL_LANES_MoveChannelsToYPosition_5mL" "InitLocals"
// }} ""
// {{ 2375 1 0 "5cf16b95_c957_49c5_a203b15154150c58" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2376 1 0 "4af1e2b6_ab86_4727_9955953029727dd0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 2378 1 0 "6af72947_dbf8_4317_934b8004839de63a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Count = StrReverseFind(strFunctionName, Translate(":"));
// }} ""
// {{ 2379 1 0 "efb06cde_3389_412f_ab12ddfc678f9cc2" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_Count = int_Count + 1;
// }} ""
// {{{ 2380 1 0 "0caec0a7_b358_4257_b8ea85d7b4565979" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
int_Length = StrGetLength(strFunctionName);
// }} ""
// {{ 2381 1 0 "972bb93e_be9d_467a_aba7bf5ceca3dc28" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
int_CutNum = int_Length - int_Count;
// }} ""
// {{{ 2382 1 0 "23e57db2_66b0_480a_af3ca4bec5ac4a59" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strFunctionName_Cut = StrMid(strFunctionName, int_Count, int_CutNum);
// }} ""
Trace("===========================================================================");
Trace(strFunctionName_Cut," - START");
Trace("");
// {{ 2384 1 0 "5cf16b95_c957_49c5_a203b15154150c58" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 2385 1 0 "cf30c36f_5218_46f6_a7e6fbcb1ef8723c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FW_HELPERLIBRARY::InitFunction(ML_STAR);
// }} ""
// {{ 2386 1 0 "2336afa9_3aa1_4221_b3d6f0f8f12e28da" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2387 1 0 "2b415533_3ceb_4dd5_b6217cffbc680a2a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
strFunctionName = Translate("");
// }} ""
strFunctionName = GetFunctionName();
// {{{ 2389 1 0 "fc29c95e_8d4c_4eb2_b932a885a8f7777a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
bool_SequenceValid = _GetSequencePosition(ML_STAR, i_seq_TargetSequence, str_LabID, str_PosID);
// }} ""
// {{ 2390 1 0 "c5e32cea_9e14_4caf_a39f68efe4094027" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (bool_SequenceValid == 0)
{
// }} ""
// {{{ 2391 1 0 "1e293959_f133_460b_96e9951c49f222c0" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_FunctionError(strFunctionName, Translate("No more sequence positions!"));
// }} ""
// {{ 2392 1 0 "c5e32cea_9e14_4caf_a39f68efe4094027" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 2393 1 0 "2336afa9_3aa1_4221_b3d6f0f8f12e28da" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 2394 1 0 "e06fb03b_67e3_4615_b7ce2e6dcd94ce18" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 2395 1 0 "1b727ac6_3e26_4560_823be74692eec0a4" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
HELPERLIBRARY::GetLabwareOrigin(ML_STAR, str_LabID, flt_X_Origin, flt_NotUsed, flt_NotUsed);
// }} ""
// {{ 2396 1 0 "648ccba9_0abd_4813_a34e288bd7f688aa" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
flt_StartLocation = flt_X_Origin + i_flt_XOffsetFromOrigin;
// }} ""
// {{ 2397 1 0 "c3ae49b3_b48a_4e9d_93689c8b7f76643a" "ML_STAR:{55AA8CFA-FB6C-4691-8C8C-8D410E2123FD}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._55AA8CFA_FB6C_4691_8C8C_8D410E2123FD("c3ae49b3_b48a_4e9d_93689c8b7f76643a"); // XLMoveToPosition
}
// }} ""
// {{ 2398 1 0 "085d08f9_f5f0_47b4_b4aac0703ce04859" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 2399 1 0 "23766495_e37b_4719_adc8d795d912c3d0" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TRAVEL_LANES::MoveChannelsToSequencePosition_5mL(ML_STAR, i_seq_TargetSequence);
// }} ""
// {{ 2400 1 0 "cacc1d98_f665_4c7d_a03f70d8db17d145" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
Trace("");
Trace(strFunctionName_Cut," - FINISH");
Trace("===========================================================================");
// {{ 2402 1 0 "cacc1d98_f665_4c7d_a03f70d8db17d145" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "TRAVEL_LANES_MoveChannelsToYPosition_5mL" "End"
}
// }} ""
// {{{ 5 "Abstract" "Begin"
private function Abstract(  ) void {
// }} ""
// {{ 5 "Abstract" "InitLocals"
// }} ""
// {{ 1 1 0 "31e944e8_7392_4694_9fd14bcb4377f746" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 5 "Abstract" "End"
}
// }} ""
/* {{ 2 "SubmethodInsertLine" "" */ // }} ""
// {{{ 2 "LibraryNamespace" "End"
} // library namespace
// }} ""
// $$author=Bare_B$$valid=0$$time=2021-12-13 11:05$$checksum=4c2560a5$$length=085$$